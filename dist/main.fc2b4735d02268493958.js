!function(e){function t(t){for(var a,c,o=t[0],i=t[1],u=t[2],m=0,d=[];m<o.length;m++)c=o[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(s&&s(t);d.length;)d.shift()();return l.push.apply(l,u||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(l.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},l=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var s=i;l.push([541,1]),n()}({336:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA7MAAAUABAMAAABnvhi9AAAAJ1BMVEVHcEyhoaFZWVmIiIheXl6ZmZn///9NTU2Ojo63t7dHR0fW1tbs7Ox+yz7zAAAABXRSTlMA/v1WqVolZjgAAB0LSURBVHja7N09b1vnGQbgBEF+gAoolZFFqD1lSlBkV/9BNThhP5YOIRpYEyGAgDalYE3HXjyksKBMRgED3jLEiCEvGSrUsH9UZctOJJkf55Dvd697ThSHl+7zHD7nNfnee5fz+89vyrr5x3vl5YON3Y1NNGtm9/anxcl+trEBJkC+vV6eLJUgrf324adkG6V9tF2U7Idkg9GOR2XdQTEJNmvH45Jqu0skYGvH++XIvu89T1DaRzsux43SllPbz5Q27Kwdj3aUttHWjq+btK3SFrK2UNrwtAdF1PZDpQ0+a8+mbQm1/YxG+NaODwpYW3ygtDFoS9g2uomKQ1vAttH1OMqsLWFtobSRWpt9beH+OBbtQe7avg8jEm32hwT2FbFmbfa1hetxtNZm3jYatRFp89bWu9qItHlr611tvFmbeW3hLipma7NuG12Po9JmrO0HKOLS5ltbeOwTd9ZmXFu4QY7c2ny1RRubNttDgs9RRKbNdrbR29rIszbf2gJt9Nbm2jb+AUVs2ly19Tf04tNmOttIIvqszbVtBBG/tZm2jSRS0N5A2yrtwx20bc7aPGcbQaRobZaHBCSS0OZYW5BIQptjbUEixazNUlsQaVqbobYkEtGmX1uQSEU7QtvmrM1QWxCpWpv8kBSJZLSp1xYkktGmri2JZLM29dlGEOlam/hsI4mEtGnXFiQS0qbdNpJIN2sTf24jiIStTXu2kURK2qTbRhJpabfRtjlrkx6SApG0tSnPNpJISzv+N9pWadM9JCCRdNam3DaCSNzadNtGEqlpk20bSaSmTVZbEqlnbbJDUiCStzbVtpFEetpEtSWRgXYfbaOzNtHaAkSG1qapLYkctEnONpLIQZtk20giw6xNs7YAkaW1KbaNJLLQpjjbSCIPbYKzjSSyzNoU20YQeVqbYNtIIhftPtpWacc7aNuctfFrCyJba2M/JCCRjTb22oJENtrY20YS2WZt7IcEIPK1NnJtSWSkjbu2IJGTdoS20Vkbt7YgcrY26tqCRFbamGsLEllpY9aWRNZZG/NsI4i8rY24tiCRmTbe2oJEZtp4DwlI5J21Ec82gsjc2nhnG0nkpo22bSSRnTbWtpFE7lkb7TupQeRvbaRtI4n8tJG2jSQKoI1TWxL5Z22kbSOIAlobZ9tIogTaKLUlUQRtjNqSKGHWRllbgCiitTG2jSTKoI1QWxKF0O6jbXTWRlhbgCikteFrS6IU2uBnG0mUQht8bUGikFkbfm0BopjWhj7bSKIY2tBnG0mUQ/toG22bszb0thFEOa0dj7bRNkob9jupSRREG/Y7qUkUNGvD1hZESa0N+pCARFG0IbeNJMqiDbhtJFHSrA1aWxBltTZgbUkURhvukBSJ0mhHaBudteFqC6K01gY7JEWiONpQawsSxdGG2jaSKG7WhjrbCKK41oZaW5AokDbM2oJEgbRhzjaSKG/WBlpbgCiwtWHWFiSKpB2hbZZ2G22bszbI2gJEka0NcbaRRJm0AWpLokzaAA8JSBQ5a0NsG0EU2tr1t40kSqVdu7YkiqVdt7YkSp21a28bQRTb2nW3jSTKpV2ztiQKpt1H2+isXXNtAaLg1q63bSRRMO16ZxtJlEy71tqCRMGzdr21BYiiW7vO2UYSRdOus7YgUTbtGmsLEkXP2nVqC6Lw1q5+tpFE4bQHN9A2Srv6tpFE4bN29YcEIEpv7cq1JVE87arbRhLl0664bSRR/KxdtbYgym/tirUlUQHtattGEjXQjtA2OmtXqy2IGlq70tqCRBW0q6wtSFRBu8rZRhJVzNpVzjaCqKK1q6wtSFRC239tQaIS2v5nG0nUMWtXWFuAqKS1/dcWJKqhHaFtlnYbbZuztvfZRhDVtLbvtpFEPbQ9HxKQqIi2X21JVDNr+64tQFTU2n7bRhI10fZ6SECiJtqDEdo2Z22/bSOIqi7IfbaNJOqi7VFbEpXR7qNtdNb2WFuAqKy13c82kqiMtvvZRhK10XZeW5CobNZ23zaCqK61XR8SkKiOtuvagkR9tB3XFiSqm7VdawuiwtZ2O9tIokLabmcbSVRIOx7voG1z1nZ7SACiytZ2eUhAokraLmsLElXSdtk2kqhy1nZ5SACiztZ2ONtIok7aDttGErXSjtA2OmuX1xZEra1durYgUS3tsrUFiWpplz0kIFHtrB0/3EHbZmuXrS1IVEy7eNtIomLaxQ8JSNQ7a5esLUBU3NrFawsSVdOO0DZLu422zVm7cG0BourWLlpbkKibdkFtSdRNu+AhAYmqZ+2ibSOIyls7f9tIonbaubUlUTvt3LONJGqftXO3jSCqvyDP2zaSqJ92Tm1JNEC7j7bRWTvnb1KDCJ8/p5advW0E0QDt7IcEIMLny0fJba+jTZLfpqedtW0EET6/SU8762wjiCZoxw/Rtko7Y20BIny2ctCO0DZLu402QQ4y0L67tuAQYYn8yThHdtDGp/02C+0NtK3SXj3bCKKVdz/vbBs5RMggD+2VbSOHCNl8PC6gthzauUW+craRQzv3UVe2jRwauo+6vG3E0Myq8WptMTQ0bC+fbcTQ1LC9uG3E0NSwvfiQgEKcd7YHmVp74WwjhcauyNfRNnpFvrBthBAnG7nukX892wgh0hX5y2y1RRt7a/E417TdRtvqjdQIbeQMctX27dlGBPFqm3ltgaC92r7ZNhKIV9vbuW6Sb6CNvW3M9d529CnayLXN9QbofG0BIKbtN5lsX28bvf5R1423M55t9PLHHbe3H+e4l3p9ttGrH7m33zzOUtxttPFtp588zpCHaBPYbkx/lyE7aFPgXttInz+ibTVo0QpaQStoBa2gRStoBa2gFbSCFq2gFbSCVtAKWrSCVtAKWkEraAUtWkEraAWtoBW0aAWtoBW0glbQohW0glbQClpBK2jRClpBK2gFraBFK2gFraAVtIIWraAVtIJW0ApatIJW0ApaQStoBS1aQStoBa2gFbRoBa2gFbSCVtCiFbSCVtAKWkEraNEKWkEraAWtoEUraAWtoBW0ghatoBW0glbQClq0aNEKWkEraAWtoEUraAWtoBW0ghatoBW0glbQClq0glbQClpBK2gFLVpBK2gFraAVtGgFraAVtIJW0KIVtIJW0ApaQSto0QpaQStoBa2gRStoBa2gFbSCFq2gFbSCVtAKWrSCVtAKWkEraAUtWkEraAWtoBW0aAWt9M4u2gYzmJ5ngrY118Ojo+OTk6dH918Zo20GduP42fCXvHh6xjtB2wLs4QXX87x8unV2ad5EW1ImM7NI9vB4OCsvjrZiVhdt79zfmJVFsk+Gc7L34ju05eRwttKDubJ3Tofz87cJ2mLel/alPVwki7Yo2360g4+GaNu8IB8O0bbZ2sEXaBtt7eQUbaOtvTdE22ZrB0/QNtraO0O0bbZ22U0U2mpbu/R6jLbW1h4O0Tba2ntoG23tkiUj2npbu3zUoq111g7RNtraO2hbbe1dtK229p9oW23tR2gbbe3gX2gbbW2H9z5oK20tWq1FW1trT9G22lq0Wou2stYuf1qLttLW3kXbamvvoW21tYtWyHtoK27tgjMWL+7f3L32DG2trZ2/Qv5hOr05nU4Pj1+eoq2ytfNof3718TOvPj/qTHjzJtp2Wnvr4gcLTdDW2NrZK+S9B4n+oGjjtXY27VcTtI229r830Tba2p/Q1t/aU7Sttva036cQoa29tWi1Fq3WotVa0VqtRft/2tqbaLUWrdaiLaO1aLUWbXWtHaJttLUTrdVatLW1Fq07ZLS13SFrbautdUHWWrSXK6G17dGefyf3+Zdzx/rx08H8b/7W2liwk2vHz16+/m7fCF/dPPj1x++9PDnanPXLo7VxYA+PX176+zMnDwLiDqaHJ5d//Isf3sXV2ggZTD9+963i881puN+bGX+t7v7V353OrT1E+8uAu5orL+n0zrOZf/Pt6WAS5PfmePaK4cWDaU+xN3/8ORfkrYv/i5PmaU9m5vLv9/RP8z6G6dbW+q/Qgm/9Ht6f9mrt4PjNn3/Ohx1c/F/8sXna5Zeus4vxgs/8+G7di/J04bd+P73YrqWt7fLRjG/z99Zpl99LzpyDlz4dYr3OfrxY4PmF68Iu2oCt3Zp1/xTQdvCXZQR7v/58rQ1JO/l++Yv0wySi7OuLstaGvyBPOr1WP65qO7jbSeHnidaGbu2040v1YDXbwZ2ODD9NtLZvdhe2dvp9x5dpb2u1S0ZXib3z3x2tDdXajpfLV/l6lVupLl/r8fb980BrQ87ayWn3F+rn/pfkTrdQlz4GVWsDtbbD94SutZ+9M+z787U20Kzt99Lf6ntJnj7p9/MnWhuqtYN+L/3wP/0uyT0G+S93yVobZNb2fumH/e6S+wzy87vkgdaGae2070s//LpPbfsN8jcfw6e1IWbt4F7vl77XndSd/j9+b6K1IVo7OO3/2t/qXtseb2kvTFu0IWbtX4ervPYxS3t2xUcboLVbpyu99pOYpT0zRLv+rP1+uNprH7O0Z786aNdv7YrpWNsVS7v8Fwrt8lm7/qscobRoM7a2W21XeE+LNtisjVrbwyHa+lrb5dvMBl+grXDWdtkk994eoy2itR0eAN0boq1x1g73ltH2fViItpTWLv2epLtDtHXO2mUPCQKvK9AmbO2SG6nwv0toE83a4ZIvJbyHtt7WLrwih7+JQpvu+rhwI3U4RFtvaxdupL5AW/GsXfTWNsb1GO2arX39UVHT6c1rJ6drXJGXX4/3Tu6/+rCRye5Rh/8Q2vVn7fPv3nwszeTsVb/2ZOVXbdn98d7RYDp5VfrB2e/R5OhJRNqvtHb4+kN+zlx33/4r08nxivfIy/YVz89gL/zT0+WftnCF9s2fcd6B5c0Lf5ZNs/Z/7N3BbtvGFofxZ+giFw7al9LCAYt200UEBNZLaEGDgrzpooGM3JfIokaCdNNFjRTxQ107TXtjmzM8h6TVOPp9QHaSxczH/5zhcDi82azirqrybkP1WYum/kP3d7Pp1hfLEf1/cXX155+R2t7tg+o7AhVXrVbnjz89H33nZAg8Xm23t3G1trfBb/YquMyvo6mvnCn80LBbaseldlfouKr7UBQuf6qjnNJeJ8Nu7xtbUDtca8uby1Qfat+lL33Kj9UPbmYitWNSW1uh2L1M3rRdVEpt7cnroZ0RpHZErT1pjsfNB/fONdbWu1VbvXsptXOndle9Qmh+zF3ZVq5qBxZCrqV25lo7tGC88nh17+eLH1819R8aGFpLbTq1g02xTV3ZbsYvg6wucJXadK0dXi5evpp5nplAXg3uXlNdli616dQOt0S52vb05eVSO3wOLTZSO2OtDexfsFgnJi3KEQ80eW2XKanNpvZ94NvlJPZ89nL8OVS9HSi12Vob2gdqOzlKsXOodqBSm0xtcD+Z+BB5O6E/rl4US22y1oayVG7x+6uRT6edQ2dSO1dqg+1wFh0iF6cdgouU1lI7U62N7u+1jg6RiwPkYIOXe2SpzaX2eVBt0VgTHCCvgj9U7NClNllrozu3FeeJdsF4/xRVu5HaeVLbRP/ANnhubCaeQ+XrYqlN1dr4DrhtUNl2yuVztdhKbSq14W6yWGyfx4bS4VJbHoxLbarWxjdJLV3U3D05nk3tHopdutSmUpvYbf4s5KzUnb6ffqxSm6mUiW6yFKY7F8alfjvR3PE/IbXlJGTeI1AaucbUPkn80H+kdnqt/amdHqajubuH0qSF1GZSm6mApSq6m7t7KF0/SW2m1qYaIRSm9fTuIR5GqS2HKfU6pm3k+mkzvXsYfEW21AZqbSZLJWtv8v7HVXWpTQThJKV2HQnkdobWDquV2mKtTQ1uSv3kH5GJjVTPXxiwSW1CS2pwU7qwvX3H93SGnr8wWSm1iVqbVHsR+COn0y9rS9GX2kRqc+PWQj95q1cvzCTlinqhYEttotY+gNqXcxT1rdROTe2bnNr/7EvtRmqn1tqc2sLo5iSg9qeHUSu1xdQm2+B0tNrnObVrqZ1aa5NtcDZeba6PWUvtnlM7Xm1ye9OF1E6ttUfzq70IzFjN1sdIbTG1s6hdBdS+f5g+RmqLOUiq3e5LrdROzsGTL1Rt//ZEUvtwtXZvahup3XOt3aq1X2utNUI+6Ovaizlmo6R2cq3d25RFMrVmox7PbFQytWajHqB6VRl/eyB550dqJ6d2lpt6L+ZX637t5Fr7hd6KX7hfOzm1j30BjdQe73Ft1F6XvUltMbW5geuXt1hVaudahxxZYn62zyXmUltM7WN/MERqi7X2S32cyzM/kxOXK4GhhzBDHxpX1KU2UWuXMwxuHuDR6UJRl9pMnUw1wrMvbsMDqS3W2lQ/OWmbkkxVL70RRmrHj25HVcC7e7NeTq/qZ1I7vdZm+snYjlCx3aXq2DdqhtRm+sngRn4vJ3f9wZ5faquRy8wSxbbfPO6fRF4+nzxAltpUahOtUMrS3T79NHYG5AfIUpuqtZn9kC9icZy+1fV2KbUzpDY+jloHT47N5P7hVGrnqLXxcVT0tRKF5o7PR3n3wDypDV+UFF+6tQueRPFiu5TaOWpt/D0/hVK7jH4wXGynv3RTalPFdhPt0Y9eTiu25XeKS22q1obDFH5dYukuQvQkyry0WmprqQ32yMUGv7+86mzaSVR+W7zU5mptMEzr+JmReCdeqj+W2mxqY2E6i7d38SwKrZ8s98dSm6y1sR653OCJz4ZOou1SaudKbWjWYpPIfPndwoGTqPKqeKnN1tpISxTnK3onIp4tx89abJZSO19qAy3eXRbrZ6pPbcafQ1I7otYON0XzY6pQTxiNb5ZSO2dqB6vtuhja3inoyiD3aHylPczUPvn0b2Stvc5eO7KX7B30Vj4/0PdXQ3uIqW26ru26bnxql6ujkQ3e38NuR55E3cVSam+J/f7d1eXVh7dVufXULk8q320rDd5/E3Yx7iRqvltK7eftsf7t71b7uRub2uXy9+J3u5fpAVhzWRmOF3+o2S6XUvtZe2w+a8bX3chaW/7uovu29q0Ro6HSSXTrfyK113XwVnu8bsemtuS2+WE54or4rPalX/t/aD1k9sBSe3fgsRtZa294290X1VXN9k5YVNJUOYm6wcweWGrvzSWUh0PDapd/HnV3R2jfZht78Mr240nU3D2JuqfDZg8rtffP2j/akbX240DsdfdZcpvunxFa9lZOc1r/4oejrl3832vX/hY5vENKbc/cQLG1lyFOzq8vkrvm+OY6efFq6NPlCYjNYO//y/UvtO3N73RPX10ux6n9elPbxm+ctcsgqw9vz79ZfHP+6mr4s+Wlxc2wrKvr33nyzdPzd1fRQzuk1J4lkrR8AI7G3cEZywGltn+wcjS+1iap3VXY7kXtV5vaTWYpwwM0dW2tU3MptRNC+yzR4O1eUjR4cFI7oT8udZP77Y8DY2SpzTfevmptfe3pwKyF1GbHx+X/2H7742u1Z1I7uj9+mVkS2u65Px6aR5baMT3e+/2kduhZgPo6J6ktU66efYtaHqDWDj5zvZHakWxzM7tzt/Pw4uXZB1IHU2vPUo0+e2qHH/JotlI7jtPc+GbmZo48mjV3bA8lteUJ+JN91No/2ikdi9SOU7vaR2pDG9d0l1I752Vtv9p234OoG45+lNpHl9rgblPtpdSO4N+staFKO/ts48GMkJ/NMUJ+NaqNT7rJU2ZVfnddO/269uhinvjkJ1aqF1YHntrNHLNRu+2DjaE+DZJHnDtvDv6NIXPMIe9GTOKvmsRBNvmZ5JN2feCpneXOz27EJP6uTR3md/kpzENPbfHqJ3O/dpe/9/Z7mzvObJf8ol0cempnWWWxqz8ZPWl0PO7m3s2z1Qdfa0tN1peqRXnQmauGq3yz5brkN+2x1BaKbWH8Wm6EVNP/2uYPNNMlfzx679Q7DQ+QK7X2eGBLg9u8bsecg+uw24+jb6md4+mBvxph+IH0T/zZjetfwn3+X6PvxcGntr9H7v3oojrB02xibl90Y4/0h1SnILXN9Cf1dplY/dmMPtShx+tvnzpSu+i71V34bw1My0Zi9aKZcKwRtydNNoxf8V4Wz+JrlgYaofn2geps3O3qn2kuqe0b/xQGUYvBmylDTf+2m3isg27ftMdSWx6elJ/WGGyErnZ5u/qlm3yw3eYiOIEptcfT9436/PNd+b78h6N2jhOx/W9s9N2+Pe/j/qqdxXnwg49Q7fHt2YDKXFHg/C51mavXXTtPJ9M9/S1Uybte+k7t6AcfodpbMz1ls4vQwoXu+54uc/W2ma+tmrZ376+TuzuHLo6f3Kfv/9XL16H22u3f/eiHX/I7q+4GYrX6cN7MG4Lu+icu7/zGz3sM2iNSe5O1V++uPrz7udprRpcbNd3i/PrPXV2trv/k259vdtGe/WTs2qev3t3s4Xx1/RvXlfGxit3DLuahChMeSzZ7qFq3KmN7vKB2wsRV+y9fJnydfMlvDKH28auVWqmFWguppVatpVZqqVVrpRZqLaSWWrWWWqmlVq2VWmrVWkgttWottVJLrVortdSqtZBaatVaaqWWWrWWWqlVayG1UGuplVpq1VpqpVatpVZqodZSK7XUqrXUSq1aS63UQq2lVmqpVWuplVpq1VqphVoLqaVWraVWaqlVa6UWai2kllq1llqppbbCVS/UfgVq+9/02tLz+NWCWlALaqkFtaAW1IJaUEstqAW1oBbUglpqQS2oBbWgFtRSC2pBLagFtaAW1FILakEtqAW1oJZaUAtqQS2oBbXUglpQC2pBLagFtdSCWlALakEtqKUW1IJaUAtqQS21oBbUglpQC2qp1QbUglpQC2pBLailFtSCWlALakEttaAW1IJaUAtqqQW1oBbUglpQC2qpBbWgFtSCWlBLLagFtaAW1IJaakEtqAW1oBbUglpqQS2oBbWgFtRSC2pBLagFtaCWWlALakEtqAW11IJaUAtqQS2oBbXUglpQC2pBLailFtSCWlALakEttaAW1IJaUAtqQS21oBbUglpQC2qpBbWgFtSCWlBLLagFtaAW1IJaakEtqAW1oBbUglpqQS2oBbWgFtRSC2pBLagFtaCWWlALakEtqAW1oJZaUAtqQS2oBbXUglpQC2pBLailFtSCWlALakEttdRSC2pBLagFtaCWWlALakEtqAW11IJaUAtqQS2opRbUglpQC2pBLailFtSCWlALakEttaAW1IJaUAtqqQW1oBbUglpQC2qpBbWgFtSCWlBLLagFtaAW1IJaakEtqAW1oBbUUgtqQS2oBbWgFtRSC2pBLagFtaCWWlALakEtqAW11IJaUAtqQS2oBbXUglpQC2pBLailFtSCWlALakEttaAW1IJaUAtqqdUG1IJaUAtqQS2opRbUglpQC2pBLbWgFtSCWlALaqkFtaAW1OJ/7dnLbcMwEEXRCYLsQwjqg4KcQrRMXW441MI24E/2ej63BB5wOILQCq3QohVaoRVaoRVatEIrtEIrtEKLVmiFVmiFVmiFFq3QCq3QCq3QohVaoRVaoRVatEIrtEIrtEKLVmiFVmiFVmiFFq3QCq3QCq3QohVaoRVaoRVatEIrtEIrtEIrtGiFVmiFVmiFFq3QCq3QCq3QohVaoRVaoRVatEIrtEIrtEIrtGiFVmiFVmiFFq3QCq3QCq3QvjPt5hAi29AG39rFIWTe2o4WrQ5H++MUMuv1NTuFxOaqD7SRtapPtJFNVYU2su9B2xxD4oK80/r6Cf32sUeF0hba3AXZHpW7RdmjYreoMZGdROYW5bHNfWo9trFPrS/b2HlsIufOY38I4poutCZyWL/9Smsihz21dQtt5H5sIsfuxxapNNmpyrXNv7SubVLnKtf2HS7tuLZ+7UW+tL5tc2r12MI2QbY/oTWSM8cx22TZ8dw2MzlTdv+6dXEPDDu/lh22ywb3oLBtW+vf1pNTOmbr/W78BzMaBurAO1cxAAAAAElFTkSuQmCC"},389:function(e,t,n){},391:function(e,t,n){e.exports=n.p+"30b06592d8cbb82074ce893bd2288cf0.png"},540:function(e,t,n){},541:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(31),c=n.n(l),o=n(25),i=n.n(o),u=n(2),s=n.n(u),m=n(337),d=n(572),p=n(184),f=n(7),g=n(299),h=n.n(g),E=n(17),b=n(6),v=n(14),y=n(565),x=n(566),S=n(11),_=n.n(S),w=n(8),k=n.n(w),N=n(577),C=n(563);n(243);function B(){var e=k()(["\n  background-image: ",";\n  width: 50%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n  align-items: center;\n  justify-content: center;\n"]);return B=function(){return e},e}var O=Object(C.a)((function(e){return{setupPageTitle:{color:e.palette.white,margin:"0 auto",textAlign:"center",paddingBottom:"7%",fontWeight:"600"},setupPageLogo:{color:"#fff",border:"2px solid #fff",margin:"0 auto",marginBottom:"2%",height:"130px",textAlign:"center",width:"130px",background:"transparent"},setupPageSubtitle2:{color:e.palette.white,textAlign:"center",display:"inline-block",width:"79%",margin:"0 auto"}}})),P=f.c.section(B(),(function(e){return e.theme.vGradient})),T=function(e){var t=O(),n=e.type,a=localStorage.getItem("".concat(n,"_name"));return r.a.createElement(P,null,r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(N.a,{alt:"bank logo",src:"",className:t.setupPageLogo},r.a.createElement(x.a,{style:{fontWeight:"bold",fontSize:"23px"}},a.toUpperCase())),r.a.createElement(x.a,{className:t.setupPageTitle,variant:"h1"},"E-WALLET"),r.a.createElement(x.a,{variant:"h5",className:t.setupPageSubtitle2},"Welcome to E-wallet ",r.a.createElement("br",null),"Create your wallet for easy transferring ",r.a.createElement("br",null),"of money to your friends and family")))};T.propTypes={type:_.a.string.isRequired};var I=T,R=n(9),L=n.n(R),D=Object(C.a)((function(e){var t;return{root:{flexGrow:1},setupPageLeftSide:(t={background:e.palette.vGradient,height:"100vh",overflow:"hidden"},L()(t,e.breakpoints.down("sm"),{display:"none"}),L()(t,e.breakpoints.down("xs"),{display:"none"}),t),setupPageRightSide:{marginTop:"5%",paddingLeft:"10%",paddingRight:"10%",overflow:"hidden"},textField:{border:"1px solid ".concat(e.primary)},signInButton:{backgroundColor:e.primary,marginTop:"7%",padding:"0px",fontSize:"24px",color:"#fff",width:"70%","&:hover":{background:"#1c3302"}}}}));function M(){var e=k()(["\n  min-width: ",";\n  min-width: ",";\n  padding: ",";\n  padding: ",";\n  padding: ",";\n  text-align: center;\n  border-radius: ",";\n  float: ",";\n  background-color: ",";\n    background-color: ",";\n  background-color: ",";\n  background-color: ",";\n  background-color: ",";\n  border: ",";\n  border: ",";\n  color: ",";\n  color: ",";\n  font-size: ",";\n  font-size: ",";\n  font-size: ",";\n  font-size: ",";\n  font-weight: ",";\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n  margin-bottom: ",";\n  position: ",";\n  bottom: ",";\n  right: ",";\n  > i {\n    font-size: 13px;\n  }\n  &.toggle {\n    border: 1px solid ",";\n    color: ",";\n  }\n  &.active {\n    background-color: ",";\n    color: #ffffff;\n  }\n\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}var z=f.c.button(M(),(function(e){return e.filledBtn||e.dashBtn||e.smallDashBtn?"100%":"110px"}),(function(e){return e.noMin?"0":"sdd"}),(function(e){return e.accentedBtn?"7px":"5px"}),(function(e){return e.padding?e.padding:"5px"}),(function(e){return e.dashBtn?"8px":"5px"}),(function(e){return e.dashBtn?"8px":"5px"}),(function(e){return e.float?e.float:"none"}),(function(e){return e.filledBtn?e.theme.primary:"#fff"}),(function(e){return e.smallDashBtn?"#50e3c2":"sdf"}),(function(e){return e.dashBtn?"#97bfee":"sdf"}),(function(e){return e.accentedBtn?e.theme.accent:"sdf"}),(function(e){return e.accentedOutline?"transparent":"sdf"}),(function(e){return e.accentedBtn||e.dashBtn||e.smallDashBtn?"none":"1px solid #417505"}),(function(e){return e.accentedOutline?"1px solid ".concat(e.theme.primary):"sd"}),(function(e){return e.filledBtn||e.accentedBtn||e.dashBtn||e.smallDashBtn?"#fff":e.theme.primary}),(function(e){return e.accentedOutline?e.theme.accent:"sd"}),(function(e){return e.filledBtn?"20px":"11px"}),(function(e){return e.dashBtn||e.smallDashBtn?"small":"sdf"}),(function(e){return e.accentedBtn?"16px":"sdf"}),(function(e){return e.fontSize?"props.fontSize":"sdf"}),(function(e){return e.filledBtn||e.accentedBtn||e.dashBtn||e.smallDashBtn?"bold":"normal"}),(function(e){return e.flex?"flex":"block"}),(function(e){return e.marginTop?e.marginTop:"0"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.bottomRight?"absolute":"relative"}),(function(e){return e.bottomRight?"2px;":"0"}),(function(e){return e.bottomRight?"2px;":"0"}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.filledBtn&&":hover{background-color: #1c3302}"}),(function(e){return e.dashBtn&&":hover{background-color: #5d87f1}"}),(function(e){return e.smallDashBtn&&":hover{background-color: #1bceaa}"}));function W(){var e=k()(["\n  width: 100%;\n  position: relative;\n  z-index: 1;\n  background: transparent;\n  box-sizing: border-box;\n  padding: ",";\n  border: solid 1px rgba(0, 0, 0, 0.32);\n  border-radius: 4px;\n  display: block;\n  margin-bottom: ",";\n  margin-top: ",";\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return W=function(){return e},e}var F=f.c.input(W(),(function(e){return e.noPadding?"3px 3px":"10px 16px"}),(function(e){return e.noMargin?"0":"14px"}),(function(e){return e.marginTop?"14px":"0px"}),(function(e){return e.theme.primary})),A=n(19),j=n.n(A),q=n(20),V=n.n(q),H=n(13),U=n.n(H),J=n(21),X=n.n(J),G=n(22),Z=n.n(G),Q=n(15),Y=n.n(Q),K=n(78),$=Object(K.a)();function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function te(){var e=k()(["\n  display: inline-block;\n  cursor: pointer;\n  float: ",";\n  text-decoration: none;\n  color: ",";\n  font-weight: bold;\n  font-size: 14px;\n"]);return te=function(){return e},e}var ne=f.c.span(te(),(function(e){return e.float?e.float:"none"}),(function(e){return e.theme.primary})),ae=function(e){X()(n,e);var t=ee(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"goTo",(function(e){$.push(e)})),e}return V()(n,[{key:"render",value:function(){var e=this;return r.a.createElement(ne,{float:this.props.float,onClick:function(){return e.goTo(e.props.href)},className:"pointer anchor"},this.props.children)}}]),n}(a.Component);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function le(){var e=k()(["\n  position: ",";\n  width: 100%;\n  height: ",";\n  z-index: 99999;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: ",";\n    height: ",";\n    div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: ",";\n      height: ",";\n      margin: ",";\n      border: 8px solid #fff;\n      border-radius: 50%;\n      animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #fff transparent transparent transparent;\n    }\n    div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return le=function(){return e},e}var ce=f.c.div(le(),(function(e){return!0===e.fullPage?"fixed":"relative"}),(function(e){return!0===e.fullPage?"100%":"23px"}),(function(e){return!0===e.fullPage?"#102910":"transparent"}),(function(e){return!0===e.fullPage?"80px":"10px"}),(function(e){return!0===e.fullPage?"80px":"10px"}),(function(e){return!0===e.fullPage?"64px":"8px"}),(function(e){return!0===e.fullPage?"64px":"8px"}),(function(e){return!0===e.fullPage?"8px":"0"})),oe=function(e){X()(n,e);var t=re(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){return r.a.createElement(ce,{fullPage:this.props.fullPage},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),n}(a.Component);function ie(){var e=k()(["\n  display: block;\n  position: relative;\n  margin-right: ",";\n  margin-left: ",";\n  margin-bottom: ",";\n  text-align: ",";\n  > label {\n    position: absolute;\n    top: 11px;\n    left: 13px;\n    z-index: 0;\n  }\n  > label.focused {\n    top: -7px;\n    left: 15px;\n    color: ",";\n    background: ",";\n    display: block;\n    font-size: 10px;\n    padding: 0 5px;\n    z-index: 2;\n  }\n"]);return ie=function(){return e},e}var ue=f.c.div(ie(),(function(e){return e.mR?e.mR:"0"}),(function(e){return e.mL?e.mL:"0"}),(function(e){return e.mB?e.mB:"0"}),(function(e){return e.textAlign?e.textAlign:"left"}),(function(e){return e.theme.primary}),(function(e){return e.background?e.background:"#f5f5f5"}));function se(){var e=k()(["\n  padding: 5px;\n  color: red;\n  font-size: 12px;\n"]);return se=function(){return e},e}var me=f.c.div(se());function de(e){e.target.parentElement.querySelector("label").classList.add("focused")}function pe(e){var t=e.target;""===t.value&&t.parentElement.querySelector("label").classList.remove("focused")}var fe=function(e,t){"update"===e?document.querySelectorAll("label").forEach((function(e){e.classList.add("focused")})):t&&document.querySelectorAll("label")[t].classList.add("focused")},ge=n(5),he=n.n(ge),Ee="http://91d90ac373dc.sn.mynetname.net:30301/api/merchant",be=" http://91d90ac373dc.sn.mynetname.net:30301/api",ve="http://91d90ac373dc.sn.mynetname.net:30301/api/uploads/",ye="http://91d90ac373dc.sn.mynetname.net:2020/ipfs/",xe=n(18);n(389);xe.a.configure({position:xe.a.POSITION.BOTTOM_RIGHT,autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var Se=function(e,t){if(e&&t)switch(t){case"success":xe.a.success(e);break;case"warn":xe.a.warn(e);break;case"error":xe.a.error(e);break;default:Object(xe.a)(e)}},_e=function(e,t,n){switch(e){case"merchant":return"/merchant/".concat(t,"/").concat(n);case"branch":return"/merchant/branch/".concat(t,"/").concat(n);case"cashier":return"/merchant/cashier/".concat(t,"/").concat(n);default:return"/"}},we=function(e){switch(e){case"merchant":return"merchant";case"branch":return"merchantBranch";case"cashier":return"merchantStaff";default:return"merchant"}},ke=function(e){var t="";switch(e.type){case"merchant":t="".concat(Ee,"/login");break;case"branch":case"cashier":t="".concat(be,"/").concat(we(e.type),"/login");break;default:t="".concat(Ee,"/login")}he.a.post(t,e.values).then((function(t){200===t.status&&(0===t.data.status?Se(t.data.message,"error"):function(e,t){console.log(t);var n=localStorage.getItem("".concat(e,"_name"));switch(e){case"merchant":localStorage.setItem("merchantLogged",JSON.stringify(t.data)),0===t.data.details.status?$.push("/merchant/".concat(n,"/login-verify")):$.push("/merchant/dashboard");break;case"branch":localStorage.setItem("branchLogged",JSON.stringify(t.data)),0===t.data.details.status?$.push("/branch/".concat(n,"/login-verify")):$.push("/branch/dashboard");break;case"cashier":localStorage.setItem("cashierLogged",JSON.stringify(t.data)),console.log(t),0===t.data.status?$.push("/cashier/".concat(n,"/login-verify")):"staff"===t.data.position.type?$.push("/staff/dashboard"):$.push("/cashier/dashboard")}}(e.type,t))})).catch((function(e){Se("Something Went Wrong","error")}))},Ne=n(309),Ce=n.n(Ne),Be=n(308),Oe=n.n(Be),Pe=n(574),Te={username:"",password:""},Ie=v.c().shape({username:v.e().required("Required"),password:v.e().required("Required")}),Re=function(e){var t=D(),n=r.a.useState("/merchant/forgot-password"),l=s()(n,2),c=l[0],o=l[1],i=r.a.useState(!1),u=s()(i,2),m=u[0],d=u[1],p=r.a.useState(!1),f=s()(p,2),g=f[0],h=f[1],v=e.type,S=e.match.params.name;localStorage.setItem("".concat(v,"_name"),S);return Object(a.useEffect)((function(){o(_e(v,S,"forgot-password"))})),r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null," Login | ",v.toUpperCase()," | E-Wallet"),r.a.createElement("meta",{name:"description",content:"Description of SignIn Page"})),r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,md:6,className:t.setupPageLeftSide},r.a.createElement(I,{type:v})),r.a.createElement(y.a,{item:!0,md:6,sm:12,xs:12,className:t.setupPageRightSide},r.a.createElement(x.a,{variant:"h4",style:{fontWeight:"600"}},"Login to your account"),r.a.createElement(x.a,{variant:"subtitle2",style:{fontSize:"14px",color:"#9ea0a5",paddingTop:"1%",paddingBottom:"7%"}},"Use your Mobile number to Login"),r.a.createElement(b.d,{initialValues:Te,validationSchema:Ie,onSubmit:function(e){var t={values:e,type:v};d(!0),ke(t),d(!1)}},(function(e){e.isSubmitting;var t=e.handleBlur,n=e.handleChange;return r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(b.b,{onFocus:function(e){n(e),de(e)},onBlur:function(e){t(e),n(e),pe(e)},noMargin:!0,name:"username",type:"text",as:F}),r.a.createElement(b.a,{name:"username",component:me})),r.a.createElement(ue,{mB:"14px"},r.a.createElement("div",{style:{backgroundColor:""}},r.a.createElement(Pe.a,{name:"password",label:"Password",style:{width:"100%",color:"",borderColor:"",backgroundColor:""},type:g?"text":"password",margin:"normal",variant:"outlined",as:F,onChange:function(e){n(e)},required:!0}),r.a.createElement("span",{onClick:function(){h(!g),console.log("click")},style:{position:"relative",top:"-40px",left:"90%"}},r.a.createElement("i",null,g?r.a.createElement(Oe.a,null):r.a.createElement(Ce.a,null))),r.a.createElement(b.a,{name:"password",component:me}))),r.a.createElement(z,{filledBtn:!0,variant:"contained",type:"submit",style:{padding:"2%",marginTop:"5%"}},m?r.a.createElement(oe,null):"SIGN IN"),r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,md:6,sm:12,xs:12},r.a.createElement(x.a,{style:{fontSize:"14px",paddingTop:"5%"}},r.a.createElement(ae,{href:c},"Forgot password?")))))})))))};Re.propTypes={type:_.a.string.isRequired};var Le=Re,De={newPassword:"",repeatPassword:""},Me=v.c().shape({newPassword:v.a().required("Please enter the new password!"),repeatPassword:v.a().when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:v.e().oneOf([v.d("newPassword")],"Passwords do not match")}).required("Please repeat the  new password!")}),ze=function(e){var t=D(),n=e.type,l=Object(a.useState)(!1),c=s()(l,2),o=(c[0],c[1],Object(a.useState)(!1)),i=s()(o,2),u=(i[0],i[1],localStorage.getItem("".concat(n,"_name")));return r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Change Password | $",n.toString().toUpperCase()," | E-WALLET"),r.a.createElement("meta",{name:"description",content:"Description of SignUp page"})),r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,md:6,className:t.setupPageLeftSide},r.a.createElement(I,{type:n})),r.a.createElement(y.a,{item:!0,md:6,sm:12,xs:12,className:t.setupPageRightSide},r.a.createElement(x.a,{variant:"h4",style:{fontWeight:"600"}},"Change Password"),r.a.createElement(x.a,{variant:"subtitle2",style:{fontSize:"14px",color:"#9ea0a5",paddingTop:"1%",paddingBottom:"7%"}},"Enter your new password"),r.a.createElement(b.d,{initialValues:De,validationSchema:Me,onSubmit:function(t){!function(e,t){var n=localStorage.getItem("".concat(t,"_name"));he.a.post("".concat(be,"/").concat(we(t),"/changePassword"),e).then((function(e){if(200===e.status)if(0===e.data.status)Se(e.data.error,"error");else{var a=e.data.message.concat(". Redirecting you to login page!");Se(a,"success");var r=_e(t,n,"login");setTimeout((function(){$.push(r)}),2e3)}})).catch((function(e){Se("Something Went Wrong","error")}))}({type:e.type,password:t.newPassword,name:u},n)}},(function(e){var t=e.isSubmitting,n=e.handleBlur,a=e.handleChange;return r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px"},r.a.createElement("label",{htmlFor:"newPassword"},"New Password"),r.a.createElement(b.b,{noMargin:!0,name:"newPassword",type:"password",onFocus:de,onBlur:pe,as:F}),r.a.createElement(b.a,{name:"newPassword",component:me})),r.a.createElement(ue,{mB:"14px"},r.a.createElement("label",{htmlFor:"repeatPassword"},"Repeat Password"),r.a.createElement(b.b,{noMargin:!0,name:"repeatPassword",type:"password",onFocus:function(e){a(e),de(e)},onBlur:function(e){n(e),a(e),pe(e)},as:F}),r.a.createElement(b.a,{name:"repeatPassword",component:me})),r.a.createElement(z,{filledBtn:!0,variant:"contained",type:"submit",style:{padding:"2%",marginTop:"5%"}},t?r.a.createElement(oe,null):"SIGN IN"))})))))};ze.propTypes={type:_.a.string.isRequired};var We=ze;function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je={mobile:""},qe=v.c().shape({mobile:v.e().min(10,"Minimum 10 digits required.").max(10,"Maximum 10 digits only.").required("Required")}),Ve=function(e){var t=D(),n=e.type,l=e.match.params.name,c=r.a.useState(!1),o=s()(c,2),i=o[0],u=o[1];return localStorage.setItem("".concat(n,"_name"),l),r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"OTP Forgot Password | $",n.toUpperCase()," | E-WALLET"),r.a.createElement("meta",{name:"description",content:"Description of Forgot Password page"})),r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,md:6,className:t.setupPageLeftSide},r.a.createElement(I,{type:n})),r.a.createElement(y.a,{item:!0,md:6,sm:12,xs:12,className:t.setupPageRightSide},r.a.createElement(x.a,{variant:"h4",style:{fontWeight:"600"}},"Forgot Password"),r.a.createElement(x.a,{variant:"subtitle2",style:{fontSize:"14px",color:"#9ea0a5",paddingTop:"1%",paddingBottom:"7%"}},"Use your Mobile number to get OTP"),r.a.createElement(b.d,{initialValues:je,validationSchema:qe,onSubmit:function(e){var t=Ae(Ae({},e),{},{user_type:n});u(!0),function(e,t){var n=localStorage.getItem("".concat(e,"_name"));he.a.post("".concat(be,"/").concat(we(e),"/forgotPassword"),t).then((function(a){if(200===a.status)if(0===a.data.status)Se(a.data.message,"error");else if(1===a.data.status){Se("Redirecting you to OTP page!","success"),localStorage.setItem("otpNo_".concat(e),t.mobile);var r=_e(e,n,"otp-forgot-password");setTimeout((function(){$.push(r)}),2e3)}})).catch((function(e){Se("Something Went Wrong","error")}))}(n,t),u(!1)}},(function(e){var t=e.handleChange,n=e.handleBlur;return r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px"},r.a.createElement("label",{htmlFor:"mobile"},"Mobile No"),r.a.createElement(b.b,{noMargin:!0,name:"mobile",type:"number",onFocus:function(e){t(e),de(e)},onBlur:function(e){n(e),t(e),pe(e)},as:F}),r.a.createElement(b.a,{name:"mobile",component:me})),r.a.createElement(z,{filledBtn:!0,variant:"contained",type:"submit",style:{padding:"2%",marginTop:"5%"}},i?r.a.createElement(oe,null):"Get OTP"))})))))};Ve.propTypes={type:_.a.string.isRequired};var He=Ve;function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={otp:""},Ge=v.c().shape({otp:v.b().required("Required")}),Ze=function(e){var t=D(),n=e.type,l=r.a.useState(!1),c=s()(l,2),o=c[0],i=c[1],u=localStorage.getItem("".concat(n,"_name"));return r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"OTP Forgot Password | $",u.toUpperCase()," | E-wallet"),r.a.createElement("meta",{name:"description",content:"Description of Forgot Password page"})),r.a.createElement(y.a,{container:!0,direction:"row",justify:"center",alignContent:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0,md:6,className:t.setupPageLeftSide},r.a.createElement(I,{type:n})),r.a.createElement(y.a,{item:!0,md:6,sm:12,xs:12,className:t.setupPageRightSide},r.a.createElement(x.a,{variant:"h4",style:{fontWeight:"600"}},"Enter OTP"),r.a.createElement(x.a,{variant:"subtitle2",style:{fontSize:"14px",color:"#9ea0a5",paddingTop:"1%",paddingBottom:"7%"}},"Enter the OTP received on your Mobile Number"),r.a.createElement(b.d,{initialValues:Xe,validationSchema:Ge,onSubmit:function(e){var t=Je(Je({},e),{},{user_type:n});i(!0),function(e,t){var n=localStorage.getItem("otpNo_".concat(e));t.mobile=n;var a=localStorage.getItem("".concat(e,"_name"));he.a.post("".concat(be,"/").concat(we(e),"/verifyForgotPasswordOTP"),t).then((function(t){if(200===t.status)if(0===t.data.status)Se(t.data.message,"error");else if(1===t.data.status){Se(t.data.message,"success"),localStorage.removeItem("otpNo_".concat(e)),Se("Generated password sent via SMS!","success"),Se("Redirecting you to Login page!","success");var n=_e(e,a,"login");setTimeout((function(){$.push(n)}),4e3)}})).catch((function(e){Se("Something Went Wrong","error")}))}(n,t),i(!1)}},(function(e){return r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px"},r.a.createElement("label",{htmlFor:"otp"},"OTP"),r.a.createElement(b.b,{noMargin:!0,name:"otp",type:"number",onFocus:de,onBlur:pe,as:F}),r.a.createElement(b.a,{name:"otp",component:me})),r.a.createElement(z,{filledBtn:!0,variant:"contained",type:"submit",style:{padding:"2%",marginTop:"5%"}},o?r.a.createElement(oe,null):"SUBMIT"))})))))};Ze.propTypes={type:_.a.string.isRequired};var Qe=Ze,Ye=n(1),Ke=n.n(Ye),$e=n(4),et=n.n($e),tt=n(30),nt=n.n(tt);function at(){var e=k()(["\n  display: flex;\n  box-sizing: border-box;\n  margin-right: ",";\n  margin-left: ",";\n  margin-top: ",";\n  flex-direction: row;\n  align-items: ",";\n  text-align: ",";\n  justify-content: ",";\n"]);return at=function(){return e},e}var rt=f.c.div(at(),(function(e){return e.mR?e.mR:"0"}),(function(e){return e.mL?e.mL:"0"}),(function(e){return e.marginTop?"24px":"0"}),(function(e){return e.vAlign?e.vAlign:"center"}),(function(e){return e.textAlign?e.textAlign:"center"}),(function(e){return e.justify?e.justify:"center"}));function lt(){var e=k()(["\n  text-align: ",";\n  text-align: ",";\n  width: ",";\n  margin-right: ",";\n  margin-left: ",";\n  position: relative;\n  &:last-child {\n    width: ",";\n    margin-right: ",";\n    margin-left: ",";\n  }\n"]);return lt=function(){return e},e}var ct=f.c.div(lt(),(function(e){return e.textRight?"right":"left"}),(function(e){return e.textAlign?e.textAlign:"sd"}),(function(e){return e.cW?e.cW:"48%"}),(function(e){return e.mR?e.mR:"2%"}),(function(e){return e.mL?e.mL:"0"}),(function(e){return e.cW?e.cW:"50%"}),(function(e){return e.mR?e.mR:"0"}),(function(e){return e.mL?e.mL:"0"}));function ot(){var e=k()(["\n  display: block;\n  width: ",";\n  margin-top: ",";\n  margin-left: ",";\n  margin-right: ",";\n  padding: ",";\n  box-shadow: 0 4px 9px 0 rgba(0, 0, 0, 0.02);\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  margin-bottom: ",";\n  text-align: ",";\n  float: ",";\n  max-width: ",";\n  margin: ",";\n  position: relative;\n  border: ",";\n  &:hover {\n    border: ",";\n  }\n  .infoLeft {\n    font-size: 20px;\n    font-weight: bold;\n    color: #4a4a4a;\n    margin-bottom: 30px;\n  }\n  .infoRight {\n    font-size: 20px;\n    font-weight: bold;\n    color: #000000;\n    text-align: right;\n    margin-bottom: 30px;\n    color: green;\n  }\n\n  .profile {\n    img {\n      max-width: 100%;\n      max-height: 100px;\n    }\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  .history {\n    position: absolute;\n    right: 20px;\n    bottom: 25px;\n    color: "," !important;\n  }\n  &.sideNav {\n    padding: 15px 10px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: 10px;\n    border: solid 1px #e9eff4;\n    box-shaddow: none;\n    i {\n      margin-right: 10px;\n      margin-top: 0;\n      color: ",";\n    }\n    h3 {\n      font-size: 13px;\n      font-weight: bold;\n      margin: 0;\n      color: ",";\n    }\n  }\n  &.sideNav:hover {\n    background-color: #417505;\n    i {\n      color: #fff;\n    }\n    h3 {\n      color: #fff !important;\n    }\n  }\n  > .cardHeader:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n  > .cardHeader > .cardHeaderRight > h3,\n  > h3 {\n    color: #323c47;\n    font-size: 24px;\n    font-weight: normal;\n    margin-top: 0;\n    margin-bottom: 20px;\n    .anchor {\n      color: ",";\n      right: 10px;\n      position: absolute;\n      top: 25px;\n    }\n  }\n  > .cardHeader > .cardHeaderRight > h3 {\n    margin-bottom: 1px;\n  }\n  .doc {\n    border: solid 1px #e9eff4;\n    border-radius: 5px;\n    padding: 10px;\n  }\n  .hh {\n    margin-top: 10px;\n    margin-bottom: 0;\n    font-size: 16px;\n    color: #323c47;\n  }\n  .hhh {\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 0.11px;\n    color: #323c47;\n    text-align: center;\n  }\n  .hhhh {\n    font-size: 10px;\n    font-weight: bold;\n    text-align: center;\n    letter-spacing: 0.09px;\n    color: #9b9b9b;\n  }\n  .miniTitle {\n    color: #f5a623;\n    font-size: 16px;\n  }\n  > .cardHeader > .cardHeaderLeft {\n    float: left;\n    &.flex {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      flex-direction: row;\n      h3 {\n        font-size: 28px;\n      }\n      .material-icons {\n        background: ",";\n        color: #fff;\n        margin-right: 10px;\n        font-size: 28px;\n        padding: 4px;\n        border-radius: 50%;\n      }\n    }\n  }\n  > .cardHeader > .cardHeaderRight {\n    float: left;\n  }\n\n  > .cardHeader > .cardHeaderLeft > .material-icons {\n    width: 46px;\n    height: 46px;\n    color: ",";\n    background: transparent;\n    border-radius: 50%;\n    margin: 3px 17px;\n    font-size: 40px;\n    padding: 0;\n    line-height: 46px;\n  }\n  > h4 {\n    font-size: ",";\n    font-weight: normal;\n    color: #323c47;\n    margin-top: 0;\n    margin-bottom: 18px;\n  }\n  .menuTabs {\n    font-size: 20px;\n    color: ",";\n    font-weight: bold;\n    float: left;\n    margin-top: 20px;\n    margin-right: 30px;\n  }\n  > .cardHeader > .cardHeaderRight > h5,\n  h5 {\n    font-size: 14px;\n    font-weight: 300;\n    color: rgba(50, 60, 71, 0.4);\n    margin-top: 0;\n    margin-bottom: 15px;\n  }\n\n  .cardValue {\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n  }\n"]);return ot=function(){return e},e}var it=f.c.div(ot(),(function(e){return e.cardWidth?e.cardWidth:"100%"}),(function(e){return e.topMargin?e.topMargin:"0"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.bigPadding?"18px 30px":"12px 6px"}),(function(e){return e.selected?e.theme.primary:"#fff"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.rounded?"5px":"0"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.textAlign?e.textAlign:"left"}),(function(e){return e.col?"left":"none"}),(function(e){return e.centerSmall?"600px":"100%"}),(function(e){return e.centerSmall?"0 auto":"sdf"}),(function(e){return e.bordered?"1px solid #e4e8ea":"sdf"}),(function(e){return e.blueHover?"1px solid #4da1ff":""}),(function(e){return e.theme.accent}),(function(e){return e.selected?"#fff":"#417505"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.theme.accent}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.h4FontSize?e.h4FontSize:"16px"}),(function(e){return e.theme.primary}),(function(e){return e.smallValue?"20px":"32px"}),(function(e){return e.theme.primary})),ut=function(e){var t=e.no?e.no:0,n=e.amount?e.amount:0,a=e.title?e.title:0;return r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,a),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(rt,null,"No.:"),r.a.createElement(rt,null,r.a.createElement("span",{className:"cardValue"}," ",t))),r.a.createElement(ct,null,r.a.createElement(rt,null,"Amount:"),r.a.createElement(rt,null,r.a.createElement("span",{className:"cardValue"},n)))))},st=n(568),mt=n(310),dt=n.n(mt);function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function ft(){var e=k()(["\n  background: #fff;\n  border-radius: 6px;\n  width: ",";\n  max-width: ",";\n  padding: 20px;\n  margin: 45px auto;\n  position: relative;\n\n  .popClose {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 9px;\n    cursor: pointer;\n    font-size: 42px;\n    background: ",";\n    color: #fff;\n    :hover {\n      background-color: #cc8819;\n    }\n  }\n  .popInfoLeft {\n    font-size: 16px;\n    font-weight: bold;\n    color: #4a4a4a;\n    margin-bottom: 10px;\n  }\n  .popInfoRight {\n    font-size: 16px;\n    font-weight: bold;\n    color: #000000;\n    margin-bottom: 10px;\n    color: green;\n  }\n\n  h1 {\n    text-align: center;\n    font-size: 26px;\n    font-weight: normal;\n    letter-spacing: 0.02px;\n    color: #ffffff;\n    margin-top: 0;\n    background-color: ",";\n    margin-left: -20px;\n    margin-top: -20px;\n    margin-right: -20px;\n    margin-bottom: 20px;\n    padding: 6px;\n    &.normalH1 {\n      background-color: ",";\n      color: white;\n      padding-top: 6px;\n    }\n  }\n"]);return ft=function(){return e},e}function gt(){var e=k()(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index: 999;\n    background-color: rgba(0, 0, 0, 0.39);\n    top:0;\n    left:0;\n    &::-webkit-scrollbar { width: 0 !important }\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    overflow-y:auto;\n    form{\n        display:block;\n        width: 100%;\n        max-width: ",";\n        margin 0 auto;\n    }\n"]);return gt=function(){return e},e}var ht=f.c.div(gt(),(function(e){return e.bigBody?"100%":"445px"})),Et=f.c.div(ft(),(function(e){return e.bigBody?"80%":"35%"}),(function(e){return e.bigBody?"none":"648px"}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent})),bt=function(e){X()(n,e);var t=pt(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"sendCloseSignal",(function(t){document.getElementById("popupBody").contains(t.target)||e.props.close()})),e}return V()(n,[{key:"render",value:function(){var e=this;return r.a.createElement(ht,{className:"popupwrap",bigBody:this.props.bigBody},r.a.createElement(Et,{id:"popupBody",bigBody:this.props.bigBody},r.a.createElement(dt.a,{className:"material-icons popClose",onClick:function(){return e.props.close()}}),this.props.children))}}]),n}(a.Component);function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.get("".concat(Ee,"/getWalletBalance"));case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",0);case 8:return e.abrupt("return",t.data.balance);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),Se("Could not fetch balance!","error"),e.abrupt("return",0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="update"===a?"/editZone":"/createZone",e.prev=2,e.next=5,he.a.post("".concat(Ee).concat(r),yt({},n));case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),t.refreshZoneList(l.data.data),t.onClose()):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),_t=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/get").concat(n,"List"),{merchant_id:t});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:a.data.list,loading:!1});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),Se("Could not fetch zones!","error"),e.abrupt("return",{list:[],loading:!1});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),wt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listSubzonesByZoneId"),{zone_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.subzones,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="update"===a?"/editSubzone":"/createSubzone",e.prev=2,e.next=5,he.a.post("".concat(Ee).concat(r),yt({},n));case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),t.refreshSubzoneList(l.data.data),t.onClose()):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Nt=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="update"===a?"/editBranch":"/createBranch",e.prev=2,e.next=5,he.a.post("".concat(Ee).concat(r),yt({},n));case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),t.refreshBranchList(l.data.data),t.onClose()):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ct=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listBranchesBySubzoneId"),{subzone_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.branches,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.get("".concat(Ee,"/listBranches"));case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:t.data.branches,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/blockBranch"),{branch_id:t});case 3:200===(n=e.sent).status?0===n.data.status?Se(n.data.message,"error"):Se(n.data.data,"success"):Se(n.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/unblockBranch"),{branch_id:t});case 3:200===(n=e.sent).status?0===n.data.status?Se(n.data.message,"error"):Se(n.data.data,"success"):Se(n.data.data,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="update"===a?"/editStaff":"/addStaff",e.prev=2,e.next=5,he.a.post("".concat(Ee).concat(r),yt({},n));case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),t.refreshStaffList(),t.onClose()):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),It=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",a="block"===t?"/blockStaff":"/unblockStaff",e.prev=2,e.next=5,he.a.post("".concat(Ee).concat(a),{staff_id:n});case 5:200===(r=e.sent).status?0===r.data.status?Se(r.data.message,"error"):Se(r.data.data,"success"):Se(r.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Rt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listStaff"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.staffs,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Lt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),console.log(t),e.prev=2,e.next=5,he.a.post("".concat(Ee,"/uploadOfferings"),n);case 5:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshOfferingList(),t.onClose()):Se(a.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Dt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listOfferings"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.offerings,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/deleteOffering"),{offering_id:t});case 3:200===(n=e.sent).status?0===n.data.status?Se(n.data.message,"error"):Se(n.data.data,"success"):Se(n.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/editOffering"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshOfferingList(a.data.data),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Wt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listTaxes"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.taxes,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/createTax"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshTaxList(),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),At=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/editTax"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshTaxList(),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/deleteTax"),{tax_id:t});case 3:200===(n=e.sent).status?0===n.data.status?Se(n.data.message,"error"):Se(n.data.data,"success"):Se(n.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listCustomers"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.customers,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/uploadCustomers"),n);case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshCustomerList(),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ht=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("merchant value"),e.prev=1,n.username=n.merchant_id,e.next=5,he.a.post("".concat(Ee,"/editDetails"),yt({},n));case 5:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshMerchantList(n),t.onClose()):Se(a.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Se("Something went wrong");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Ut=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getSettings"),{});case 3:if(200!==(t=e.sent).status){e.next=8;break}if(0!==t.data.status){e.next=7;break}return e.abrupt("return",{penalty_rule:{},loading:!1});case 7:return e.abrupt("return",{penalty_rule:t.data.setting.penalty_rule,loading:!1});case 8:return e.abrupt("return",{penalty_rule:{},loading:!1});case 11:return e.prev=11,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{penalty_rule:{},loading:!1});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/editPenaltyRule"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshpenaltyrule(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Xt=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getSettings"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{list:[],default_bill_term:{},loading:!1});case 8:return e.abrupt("return",{list:t.data.setting.bill_term,default_bill_term:t.data.setting.default_bill_term,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{list:[],default_bill_term:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],default_bill_term:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/addBillTerm"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshbilltermlist(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getSettings"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],default_bill_period:{},loading:!1});case 8:return e.abrupt("return",{list:n.data.setting.bill_period,default_bill_period:n.data.setting.default_bill_period,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],default_bill_period:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],default_bill_period:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.get("".concat(Ee,"/listInvoiceGroups"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:t.data.groups,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Yt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/addBillPeriod"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshbillperiodlist(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Kt=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/createInvoiceGroup"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshcategorylist(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),$t=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/setDefaultBillPeriod"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshbillperiodlist(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),en=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/setDefaultBillTerm"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshbilltermlist(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),tn=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getSubZoneStats"),{subzone_id:t});case 3:if(200!==(n=e.sent).status){e.next=10;break}if(console.log(n),0!==n.data.status){e.next=9;break}return Se(n.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0});case 9:return e.abrupt("return",{bill_generated:n.data.bill_generated,amount_generated:n.data.amount_generated,amount_paid:n.data.amount_paid,bill_paid:n.data.bill_paid});case 10:return Se(n.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0});case 14:return e.prev=14,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),nn=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getZoneStats"),{zone_id:t});case 3:if(200!==(n=e.sent).status){e.next=10;break}if(console.log(n),0!==n.data.status){e.next=9;break}return Se(n.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,amount_pending:0,bill_pending:0});case 9:return e.abrupt("return",{bill_generated:n.data.bill_generated,amount_generated:n.data.amount_generated,amount_paid:n.data.amount_paid,bill_paid:n.data.bill_paid,amount_pending:n.data.amount_pending,bill_pending:n.data.bill_pending});case 10:return Se(n.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,amount_pending:0,bill_pending:0});case 14:return e.prev=14,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,amount_pending:0,bill_pending:0});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),an=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/").concat(a,"/getStatsBydate"),{id:t,date:n});case 3:if(200!==(r=e.sent).status){e.next=10;break}if(console.log(r),0!==r.data.status){e.next=9;break}return Se(r.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 9:return e.abrupt("return",{bill_generated:r.data.bill_generated,amount_generated:r.data.amount_generated,amount_paid:r.data.amount_paid,bill_paid:r.data.bill_paid,bill_paid_by_MC:r.data.bill_paid_by_MC,amount_paid_by_MC:r.data.amount_paid_by_MC,bill_paid_by_BC:r.data.bill_paid_by_BC,amount_paid_by_BC:r.data.amount_paid_by_BC,bill_paid_by_PC:r.data.bill_paid_by_PC,amount_paid_by_PC:r.data.amount_paid_by_PC,bill_paid_by_US:r.data.bill_paid_by_US,amount_paid_by_US:r.data.amount_paid_by_US});case 10:return Se(r.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 14:return e.prev=14,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),rn=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/").concat(a,"/getStatsByPeriod"),{id:t,period_name:n});case 3:if(200!==(r=e.sent).status){e.next=10;break}if(console.log(r),0!==r.data.status){e.next=9;break}return Se(r.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 9:return e.abrupt("return",{bill_generated:r.data.bill_generated,amount_generated:r.data.amount_generated,amount_paid:r.data.amount_paid,bill_paid:r.data.bill_paid,bill_paid_by_MC:r.data.bill_paid_by_MC,amount_paid_by_MC:r.data.amount_paid_by_MC,bill_paid_by_BC:r.data.bill_paid_by_BC,amount_paid_by_BC:r.data.amount_paid_by_BC,bill_paid_by_PC:r.data.bill_paid_by_PC,amount_paid_by_PC:r.data.amount_paid_by_PC,bill_paid_by_US:r.data.bill_paid_by_US,amount_paid_by_US:r.data.amount_paid_by_US});case 10:return Se(r.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 14:return e.prev=14,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,amount_generated:0,bill_generated:0,amount_paid:0,bill_paid_by_MC:0,amount_paid_by_MC:0,bill_paid_by_BC:0,amount_paid_by_BC:0,bill_paid_by_PC:0,amount_paid_by_PC:0,bill_paid_by_US:0,amount_paid_by_US:0});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ln=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/getSettings"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{zone_name:"Zone",subzone_name:"Sub zone",loading:!1});case 8:return e.abrupt("return",{zone_name:n.data.setting.zone_name,subzone_name:n.data.setting.subzone_name,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{zone_name:"Zone",subzone_name:"Sub zone",loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{zone_name:"Zone",subzone_name:"Sub zone",loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),cn=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/zoneSetting"),yt({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreszonedetails(n),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),on=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="",a="".concat(Ee,"interbank"===n?"/interBank/getRules":"/getRules"),e.next=5,he.a.post(a,{page:t});case 5:if(200!==(r=e.sent).status){e.next=11;break}if(0!==r.data.status){e.next=10;break}return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 10:return e.abrupt("return",{list:r.data.rules,loading:!1});case 11:return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 15:return e.prev=15,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),un=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="interbank"===t?"".concat(Ee,"/merchantRule/interBank/").concat(n):"".concat(Ee,"/merchantRule/").concat(n),e.prev=2,e.next=5,he.a.post(r,a);case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):Se(l.data.message,"success"):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),sn=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",r="".concat(Ee,"update"===a?"/editPosition":"/addPosition"),e.prev=2,e.next=5,he.a.post(r,yt({},n));case 5:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),t.refreshCashierList(n),t.onClose()):Se(l.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),mn=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(Ee,"/listPosition"),{branch_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.positions,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();function dn(){var e=k()(["\n  width: 100%;\n  position: relative;\n  z-index: 1;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 12px 18px;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 14px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return dn=function(){return e},e}var pn=f.c.textarea(dn(),(function(e){return e.theme.primary}));var fn=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null,"update"===e.type?r.a.createElement("span",null,"Update ",e.zonename):r.a.createElement("span",null,"Create ",e.zonename)),r.a.createElement(b.d,{initialValues:{code:e.zone.code||"",name:e.zone.name||"",description:e.zone.description||"",type:e.zone.type||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("update"!==e.type){t.next=6;break}return n.zone_id=e.zone._id,t.next=4,St(e,n,"update");case 4:t.next=8;break;case 6:return t.next=8,St(e,n,"create");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({name:v.e().min(3,"Zone name should be atleast 3 characters").required("Zone name is required"),code:v.e().min(3,"Zone Id should be atleast 3 characters").required("Zone Id is required")})},(function(t){var n=t.isSubmitting,a=t.handleChange,l=t.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"code"},e.zonename," ID*"),r.a.createElement(b.b,{type:"text",name:"code",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},as:F}),r.a.createElement(b.a,{name:"code",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},e.zonename," Name"),r.a.createElement(b.b,{type:"text",name:"name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F}),r.a.createElement(b.a,{name:"name",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"type"},e.zonename," Type"),r.a.createElement(b.b,{type:"text",name:"type",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F}),r.a.createElement(b.a,{name:"type",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement(b.b,{type:"text",name:"description",rows:"3",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:pn})),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"update"===e.type?r.a.createElement("span",null,"Update ",e.zonename):r.a.createElement("span",null,"Create ",e.zonename)))))})))};function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function hn(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 12px;\n  padding-bottom: 7px;\n  font-weight: normal;\n  border-bottom: ",";\n"]);return hn=function(){return e},e}function En(){var e=k()(["\n  float: left;\n  margin: 8px 27px;\n"]);return En=function(){return e},e}var bn=f.c.nav(En()),vn=f.c.span(hn(),(function(e){return"true"===e.active?"1px solid white":"0"})),yn=function(e){X()(n,e);var t=gn(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e="dashboard"===this.props.active?"true":"",t=(this.props.active,"staff"===this.props.active?"true":""),n="reports"===this.props.active?"true":"",a="offerings"===this.props.active?"true":"",l="taxes"===this.props.active?"true":"",c="customers"===this.props.active?"true":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(bn,null,r.a.createElement(ae,{href:"/merchant/dashboard"},r.a.createElement(vn,{active:e},"Dashboard")),r.a.createElement(ae,{href:"/merchant/staff"},r.a.createElement(vn,{active:t},"Staff")),r.a.createElement(ae,{href:"/merchant/report"},r.a.createElement(vn,{active:n},"Reports")),r.a.createElement(ae,{href:"/merchant/offerings"},r.a.createElement(vn,{active:a},"Offerings")),r.a.createElement(ae,{href:"/merchant/taxes"},r.a.createElement(vn,{active:l},"Taxes")),r.a.createElement(ae,{href:"/merchant/customers"},r.a.createElement(vn,{active:c},"Customers"))))}}]),n}(a.Component);function xn(){var e=k()(["\n  background: ",";\n  color: white;\n  font-size: 18px;\n  height: 63px;\n  box-sizing: border-box;\n  padding: 11px 30px;\n  > .anchor {\n    color: #fff;\n  }\n  &:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n  .bankLogo {\n    height: 39px;\n    width: 39px;\n    float: left;\n    /* margin-left: 100px; */\n    background: #fff;\n    img {\n      max-width: 100%;\n      max-height: 100%;\n    }\n  }\n\n  bankLogoInfra {\n    height: 9px;\n    width: 9px;\n  }\n  h2 {\n    font-size: 24px;\n    font-wight: normal;\n    color: #fff;\n    float: left;\n    margin: 7px 15px;\n  }\n  .headerNavDash {\n    min-width: 214px;\n    text-align: center;\n    border: 2px solid #fff;\n    float: left;\n    color: #fff;\n    padding: 5px;\n    border-radius: 8px;\n    font-size: 18px;\n  }\n"]);return xn=function(){return e},e}var Sn=f.c.header(xn(),(function(e){return e.theme.hGradient})),_n=n(311),wn=n.n(_n);function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Nn(){var e=k()(["\n  position: absolute;\n  top: 35px;\n  right: 0px;\n  z-index: 99;\n  width: 151px;\n  border-radius: 7px;\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n  background-color: #ffffff;\n  left: 15px;\n  display: none;\n\n  .anchor,\n  span {\n    color: #000;\n    font-size: 18px;\n    cursor: pointer;\n    padding: 8px 0;\n    display: block;\n    font-weight: normal;\n    text-align: center;\n    border-bottom: solid 0.5px rgba(155, 155, 155, 0.7);\n    :hover {\n      background-color: #b8b8b8;\n      border-radius: 4px;\n    }\n  }\n"]);return Nn=function(){return e},e}var Cn=f.c.div(Nn()),Bn=function(e){X()(n,e);var t=kn(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){this.props.active,this.props.active,this.props.active,this.props.active;return r.a.createElement(Cn,{className:"subNav"},this.props.children)}}]),n}(a.Component);function On(){var e=k()(["\n  float: left;\n  margin-left: 10px;\n"]);return On=function(){return e},e}function Pn(){var e=k()(["\n  float: left;\n  margin-left: 10px;\n  margin-right: 50px;\n"]);return Pn=function(){return e},e}function Tn(){var e=k()(["\n  float: right;\n  margin: 7px 0;\n  display: flex;\n  color: #fff;\n  font-size: 18px;\n  font-weight: normal;\n  line-height: 26px;\n"]);return Tn=function(){return e},e}var In=f.c.div(Tn()),Rn=f.c.div(Pn()),Ln=f.c.i(On()),Dn=function(e){var t=e.type,n="",l="";"merchant"===t?n=JSON.parse(localStorage.getItem("".concat(t,"Logged"))).details.name:"cashier"===t?(n=localStorage.getItem("".concat(t,"_name")),l=JSON.parse(localStorage.getItem("cashierLogged")).position.type):n=localStorage.getItem("".concat(t,"_name"));var c=function(){localStorage.removeItem("merchantLogged"),localStorage.removeItem("merchant_name"),$.push("/merchant/".concat(n,"/login"))},o=function(){switch(t){case"merchant":c();break;case"branch":localStorage.removeItem("branchLogged"),localStorage.removeItem("branch_name"),$.push("/merchant/branch/".concat(n,"/login"));break;case"cashier":localStorage.removeItem("cashierLogged"),localStorage.removeItem("cashier_name"),$.push("/merchant/cashier/".concat(n,"/login"));break;default:c()}},i="";"merchant"===t?i="/merchant/settings":"branch"===t?i="/branch/settings":"cashier"===t?i="/cashier/settings":localStorage.getItem("isAdmin");var u=new Date,s="".concat(u.getDate(),"-").concat(u.getMonth()+1,"-").concat(u.getFullYear()," "),m="".concat(s);return r.a.createElement(a.Fragment,null,r.a.createElement(In,{className:"clr"},r.a.createElement(Ln,{className:"material-icons fl"},r.a.createElement(wn.a,null)),"cashier"===t?r.a.createElement(Rn,null,r.a.createElement("span",null,"BRANCH:")," ",JSON.parse(localStorage.getItem("cashierLogged")).branch.name):"",r.a.createElement("div",{className:"dropdown fl"},r.a.createElement(Rn,null,r.a.createElement("span",null,"cashier"===t?l.toUpperCase():t.toUpperCase(),":")," ",n),r.a.createElement(Bn,{className:"bankSubNav"},r.a.createElement(ae,{href:i},"Settings"),r.a.createElement("span",{onClick:function(){return o()}},"Logout"))),r.a.createElement("span",{style:{paddingRight:"7px"}},m)))};function Mn(){var e=k()(["\n  width: 96%;\n  max-width: ","px;\n  margin: "," auto;\n\n  &:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n"]);return Mn=function(){return e},e}var zn=f.c.div(Mn(),(function(e){return e.big,"1170"}),(function(e){return e.verticalMargin?"48px":"0"}));function Wn(){var e=k()(["\n  display: flex;\n  justify-content: center;\n"]);return Wn=function(){return e},e}function Fn(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 40px 0 0;\n  padding-bottom: 7px;\n  display: block;\n  font-weight: normal;\n  border-radius: 8px;\n  border: solid 2px #ffffff;\n  padding: 5px 20px;\n"]);return Fn=function(){return e},e}var An=f.c.span(Fn()),jn=f.c.div(Wn()),qn=function(e){var t=JSON.parse(localStorage.getItem("merchantLogged"))||{},n=t.details.name||"",a=t.details.logo||"",l=e.page;return r.a.createElement(Sn,null,r.a.createElement(Dn,{type:"merchant"}),r.a.createElement(zn,null,"info"===l?r.a.createElement(ae,{href:e.goto,float:"left"},r.a.createElement(An,null,"Dashboard")):null,r.a.createElement(ae,{href:"/merchant/dashboard",float:"left"},r.a.createElement("div",{className:"bankLogo"},r.a.createElement("img",{src:ve+a,alt:"Merchant Logo"})),r.a.createElement("h2",null,n.toUpperCase())),e.middleTitle?r.a.createElement(jn,{className:"middleTitle"},e.middleTitle):null,"info"===l?null:r.a.createElement(yn,{active:e.active})))};function Vn(){var e=k()(["\n  width: 80%;\n  width: ",";\n  display: block;\n  float: left;\n"]);return Vn=function(){return e},e}var Hn=f.c.section(Vn(),(function(e){return e.fullWidth?"100%":"calc( 100% - 293px )"}));function Un(){var e=k()(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  border-radius: 8px;\n  box-shadow: 5px 5px 25px 0 rgba(179, 179, 179, 0.25);\n  background-color: #ffffff;\n  text-align: ",";\n  padding: 15px 20px;\n  margin-bottom: ",";\n  margin-top: ",";\n  input.small {\n    width: 75% !important;\n  }\n  .notification {\n    font-size: 20px;\n    strong {\n      color: ",";\n    }\n    strong.red {\n      color: ",";\n    }\n  }\n  .dateinput {\n    border: 1px solid #e0e7ee;\n    background: #fff;\n    width: 150px;\n    margin-left: 15px;\n    padding: 5px 10px;\n\n    margin-bottom: 0;\n  }\n  > .iconedInput {\n    position: relative;\n    width: ",";\n  }\n  > .iconedInput > i {\n    position: absolute;\n    z-index: 1;\n    left: 9px;\n    top: 4px;\n    font-size: 20px;\n    color: #4a4a4a;\n    opacity: 0.4;\n  }\n  > .iconedInput > input {\n    border-radius: 4px;\n    background-color: #efeef8;\n    padding: 8px;\n    font-size: 12px;\n    border: 0;\n    z-index: 0;\n    padding-left: 35px;\n    width: 100%;\n  }\n"]);return Un=function(){return e},e}var Jn=f.c.div(Un(),(function(e){return e.textRight?"right":"left"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.marginTop?e.marginTop:"0"}),(function(e){return e.theme.primary}),(function(e){return e.theme.danger}),(function(e){return e.inputWidth?e.inputWidth:"100%"}));function Xn(){var e=k()(["\n  width: 100%;\n  margin-top: ",";\n  border-collapse: collapse;\n\n  > thead > tr > th {\n    font-size: 14px;\n    font-weight: bold;\n    padding: 8px;\n    text-align: center;\n    background-color: ",";\n    color: #fff;\n    position: relative;\n    width: 12%;\n  }\n  > tbody > tr > td {\n    font-size: 16px;\n    font-weight: 300;\n    color: #4a4a4a;\n    text-align: ",";\n    padding: ",";\n    background-color: rgba(81, 111, 10, 0.01);\n    position: relative;\n    &.green {\n      color: ",";\n    }\n    > a {\n      font-size: 12px;\n    }\n    &.right {\n      text-align: right;\n    }\n    .labelGrey {\n      font-size: 18px;\n      font-weight: 300;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: normal;\n      letter-spacing: -0.13px;\n      color: #4a4a4a;\n    }\n    .labelBlue {\n      font-size: 20px;\n      font-weight: bold;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: normal;\n      letter-spacing: -0.1px;\n      color: #4a90e2;\n    }\n    .labelSmallGrey {\n      font-size: 12px;\n      font-weight: 300;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: normal;\n      letter-spacing: -0.13px;\n      color: #4a4a4a;\n    }\n  }\n  td > .material-icons {\n    font-size: 19px;\n    font-weight: bold;\n    color: ",";\n  }\n  > .bold {\n    font-weight: bold;\n  }\n\n  .popMenuTrigger {\n    i {\n      font-size: 18px;\n    }\n    cursor: pointer;\n    .popMenu {\n      display: none;\n      position: absolute;\n      z-index: 10;\n      font-size: 13px;\n      font-weight: normal;\n      width: 130px;\n      right: 18px;\n      margin-top: -15px;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n      background-color: #ffffff;\n      padding: 5px 10px;\n      > span {\n        margin: 8px 0 12px;\n        text-align: left;\n        display: block;\n        color: #000;\n        font-size: 13px;\n        font-weight: normal;\n      }\n    }\n    &:hover .popMenu,\n    .popMenu:hover {\n      display: block;\n    }\n  }\n"]);return Xn=function(){return e},e}var Gn=f.c.table(Xn(),(function(e){return e.marginTop?e.marginTop:"0"}),(function(e){return e.theme.accent}),(function(e){return e.textAlign?e.textAlign:"center"}),(function(e){return e.smallTd?"10px":"14px 22px"}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Zn=function(e){var t=Object(a.useState)(0),n=s()(t,2),l=n[0],c=n[1];return Object(a.useEffect)((function(){var e=setInterval(et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:t=e.sent,c(t.toFixed(2));case 4:case"end":return e.stop()}}),e)}))),5e3);return function(){return clearInterval(e)}}),[]),r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",bigPadding:!0},r.a.createElement("h3",null,"E-WALLET"),r.a.createElement("h5",{style:{display:"flex",justifyContent:"space-between"}},"Available:",r.a.createElement(ae,{href:"/merchant/operationalHistory"},r.a.createElement("span",{className:"history",style:{position:"inherit"}},"History"))),r.a.createElement("div",{className:"cardValue"},"XOF"," ",l))};function Qn(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n"]);return Qn=function(){return e},e}var Yn=f.c.aside(Qn(),(function(e){return e.marginRight?"33px":"0"})),Kn=function(e){return r.a.createElement(Yn,{marginRight:!0},r.a.createElement(Zn,null))},$n=n(40),ea=n.n($n);function ta(){var e=k()(["\n    background-image: ",";\n    position: fixed,\n    left: 0,\n    bottom: 0,\n    width: 100%;\n    height: 100px;\n    display: flex;\n    flex-direction: column;\n    color: #fff;\n    align-items: center;\n    justify-content: center;\n  "]);return ta=function(){return e},e}var na=f.c.section(ta(),(function(e){return e.theme.vGradient})),aa=function(e){var t=e.bankname,a=e.banklogo;return r.a.createElement(na,null,r.a.createElement(y.a,{container:!0,direction:"row",justify:"space-between",alignContent:"center",alignItems:"center"},r.a.createElement("div",{style:{display:"inline-flex",marginLeft:"50px"}},r.a.createElement(x.a,null,r.a.createElement("img",{src:n(391),alt:"",style:{height:"50px",width:"50px",paddingRight:"10px",marginRight:"10px"}})),r.a.createElement(x.a,{style:{fontWeight:"400",fontSize:"15px",display:"flex",alignItems:"center"}},"Powered by Digital business ecosystem.")),r.a.createElement("div",{style:{display:"inline-flex",marginRight:"50px"}},r.a.createElement(x.a,null,r.a.createElement("img",{src:"".concat(ve).concat(a),alt:"",style:{height:"50px",width:"50px",paddingRight:"10px",marginRight:"10px"}})),r.a.createElement(x.a,{style:{fontWeight:"400",fontSize:"15px",display:"flex",alignItems:"center"}},"Associated with ",t,"."))))},ra=function(){var e=Object(a.useState)(!1),t=s()(e,2),n=t[0],l=t[1],c=Object(a.useState)({}),o=s()(c,2),i=(o[0],o[1]),u=JSON.parse(localStorage.getItem("merchantLogged")).details._id,m=JSON.parse(localStorage.getItem("merchantLogged")).bank.name,d=JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,p=r.a.useState(!1),f=s()(p,2),g=f[0],h=f[1],b=r.a.useState([]),v=s()(b,2),y=v[0],x=v[1],S=r.a.useState([]),_=s()(S,2),w=_[0],k=_[1],N=r.a.useState([]),C=s()(N,2),B=(C[0],C[1],r.a.useState("new")),O=s()(B,2),P=O[0],T=O[1],I=r.a.useState({}),R=s()(I,2),L=R[0],D=R[1],M=r.a.useState({}),W=s()(M,2),F=W[0],A=W[1],j=r.a.useState({}),q=s()(j,2),V=q[0],H=q[1],U=r.a.useState({}),J=s()(U,2),X=J[0],G=J[1],Z=r.a.useState({}),Q=s()(Z,2),Y=Q[0],K=Q[1],ee=r.a.useState(),te=s()(ee,2),ne=te[0],ae=te[1],re=r.a.useState(),le=s()(re,2),ce=le[0],ie=le[1],ue=r.a.useState({}),se=s()(ue,2),me=se[0],de=se[1],pe=r.a.useState({}),fe=s()(pe,2),ge=fe[0],be=fe[1],ve=r.a.useState(""),ye=s()(ve,2),xe=ye[0],Se=ye[1],_e=r.a.useState(""),we=s()(_e,2),ke=we[0],Ne=we[1],Ce=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t._id);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=et()(Ke.a.mark((function e(){var t,n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,ln(u);case 3:return t=e.sent,Se(t.zone_name),Ne(t.subzone_name),e.next=8,_t(u,"zone");case 8:return n=e.sent,x(n.list),e.next=12,Ce(n.list);case 12:a=e.sent,k(a.res),l(a.loading);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(e,t){D(t),T(e),h(!0)};return Object(a.useEffect)((function(){Be(),function e(){he.a.post("".concat(Ee,"/getDashStats"),{merchant_id:u}).then((function(e){if(200==e.status){if(0===e.data.status)throw e.data.error;A(e.data.post6.filter((function(e){return"MC"===e._id}))[0]),G(e.data.post6.filter((function(e){return"BC"===e._id}))[0]),H(e.data.post6.filter((function(e){return"PC"===e._id}))[0]),K(e.data.post6.filter((function(e){return"US"===e._id}))[0]),ae(e.data.post6.reduce((function(e,t){return e+t.bills_paid}),0)),ie(e.data.post6.reduce((function(e,t){return e+t.amount_paid}),0)),de(e.data.post7.filter((function(e){return 1===e._id}))[0]),be(e.data.post7.filter((function(e){return 0===e._id}))[0]),i(e.data)}})).then((function(t){setTimeout((function(){e()}),3e3)})).catch((function(t){setTimeout((function(){e()}),3e3)}))}()}),[]),n?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant | Dashboard"),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),r.a.createElement(qn,{active:"dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Kn,null),r.a.createElement(Hn,null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Created",no:me?me.bills_generated:0,amount:me?me.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Uploaded",no:ge?ge.bills_generated:0,amount:ge?ge.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid",no:ne,amount:ce})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Pending",no:me?me.bills_generated-ne:0,amount:me?me.amount_generated-ce:0}))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by bank",no:X?X.bills_paid:0,amount:X?X.amount_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by partner",no:V?V.bills_paid:0,amount:V?V.amount_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by merchant",no:F?F.bills_paid:0,amount:F?F.amount_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by user",no:Y?Y.bills_paid:0,amount:Y?Y.amount_paid:0})))),r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"}),r.a.createElement(it,{bigPadding:!0},r.a.createElement(z,{className:"dashBtn",style:{float:"right",marginBottom:"10px"},flex:!0,onClick:function(){return Oe("new",{})}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add ",xe)),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Zones"),r.a.createElement("th",null,"Subzones"),r.a.createElement("th",null,"Branches"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Paid Invoices"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Pending Invoices"),r.a.createElement("th",null,"Amount Pending"))),r.a.createElement("tbody",null,y&&y.length>0?y.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac popMenuTrigger",onClick:function(){localStorage.setItem("selectedZone",e._id),localStorage.setItem("currentZone",JSON.stringify(e)),$.push("/merchant/".concat(e._id,"/subzones"))}},e.subzone_count),r.a.createElement("td",{className:"tac"},e.branch_count),r.a.createElement("td",{className:"tac"},w[t].bill_generated),r.a.createElement("td",{className:"tac"},w[t].amount_generated),r.a.createElement("td",{className:"tac"},"0"),r.a.createElement("td",{className:"tac"},"0"),r.a.createElement("td",{className:"tac"},w[t].bill_paid),r.a.createElement("td",{className:"tac"},w[t].amount_paid),r.a.createElement("td",{className:"tac"},w[t].bill_generated-w[t].bill_paid),r.a.createElement("td",{className:"tac"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",{className:"tac"},w[t].amount_generated-w[t].amount_paid),r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){localStorage.setItem("selectedZone",e._id),localStorage.setItem("currentZone",JSON.stringify(e)),$.push("/merchant/".concat(e._id,"/subzones"))}},r.a.createElement("span",null,ke)),r.a.createElement("span",{onClick:function(){return Oe("update",e)}},"Edit"))))))})):null)))),g?r.a.createElement(fn,{type:P,zone:L,zonename:xe,refreshZoneList:function(e){return Be(e)},onClose:function(){h(!1)}}):null)),r.a.createElement(aa,{bankname:m,banklogo:d}))},la=n(312),ca=n.n(la);function oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}xe.a.configure({position:"bottom-right",autoClose:4e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});var ia=function(e){X()(n,e);var t=oa(n);function n(){var e;return j()(this,n),e=t.call(this),L()(U()(e),"showHistory",(function(){e.setState({history:[]},(function(){var t=[],n=(e.state.activePage-1)*e.state.perPage,a=e.state.perPage*e.state.activePage;a>e.state.totalCount&&(a=e.state.totalCount);for(var r=n;r<a;r+=1)t.push(e.state.allhistory[r]);e.setState({history:t})}))})),L()(U()(e),"getHistory",(function(){he.a.get("".concat(Ee,"/getTransHistory"),{page:e.state.activePage,offset:e.state.perPage}).then((function(t){if(200===t.status){var n=t.data.history.reverse();if(console.log("outside"),"All"==e.state.filtername)console.log("inside"),e.setState({allhistory:n,copyallhistory:n,totalCount:t.data.history.length},(function(){e.showHistory()}));else{var a=n.filter((function(t){return t.Value.tx_data.tx_type==e.state.filtername}));console.log(a),e.setState({allhistory:a,copyallhistory:a,totalCount:a.length},(function(){e.showHistory()}))}}})).catch((function(e){}))})),L()(U()(e),"getHistoryTotal",(function(){he.a.get("".concat(Ee,"/getTransHistory"),{}).then((function(t){200===t.status&&e.setState({totalCount:t.data.total},(function(){e.getHistory()}))})).catch((function(e){}))})),L()(U()(e),"handlePageChange",(function(t){console.log("active page is ".concat(t)),e.setState({activePage:t}),e.showHistory()})),L()(U()(e),"success",(function(){return xe.a.success(e.state.notification)})),L()(U()(e),"error",(function(){return xe.a.error(e.state.notification)})),L()(U()(e),"warn",(function(){return xe.a.warn(e.state.notification)})),L()(U()(e),"filterData",(function(t){console.log("clck"),console.log(t),e.setState({filtername:t})})),e.state={perPage:5,totalCount:100,allhistory:[],copyallhistory:[],activePage:1,history:[],notification:"",filtername:"All"},e}return V()(n,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.getHistory()}),2e3)}},{key:"onChange",value:function(e){e.target.files&&null!=e.target.files[0]&&this.fileUpload(e.target.files[0],e.target.getAttribute("data-key"))}},{key:"mappedhistory",value:function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return this.state.history.map((function(t){var n=t.Timestamp,a=new Date(n),l=a.getMonth(),c=a.getDate(),o=a.getFullYear(),i=a.getHours(),u=a.getMinutes(),s=e[l],m="".concat(c," ").concat(s," ").concat(o," ").concat(i,":").concat(u);return r.a.createElement("tr",{key:t.TxId},r.a.createElement("td",null,r.a.createElement("div",{className:"labelGrey"},m)),r.a.createElement("td",null,r.a.createElement("div",{className:"labelBlue"},t.Value.tx_data.tx_details),"DR"==t.Value.tx_data.tx_type?r.a.createElement("div",{className:"labelSmallGrey"},r.a.createElement("h2",null,"Debit")):r.a.createElement("div",{className:"labelSmallGrey"},r.a.createElement("h2",null,"Credit"))),r.a.createElement("td",{className:"right"},r.a.createElement("div",{className:"labelGrey"},"DR"===t.Value.tx_data.tx_type?r.a.createElement("span",null,"XOF -",t.Value.amount):r.a.createElement("span",null,"XOF ",t.Value.amount))))}))}},{key:"render",value:function(){var e=this;return console.log(this.state.allhistory),r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Ewallet History | Merchant ")),r.a.createElement(qn,null),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Kn,null),r.a.createElement(Hn,null,r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"playlist_add_check")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Merchant Transaction"),r.a.createElement("h5",null,"E-wallet activity"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement("div",{className:"clr"},r.a.createElement("div",{className:"menuTabs",onClick:function(){return e.filterData("All")}},"All"),r.a.createElement("div",{className:"menuTabs",onClick:function(){return e.filterData("DR")}},"Payment Sent"),r.a.createElement("div",{className:"menuTabs",onClick:function(){return e.filterData("CR")}},"Payment Recieved")),r.a.createElement(Gn,{marginTop:"34px",smallTd:!0,textAlign:"left"},r.a.createElement("tbody",null,this.state.history&&this.state.history.length>0?this.mappedhistory():null)),r.a.createElement("div",null,r.a.createElement(ca.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.perPage,totalItemsCount:this.state.totalCount,pageRangeDisplayed:5,onChange:this.handlePageChange})))))))}}]),n}(a.Component),ua=n(142),sa=n.n(ua);function ma(){var e=k()(["\n  width: 100%;\n"]);return ma=function(){return e},e}var da=f.c.div(ma()),pa=n(313),fa=n.n(pa);function ga(){var e=k()(["\n  display: block;\n  width: ",";\n  position: relative;\n  margin-right: ",";\n  margin-left: ",";\n  .bottomNote {\n    color: ",";\n    font-size: 14px;\n    margin-bottom: 50px;\n  }\n  .bottomNotePassword {\n    color: ",";\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n  > label {\n    position: absolute;\n    top: 11px;\n    left: 13px;\n    z-index: 0;\n  }\n  > label.focused {\n    top: -7px;\n    left: 15px;\n    color: ",";\n    background: #fff;\n    display: block;\n    font-size: 10px;\n    padding: 0 5px;\n    z-index: 2;\n  }\n  &.checkbox {\n    font-size: 14px;\n    font-weight: bold;\n    color: #000;\n    margin-top: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    > input {\n      margin-right: 10px;\n    }\n  }\n"]);return ga=function(){return e},e}var ha=f.c.div(ga(),(function(e){return e.width}),(function(e){return e.mR?e.mR:"0"}),(function(e){return e.mL?e.mL:"0"}),(function(e){return e.theme.greyLine}),(function(e){return e.theme.secondary}),(function(e){return e.theme.primary}));function Ea(){var e=k()(["\nposition:relative;\n> .uploadedImg{\n    width: 64px;\n    height: 64px;\n    position: absolute;\n    border-radius: 50%;\n    display: block;\n    float: left;\n    top: 14px;\n    left: 40px;\n    background-image: url('","');\n    background-size: cover;\n}\n\n.uploadTrigger{\nwidth: 100%;\nbackground:#fff;\ncursor:pointer;\nborder-radius: 7.5px;\nborder: dashed 1.5px ",";\npadding: 16px 40px;\nmargin-bottom: 20px;\n\n&:after{\n    content: '';\n    display: block;\n    clear:both;\n}\n\n> .uploaded {\n    font-size: 12px;\n    color: ",";\n    font-weight: bold;\n    line-height: 14px;\n    display: block;\n    position: relative;\n    > i{\n        position: absolute;\n        right: 0;\n        top: 0;\n        color: #ff1a1a;\n        font-size: 18px;\n        font-weight: bold;\n        cursor: pointer;\n    }\n}\n>input{\n    display:none;\n}\n> i {\n    font-size: 60px;\n    line-height: 56px;\n    display: block;\n    float: left;\n    color: ",";\n}\n> label {\n    font-size: 18px;\n    font-weight: bold;\n    line-height:3;\n    color: #43434a;\n    float:right;\n    text-align:right;\n    cursor:pointer;\n    p{\n        margin: 0;\n    font-size: 12px;\n    color: #9b9b9b;\n    line-height: 0;\n    }\n}\n}\n"]);return Ea=function(){return e},e}var ba=f.c.div(Ea(),(function(e){return e.bgImg?e.bgImg:""}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}));function va(){var e=k()(["\n  width: 100%;\n  // position:relative;\n  z-index: 1;\n  background: transparent;\n  box-sizing: border-box;\n  padding: ",";\n  border: solid 1px rgba(0, 0, 0, 0.32);\n\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 14px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return va=function(){return e},e}var ya=f.c.select(va(),(function(e){return e.noPadding?"3px 3px":"10px 0px"}),(function(e){return e.theme.primary}));function xa(){var e=k()(["\n  display: block;\n  font-size: 45px;\n  color: #716f6f;\n  text-align: center;\n  .svg.MuiSvgIcon-root.material-icons {\n    font-size: 45px;\n  }\n"]);return xa=function(){return e},e}var Sa=f.c.i(xa()),_a=function(e){document.getElementById(e).click()},wa=function(e,t,n){if(e.target.files&&null!=e.target.files[0])return function(e,t,n,a){var r=new FormData,l="",c="";r.append("file",e);return"document_hash"===n?(l="ipfsUpload",c="".concat(be,"/").concat(l,"?token=").concat(t)):(l="imageUpload",c="".concat(be,"/").concat(a,"/").concat(l)),he.a.post(c,r,{headers:{"content-type":"multipart/form-data"}}).then((function(e){if(200===e.status){if(e.data.error)throw e.data.error;return"logo"===n?e.data.name:e.data.hash}throw e.data.error})).catch((function(e){Se("something went wrong!","error")}))}(e.target.files[0],t,e.target.getAttribute("data-key",n),n).then((function(e){return e}))};var ka=function(e){var t=Object(a.useState)([]),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=s()(o,2),u=i[0],m=i[1],d=JSON.parse(localStorage.getItem("merchantLogged")).token;return Object(a.useEffect)((function(){(function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt();case 2:t=e.sent,c(t.list);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),fe(e.type,2)}),[]),console.log(e.staff.role),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.staff.name||"",role:e.staff.role||"staff",code:e.staff.code||"",logo:e.staff.logo||"",email:e.staff.email||"",mobile:e.staff.mobile||"",ccode:e.staff.ccode||"+91",username:e.staff.username||"",password:e.staff.password||"",branch_id:e.staff.branch_id||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("update"!==e.type){t.next=8;break}return m(!0),n.staff_id=e.staff._id,t.next=5,Tt(e,n,"update");case 5:m(!1),t.next=12;break;case 8:return m(!0),t.next=11,Tt(e,n,"create");case 11:m(!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting,t.handleChange),c=t.handleBlur,o=t.handleSubmit,i=(t.handleFocus,t.setFieldValue);return r.a.createElement("div",null,r.a.createElement("h1",null," ","update"===e.type?"Update Staff":"Add Staff"),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"Name*"),r.a.createElement(F,{type:"text",name:"name",pattern:".{4,15}",title:"Minimum 4 characters",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.name,onChange:a,required:!0})),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"Code*"),r.a.createElement(F,{type:"text",name:"code",pattern:".{4,15}",title:"Minimum 4 characters",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.code,onChange:a,required:!0})),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"Role*"),r.a.createElement(ya,{type:"text",name:"role",value:n.role,onChange:a,required:!0},r.a.createElement("option",{value:"staff"},"Staff"),r.a.createElement("option",{value:"cashier"},"Cashier"),r.a.createElement("option",{value:"admin"},"Admin"))),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"Email*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.email,onChange:a,required:!0})),r.a.createElement(rt,{mR:"10%",mL:"10%"},r.a.createElement(ct,{cW:"30%"},r.a.createElement(ha,null,r.a.createElement(F,{type:"text",name:"ccode",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.ccode,onChange:a,required:!0}))),r.a.createElement(ct,{cW:"68%"},r.a.createElement(ha,null,r.a.createElement("label",null,"Mobile*"),r.a.createElement(F,{type:"text",pattern:"[0-9]{10}",title:"10 Digit numeric value",name:"mobile",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.mobile,onChange:a,required:!0})))),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"User Id*"),r.a.createElement(F,{type:"text",name:"username",pattern:".{4,15}",title:"Minimum 4 characters",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.username,onChange:a,required:!0})),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement("label",null,"Password*"),r.a.createElement(F,{type:"password",pattern:".{8,}",title:"Minimum 8 Characters",name:"password",onFocus:function(e){a(e),de(e)},onBlur:function(e){c(e),a(e),pe(e)},value:n.password,onChange:a,required:!0})),r.a.createElement(ha,{mR:"10%",mL:"10%",style:{display:"admin"===n.role?"none":""}},r.a.createElement(ya,{type:"text",name:"branch_id",value:n.branch_id,onChange:a,required:!0},r.a.createElement("option",{value:""},"Select Branch*"),l&&l.length>0?l.map((function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)})):null)),r.a.createElement(ha,{mR:"10%",mL:"10%"},r.a.createElement(ba,{bgImg:ve+n.logo},n.logo?r.a.createElement("a",{className:"uploadedImg",href:ve+n.logo,target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return _a("logo")}},r.a.createElement("input",{type:"file",id:"logo","data-key":"logo",onChange:function(e){wa(e,d,"merchant").then((function(e){i("logo",e)}))}}),n.logo?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===n.logo?r.a.createElement("span",null,"Profile Photo"):r.a.createElement("span",null,"Change Profile Photo"),"*")))),r.a.createElement(Sa,{className:"material-icons"},r.a.createElement(fa.a,{style:{fontSize:"45px"}})),u?r.a.createElement(z,{filledBtn:!0,marginTop:"20px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{type:"submit",onClick:o,filledBtn:!0,marginTop:"20px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,"update"===e.type?"Update Staff":"Add Staff")))})))},Na=function(){var e=Object(a.useState)([]),t=s()(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),o=s()(c,2),i=o[0],u=o[1],m=Object(a.useState)(!1),d=s()(m,2),p=d[0],f=d[1],g=r.a.useState("new"),h=s()(g,2),b=h[0],v=h[1],y=r.a.useState(!1),x=s()(y,2),S=x[0],_=x[1],w=r.a.useState({}),k=s()(w,2),N=k[0],C=k[1],B=function(e,t){C(t),v(e),f(!0)},O=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,Rt();case 3:t=e.sent,console.log(t),l(t.list),u(t.list),_(t.loading);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){O()}),[]);if(S)return r.a.createElement(oe,{fullPage:!0});return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Staff")),r.a.createElement(qn,{active:"staff"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Kn,{showClaimButton:!0}),r.a.createElement(Hn,null,r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(sa.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Staff",onChange:function(e){!function(e){console.log(e),console.log(n);var t=i.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));l(t)}(e.target.value)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return B("new",{})}},r.a.createElement("i",{className:"material-icons"},"add"),r.a.createElement("span",null,"Add Staff"))),r.a.createElement(rt,{className:"clr"},n&&n.length>0?n.map((function(e){if(!e.isAdmin){var t=e.logo&&""!==e.logo&&void 0!==e.logo?ve+e.logo:"".concat(ye,"main/default-profile.png");return r.a.createElement(it,{key:e._id,col:!0,horizontalMargin:"10px",cardWidth:"192px"},r.a.createElement("div",{className:"profile"},r.a.createElement("img",{style:{height:"100px",width:"100px"},src:t})),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"80%"},r.a.createElement("h4",{className:"hh"},e.name)),r.a.createElement(ct,{cW:"20%"},r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return B("update",e)}},"Edit"),2===e.status?r.a.createElement("span",{onClick:function(){return It("unblock",e._id).then((function(){return O()}))}},"Unblock"):r.a.createElement("span",{onClick:function(){return It("block",e._id).then((function(){return O()}))}},"Block"))))))}return r.a.createElement("div",{key:e._id})})):null))),p?r.a.createElement(ka,{type:b,staff:N,refreshStaffList:function(){return O()},onClose:function(){f(!1)}}):null)};function Ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Ba(){var e=k()(["\n  width: 100%;\n  z-index: 1;\n  height: auto;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 10px;\n  padding-right: 0;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 5px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return Ba=function(){return e},e}var Oa=f.c.select(Ba(),(function(e){return e.theme.primary})),Pa=function(e){X()(n,e);var t=Ca(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"sendCloseSignal",(function(t){document.getElementById("CountrySelectBoxBody").contains(t.target)||e.props.close()})),e}return V()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(Oa,this.props,r.a.createElement("option",{title:"+221"},"Senegal"),r.a.createElement("option",{title:"+213"},"Algeria"),r.a.createElement("option",{title:"+376"},"Andorra"),r.a.createElement("option",{title:"+244"},"Angola"),r.a.createElement("option",{title:"+1264"},"Anguilla"),r.a.createElement("option",{title:"+1268"},"Antigua & Barbuda"),r.a.createElement("option",{title:"+54"},"Argentina"),r.a.createElement("option",{title:"+374"},"Armenia"),r.a.createElement("option",{title:"+297"},"Aruba"),r.a.createElement("option",{title:"+61"},"Australia"),r.a.createElement("option",{title:"+43"},"Austria"),r.a.createElement("option",{title:"+994"},"Azerbaijan"),r.a.createElement("option",{title:"+1242"},"Bahamas"),r.a.createElement("option",{title:"+973"},"Bahrain"),r.a.createElement("option",{title:"+880"},"Bangladesh"),r.a.createElement("option",{title:"+1246"},"Barbados"),r.a.createElement("option",{title:"+375"},"Belarus"),r.a.createElement("option",{title:"+32"},"Belgium"),r.a.createElement("option",{title:"+501"},"Belize"),r.a.createElement("option",{title:"+229"},"Benin"),r.a.createElement("option",{title:"+1441"},"Bermuda"),r.a.createElement("option",{title:"+975"},"Bhutan"),r.a.createElement("option",{title:"+591"},"Bolivia"),r.a.createElement("option",{title:"+387"},"Bosnia Herzegovina"),r.a.createElement("option",{title:"+267"},"Botswana"),r.a.createElement("option",{title:"+55"},"Brazil"),r.a.createElement("option",{title:"+673"},"Brunei"),r.a.createElement("option",{title:"+359"},"Bulgaria"),r.a.createElement("option",{title:"+226"},"Burkina Faso"),r.a.createElement("option",{title:"+257"},"Burundi"),r.a.createElement("option",{title:"+855"},"Cambodia"),r.a.createElement("option",{title:"+237"},"Cameroon"),r.a.createElement("option",{title:"+1"},"Canada"),r.a.createElement("option",{title:"+238"},"Cape Verde Islands"),r.a.createElement("option",{title:"+1345"},"Cayman Islands"),r.a.createElement("option",{title:"+236"},"Central African Republic"),r.a.createElement("option",{title:"+56"},"Chile"),r.a.createElement("option",{title:"+86"},"China"),r.a.createElement("option",{title:"+57"},"Colombia"),r.a.createElement("option",{title:"+269"},"Comoros"),r.a.createElement("option",{title:"+242"},"Congo"),r.a.createElement("option",{title:"+682"},"Cook Islands"),r.a.createElement("option",{title:"+506"},"Costa Rica"),r.a.createElement("option",{title:"+385"},"Croatia"),r.a.createElement("option",{title:"+53"},"Cuba"),r.a.createElement("option",{title:"+90392"},"Cyprus North"),r.a.createElement("option",{title:"+357"},"Cyprus South"),r.a.createElement("option",{title:"+42"},"Czech Republic"),r.a.createElement("option",{title:"+45"},"Denmark"),r.a.createElement("option",{title:"+253"},"Djibouti"),r.a.createElement("option",{title:"+1809"},"Dominica"),r.a.createElement("option",{title:"+1809"},"Dominican Republic"),r.a.createElement("option",{title:"+593"},"Ecuador"),r.a.createElement("option",{title:"+20"},"Egypt"),r.a.createElement("option",{title:"+503"},"El Salvador"),r.a.createElement("option",{title:"+240"},"Equatorial Guinea"),r.a.createElement("option",{title:"+291"},"Eritrea"),r.a.createElement("option",{title:"+372"},"Estonia"),r.a.createElement("option",{title:"+251"},"Ethiopia"),r.a.createElement("option",{title:"+500"},"Falkland Islands"),r.a.createElement("option",{title:"+298"},"Faroe Islands"),r.a.createElement("option",{title:"+679"},"Fiji"),r.a.createElement("option",{title:"+358"},"Finland"),r.a.createElement("option",{title:"+33"},"France"),r.a.createElement("option",{title:"+594"},"French Guiana"),r.a.createElement("option",{title:"+689"},"French Polynesia"),r.a.createElement("option",{title:"+241"},"Gabon"),r.a.createElement("option",{title:"+220"},"Gambia"),r.a.createElement("option",{title:"+7880"},"Georgia"),r.a.createElement("option",{title:"+49"},"Germany"),r.a.createElement("option",{title:"+233"},"Ghana"),r.a.createElement("option",{title:"+350"},"Gibraltar"),r.a.createElement("option",{title:"+30"},"Greece"),r.a.createElement("option",{title:"+299"},"Greenland"),r.a.createElement("option",{title:"+1473"},"Grenada"),r.a.createElement("option",{title:"+590"},"Guadeloupe"),r.a.createElement("option",{title:"+671"},"Guam"),r.a.createElement("option",{title:"+502"},"Guatemala"),r.a.createElement("option",{title:"+224"},"Guinea"),r.a.createElement("option",{title:"+245"},"Guinea - Bissau"),r.a.createElement("option",{title:"+592"},"Guyana"),r.a.createElement("option",{title:"+509"},"Haiti"),r.a.createElement("option",{title:"+504"},"Honduras"),r.a.createElement("option",{title:"+852"},"Hong Kong"),r.a.createElement("option",{title:"+36"},"Hungary"),r.a.createElement("option",{title:"+354"},"Iceland"),r.a.createElement("option",{title:"+91"},"India"),r.a.createElement("option",{title:"+62"},"Indonesia"),r.a.createElement("option",{title:"+98"},"Iran"),r.a.createElement("option",{title:"+964"},"Iraq"),r.a.createElement("option",{title:"+353"},"Ireland"),r.a.createElement("option",{title:"+972"},"Israel"),r.a.createElement("option",{title:"+39"},"Italy"),r.a.createElement("option",{title:"+1876"},"Jamaica"),r.a.createElement("option",{title:"+81"},"Japan"),r.a.createElement("option",{title:"+962"},"Jordan"),r.a.createElement("option",{title:"+7"},"Kazakhstan"),r.a.createElement("option",{title:"+254"},"Kenya"),r.a.createElement("option",{title:"+686"},"Kiribati"),r.a.createElement("option",{title:"+850"},"Korea North"),r.a.createElement("option",{title:"+82"},"Korea South"),r.a.createElement("option",{title:"+965"},"Kuwait"),r.a.createElement("option",{title:"+996"},"Kyrgyzstan"),r.a.createElement("option",{title:"+856"},"Laos"),r.a.createElement("option",{title:"+371"},"Latvia"),r.a.createElement("option",{title:"+961"},"Lebanon"),r.a.createElement("option",{title:"+266"},"Lesotho"),r.a.createElement("option",{title:"+231"},"Liberia"),r.a.createElement("option",{title:"+218"},"Libya"),r.a.createElement("option",{title:"+417"},"Liechtenstein"),r.a.createElement("option",{title:"+370"},"Lithuania"),r.a.createElement("option",{title:"+352"},"Luxembourg"),r.a.createElement("option",{title:"+853"},"Macao"),r.a.createElement("option",{title:"+389"},"Macedonia"),r.a.createElement("option",{title:"+261"},"Madagascar"),r.a.createElement("option",{title:"+265"},"Malawi"),r.a.createElement("option",{title:"+60"},"Malaysia"),r.a.createElement("option",{title:"+960"},"Maldives"),r.a.createElement("option",{title:"+223"},"Mali"),r.a.createElement("option",{title:"+356"},"Malta"),r.a.createElement("option",{title:"+692"},"Marshall Islands"),r.a.createElement("option",{title:"+596"},"Martinique"),r.a.createElement("option",{title:"+222"},"Mauritania"),r.a.createElement("option",{title:"+269"},"Mayotte"),r.a.createElement("option",{title:"+52"},"Mexico"),r.a.createElement("option",{title:"+691"},"Micronesia"),r.a.createElement("option",{title:"+373"},"Moldova"),r.a.createElement("option",{title:"+377"},"Monaco"),r.a.createElement("option",{title:"+976"},"Mongolia"),r.a.createElement("option",{title:"+1664"},"Montserrat"),r.a.createElement("option",{title:"+212"},"Morocco"),r.a.createElement("option",{title:"+258"},"Mozambique"),r.a.createElement("option",{title:"+95"},"Myanmar"),r.a.createElement("option",{title:"+264"},"Namibia"),r.a.createElement("option",{title:"+674"},"Nauru"),r.a.createElement("option",{title:"+977"},"Nepal"),r.a.createElement("option",{title:"+31"},"Netherlands"),r.a.createElement("option",{title:"+687"},"New Caledonia"),r.a.createElement("option",{title:"+64"},"New Zealand"),r.a.createElement("option",{title:"+505"},"Nicaragua"),r.a.createElement("option",{title:"+227"},"Niger"),r.a.createElement("option",{title:"+234"},"Nigeria"),r.a.createElement("option",{title:"+683"},"Niue"),r.a.createElement("option",{title:"+672"},"Norfolk Islands"),r.a.createElement("option",{title:"+670"},"Northern Marianas"),r.a.createElement("option",{title:"+47"},"Norway"),r.a.createElement("option",{title:"+968"},"Oman"),r.a.createElement("option",{title:"+680"},"Palau"),r.a.createElement("option",{title:"+507"},"Panama"),r.a.createElement("option",{title:"+675"},"Papua New Guinea"),r.a.createElement("option",{title:"+595"},"Paraguay"),r.a.createElement("option",{title:"+51"},"Peru"),r.a.createElement("option",{title:"+63"},"Philippines"),r.a.createElement("option",{title:"+48"},"Poland"),r.a.createElement("option",{title:"+351"},"Portugal"),r.a.createElement("option",{title:"+1787"},"Puerto Rico"),r.a.createElement("option",{title:"+974"},"Qatar"),r.a.createElement("option",{title:"+262"},"Reunion"),r.a.createElement("option",{title:"+40"},"Romania"),r.a.createElement("option",{title:"+7"},"Russia"),r.a.createElement("option",{title:"+250"},"Rwanda"),r.a.createElement("option",{title:"+378"},"San Marino"),r.a.createElement("option",{title:"+239"},"Sao Tome & Principe"),r.a.createElement("option",{title:"+966"},"Saudi Arabia"),r.a.createElement("option",{title:"+221"},"Senegal"),r.a.createElement("option",{title:"+381"},"Serbia"),r.a.createElement("option",{title:"+248"},"Seychelles"),r.a.createElement("option",{title:"+232"},"Sierra Leone"),r.a.createElement("option",{title:"+65"},"Singapore"),r.a.createElement("option",{title:"+421"},"Slovak Republic"),r.a.createElement("option",{title:"+386"},"Slovenia"),r.a.createElement("option",{title:"+677"},"Solomon Islands"),r.a.createElement("option",{title:"+252"},"Somalia"),r.a.createElement("option",{title:"+27"},"South Africa"),r.a.createElement("option",{title:"+34"},"Spain"),r.a.createElement("option",{title:"+94"},"Sri Lanka"),r.a.createElement("option",{title:"+290"},"St. Helena"),r.a.createElement("option",{title:"+1869"},"St. Kitts"),r.a.createElement("option",{title:"+1758"},"St. Lucia"),r.a.createElement("option",{title:"+249"},"Sudan"),r.a.createElement("option",{title:"+597"},"Suriname"),r.a.createElement("option",{title:"+268"},"Swaziland"),r.a.createElement("option",{title:"+46"},"Sweden"),r.a.createElement("option",{title:"+41"},"Switzerland"),r.a.createElement("option",{title:"+963"},"Syria"),r.a.createElement("option",{title:"+886"},"Taiwan"),r.a.createElement("option",{title:"+7"},"Tajikstan"),r.a.createElement("option",{title:"+66"},"Thailand"),r.a.createElement("option",{title:"+228"},"Togo"),r.a.createElement("option",{title:"+676"},"Tonga"),r.a.createElement("option",{title:"+1868"},"Trinidad & Tobago"),r.a.createElement("option",{title:"+216"},"Tunisia"),r.a.createElement("option",{title:"+90"},"Turkey"),r.a.createElement("option",{title:"+7"},"Turkmenistan"),r.a.createElement("option",{title:"+993"},"Turkmenistan"),r.a.createElement("option",{title:"+1649"},"Turks & Caicos Islands"),r.a.createElement("option",{title:"+688"},"Tuvalu"),r.a.createElement("option",{title:"+256"},"Uganda"),r.a.createElement("option",{title:"+44"},"UK"),r.a.createElement("option",{title:"+380"},"Ukraine"),r.a.createElement("option",{title:"+971"},"United Arab Emirates"),r.a.createElement("option",{title:"+598"},"Uruguay"),r.a.createElement("option",{title:"+1"},"USA"),r.a.createElement("option",{title:"+7"},"Uzbekistan"),r.a.createElement("option",{title:"+678"},"Vanuatu"),r.a.createElement("option",{title:"+379"},"Vatican City"),r.a.createElement("option",{title:"+58"},"Venezuela"),r.a.createElement("option",{title:"+84"},"Vietnam"),r.a.createElement("option",{title:"+84"},"Virgin Islands - British"),r.a.createElement("option",{title:"+84"},"Virgin Islands - US"),r.a.createElement("option",{title:"+681"},"Wallis & Futuna"),r.a.createElement("option",{title:"+969"},"Yemen"),r.a.createElement("option",{title:"+967"},"Yemen"),r.a.createElement("option",{title:"+260"},"Zambia"),r.a.createElement("option",{title:"+263"},"Zimbabwe"))}}]),n}(a.Component);var Ta=function(e){return Object(a.useEffect)((function(){fe(e.type)})),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.branch.name||"",code:e.branch.code||"",username:e.branch.username||"",address1:e.branch.address1||"",state:e.branch.state||"",zip:e.branch.zip||"",country:e.branch.country||"Senegal",ccode:e.branch.ccode||"+221",mobile:e.branch.mobile||"",email:e.branch.email||"",working_from:e.branch.working_from||"",working_to:e.branch.working_to||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.subzone_id=e.subzoneId||e.branch.subzone_id,"update"!==e.type){t.next=6;break}return t.next=4,Nt(e,n,"update");case 4:t.next=9;break;case 6:return n.zone_id=e.zoneID,t.next=9,Nt(e,n,"create");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({mobile:v.e().min(10,"number should be atleast 10 digits").max(10,"number cannot exceed 10 digits").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Mobile no must be valid").required("Mobile no is required"),code:v.e().min(3,"Branch code should be atleast 3 characters").required("Branch code is required"),name:v.e().min(3,"Merchant name should be atleast 3 characters").required("Merchant name is required"),email:v.e().email("Please provide a valid email").required("Email is required")})},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting),l=t.handleChange,c=t.handleBlur,o=(t.handleSubmit,t.handleFocus,t.setFieldValue);return r.a.createElement("div",null,r.a.createElement("h1",null,"update"===e.type?"Update Branch":"Add Branch"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Branch Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Branch ID*"),r.a.createElement(F,{type:"text",name:"code",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.code,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Branch Admin: User ID*"),r.a.createElement(F,{type:"text",name:"username",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.username,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Address*"),r.a.createElement(F,{type:"text",name:"address1",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.address1,onChange:l,required:!0})),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"State"),r.a.createElement(F,{type:"text",name:"state",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.state,onChange:l,required:!0}))),r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Zip Code"),r.a.createElement(F,{type:"text",name:"zip",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.zip,onChange:l,required:!0})))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement(Pa,{type:"text",name:"country",value:n.country,onChange:function(e){var t=e.target.value,n=e.target.options[e.target.selectedIndex].title;o("ccode",n,!0),o("country",t,!0)},"data-change":"ccode",required:!0}))),r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Authorized Email Id*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.email,onChange:l,required:!0})))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"20%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement(F,{type:"text",name:"ccode",readOnly:!0,value:n.ccode,onChange:l,required:!0}))),r.a.createElement(ct,{cW:"78%"},r.a.createElement(ha,null,r.a.createElement("label",null,"Authorized Mobile Number*"),r.a.createElement(F,{type:"text",pattern:"[0-9]{10}",title:"10 Digit numeric value",name:"mobile",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.mobile,onChange:l,required:!0})))),r.a.createElement("label",null,"Working Hours"),r.a.createElement("hr",{style:{visibility:"hidden"}}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"49%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"From*"),r.a.createElement(F,{type:"time",name:"working_from",min:"00:00",max:"23:00",autoFocus:!0,value:n.working_from,onChange:l,required:!0}))),r.a.createElement(ct,{cW:"49%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"To*"),r.a.createElement(F,{type:"time",autoFocus:!0,min:"00:00",max:"23:00",name:"working_to",value:n.working_to,onChange:l,required:!0})))),r.a.createElement(z,{type:"submit",filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null," ","update"===e.type?"Update Branch":"Add Branch"))))})))};var Ia=function(e){var t=JSON.parse(localStorage.getItem("merchantLogged")).bank.name,n=JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,l=JSON.parse(localStorage.getItem("merchantLogged")).details._id,c=r.a.useState(!1),o=s()(c,2),i=o[0],u=o[1],m=JSON.parse(localStorage.getItem("currentSubzone")).name,d=r.a.useState(""),p=s()(d,2),f=(p[0],p[1]),g=r.a.useState(""),h=s()(g,2),b=h[0],v=h[1],y=r.a.useState([]),x=s()(y,2),S=x[0],_=x[1],w=r.a.useState([]),k=s()(w,2),N=(k[0],k[1]),C=r.a.useState({}),B=s()(C,2),O=(B[0],B[1]),P=r.a.useState({}),T=s()(P,2),I=T[0],R=T[1],L=r.a.useState({}),D=s()(L,2),M=D[0],W=D[1],F=r.a.useState({}),A=s()(F,2),j=A[0],q=A[1],V=r.a.useState({}),H=s()(V,2),U=H[0],J=H[1],X=r.a.useState(),G=s()(X,2),Z=G[0],Q=G[1],Y=r.a.useState(),K=s()(Y,2),ee=K[0],te=K[1],ne=r.a.useState({}),ae=s()(ne,2),re=ae[0],le=ae[1],ce=r.a.useState({}),ie=s()(ce,2),ue=ie[0],se=ie[1],me=r.a.useState("new"),de=s()(me,2),pe=de[0],fe=de[1],ge=r.a.useState({}),be=s()(ge,2),ve=be[0],ye=be[1],xe=r.a.useState(!1),Se=s()(xe,2),_e=Se[0],we=Se[1],ke=e.match.params.id;console.log(ke);var Ne=function(e,t){ye(t),fe(e),u(!0)},Ce=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we(!0),Ct(ke).then((function(e){_(e.list),N(e.list),we(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we(!0),ln(l).then((function(e){console.log(e),f(e.zone_name),v(e.subzone_name),we(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function e(){he.a.post("".concat(Ee,"/getMerchantBranchListDashStats"),{subzone_id:ke}).then((function(e){if(200==e.status){if(0===e.data.status)throw e.data.error;R(e.data.post6.filter((function(e){return"MC"===e._id}))[0]),q(e.data.post6.filter((function(e){return"BC"===e._id}))[0]),W(e.data.post6.filter((function(e){return"PC"===e._id}))[0]),J(e.data.post6.filter((function(e){return"US"===e._id}))[0]),Q(e.data.post6.reduce((function(e,t){return e+t.bills_paid}),0)),te(e.data.post6.reduce((function(e,t){return e+t.amount_paid}),0)),le(e.data.post7.filter((function(e){return 1===e._id}))[0]),se(e.data.post7.filter((function(e){return 0===e._id}))[0]),O(e.data)}})).then((function(t){setTimeout((function(){e()}),3e3)})).catch((function(t){setTimeout((function(){e()}),3e3)}))}(),Ce(),Be()}),[]),_e?r.a.createElement(oe,{fullPage:!0}):(JSON.parse(localStorage.getItem("currentZone")).name,r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Branches")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(it,{style:{marginBottom:"10px"}},r.a.createElement("h3",{style:{color:"green",textAlign:"center",marginBottom:"10px"}},m," ")),r.a.createElement(Kn,{showClaimButton:!0}),r.a.createElement(Hn,null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Created",no:re?re.bills_generated:0,amount:re?re.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Uploaded",no:ue?ue.bills_generated:0,amount:ue?ue.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid",no:Z,amount:ee})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Pending",no:re?re.bills_generated-Z:0,amount:re?re.amount_generated-ee:0}))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by bank",no:j?j.bills_paid:0,amount:j?j.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by partner",no:M?M.bills_paid:0,amount:M?M.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by merchant",no:I?I.bills_paid:0,amount:I?I.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by user",no:U?U.bills_paid:0,amount:U?U.bills_paid:0})))),r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"}),r.a.createElement(it,{bigPadding:!0},r.a.createElement(z,{className:"addBankButton",flex:!0,style:{float:"right",marginBottom:"10px"},onClick:function(){return Ne("new",{})}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add Branch")),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Branch Code"),r.a.createElement("th",null,"Total Staff Position"),r.a.createElement("th",null,"Branch Admin"),r.a.createElement("th",null))),r.a.createElement("tbody",null,S&&S.length>0?S.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.code),r.a.createElement("td",{className:"tac"},e.total_positions),r.a.createElement("td",{className:"tac"},e.username),r.a.createElement("td",{className:"tac bold green"},r.a.createElement(z,{style:{minWidth:"90%",marginRight:"5px"},onClick:function(){localStorage.setItem("selectedBranch",JSON.stringify(e)),$.push("/merchant/branch/dashboard/".concat(e._id))}},"View"),r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return t=e,localStorage.setItem("selectedBranch",JSON.stringify(t)),void $.push("/merchant/branch/info/".concat(t._id));var t}},"Info"),r.a.createElement("span",{onClick:function(){return Ne("update",e)}},"Edit"),2===e.status?r.a.createElement("span",{onClick:function(){return Pt(e._id).then((function(){return Ce()}))}},"Unblock"):r.a.createElement("span",{onClick:et()(Ke.a.mark((function t(){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ot(e._id).then((function(){Ce()})));case 1:case"end":return t.stop()}}),t)})))},"Block")))))})):null))))),r.a.createElement(aa,{bankname:t,banklogo:n}),i?r.a.createElement(Ta,{subzonename:b,type:pe,subzoneId:ke,zoneID:localStorage.getItem("selectedZone"),zone:localStorage.getItem("currentZone"),branch:ve,refreshBranchList:function(e){return Ce()},onClose:function(){u(!1)}}):null))};var Ra=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null,"update"===e.type?r.a.createElement("span",null,"Update ",e.subzonename," for ",e.zonename):r.a.createElement("span",null,"Create ",e.subzonename," for ",e.zonename)),r.a.createElement(b.d,{initialValues:{code:e.subzone.code||"",name:e.subzone.name||"",description:e.subzone.description||"",type:e.subzone.type||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.zone_id=e.zoneId,"update"!==e.type){t.next=7;break}return n.subzone_id=e.subzone._id,t.next=5,kt(e,n,"update");case 5:t.next=9;break;case 7:return t.next=9,kt(e,n,"create");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({name:v.e().min(3,"Zone name should be atleast 3 characters").required("Zone name is required"),code:v.e().min(3,"Zone Id should be atleast 3 characters").required("Zone Id is required")})},(function(t){var n=t.isSubmitting,a=t.handleChange,l=t.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"code"},e.subzonename," ID*"),r.a.createElement(b.b,{type:"text",name:"code",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},as:F}),r.a.createElement(b.a,{name:"code",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},e.subzonename," Name"),r.a.createElement(b.b,{type:"text",name:"name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F}),r.a.createElement(b.a,{name:"name",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"type"},e.subzonename," Type"),r.a.createElement(b.b,{type:"text",name:"type",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F}),r.a.createElement(b.a,{name:"type",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement(b.b,{type:"text",name:"description",rows:"3",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:pn})),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"update"===e.type?r.a.createElement("span",null,"Update ",e.subzonename):r.a.createElement("span",null,"Create ",e.subzonename)))))})))};var La=function(e){var t=JSON.parse(localStorage.getItem("merchantLogged")).details._id,n=JSON.parse(localStorage.getItem("merchantLogged")).bank.name,l=JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,c=JSON.parse(localStorage.getItem("currentZone")).name,o=r.a.useState(!1),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState([]),b=s()(h,2),v=(b[0],b[1],r.a.useState("new")),y=s()(v,2),x=y[0],S=y[1],_=r.a.useState(""),w=s()(_,2),k=w[0],N=w[1],C=r.a.useState(""),B=s()(C,2),O=B[0],P=B[1],T=r.a.useState([]),I=s()(T,2),R=I[0],L=I[1],D=r.a.useState({}),M=s()(D,2),W=M[0],F=M[1],A=r.a.useState(!1),j=s()(A,2),q=j[0],V=j[1],H=r.a.useState({}),U=s()(H,2),J=(U[0],U[1]),X=r.a.useState({}),G=s()(X,2),Z=G[0],Q=G[1],Y=r.a.useState({}),K=s()(Y,2),ee=K[0],te=K[1],ne=r.a.useState({}),ae=s()(ne,2),re=ae[0],le=ae[1],ce=r.a.useState({}),ie=s()(ce,2),ue=ie[0],se=ie[1],me=r.a.useState(),de=s()(me,2),pe=de[0],fe=de[1],ge=r.a.useState(),be=s()(ge,2),ve=be[0],ye=be[1],xe=r.a.useState({}),Se=s()(xe,2),_e=Se[0],we=Se[1],ke=r.a.useState({}),Ne=s()(ke,2),Ce=Ne[0],Be=Ne[1],Oe=e.match.params.id;console.log(Oe);var Pe=function(e,t){F(t),S(e),m(!0)},Te=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn(t._id);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=et()(Ke.a.mark((function e(){var n,a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!0),e.next=3,ln(t);case 3:return n=e.sent,N(n.zone_name),P(n.subzone_name),e.next=8,wt(Oe);case 8:return a=e.sent,g(a.list),e.next=12,Te(a.list);case 12:r=e.sent,L(r.res),V(r.loading);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function e(){he.a.post("".concat(Ee,"/getMerchantSubzoneListDashStats"),{zone_id:Oe}).then((function(e){if(200==e.status){if(0===e.data.status)throw e.data.error;Q(e.data.post6.filter((function(e){return"MC"===e._id}))[0]),le(e.data.post6.filter((function(e){return"BC"===e._id}))[0]),te(e.data.post6.filter((function(e){return"PC"===e._id}))[0]),se(e.data.post6.filter((function(e){return"US"===e._id}))[0]),fe(e.data.post6.reduce((function(e,t){return e+t.bills_paid}),0)),ye(e.data.post6.reduce((function(e,t){return e+t.amount_paid}),0)),we(e.data.post7.filter((function(e){return 1===e._id}))[0]),Be(e.data.post7.filter((function(e){return 0===e._id}))[0]),J(e.data)}})).then((function(t){setTimeout((function(){e()}),3e3)})).catch((function(t){setTimeout((function(){e()}),3e3)}))}(),Ie()}),[]),q?r.a.createElement(oe,{fullPage:!0}):(JSON.parse(localStorage.getItem("currentZone")).name,r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Subzones")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(it,{style:{marginBottom:"10px"}},r.a.createElement("h3",{style:{color:"green",textAlign:"center",marginBottom:"10px"}},c," ")),r.a.createElement(Kn,{showClaimButton:!0}),r.a.createElement(Hn,null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Created",no:_e?_e.bills_generated:0,amount:_e?_e.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Uploaded",no:Ce?Ce.bills_generated:0,amount:Ce?Ce.amount_generated:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid",no:pe,amount:ve})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Pending",no:_e?_e.bills_generated-pe:0,amount:_e?_e.amount_generated-ve:0}))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by bank",no:re?re.bills_paid:0,amount:re?re.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by partner",no:ee?ee.bills_paid:0,amount:ee?ee.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by merchant",no:Z?Z.bills_paid:0,amount:Z?Z.bills_paid:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Paid by user",no:ue?ue.bills_paid:0,amount:ue?ue.bills_paid:0})))),r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"}),r.a.createElement(it,{bigPadding:!0},r.a.createElement(z,{className:"dashBtn",style:{float:"right",marginBottom:"10px"},flex:!0,onClick:function(){return Pe("new",{})}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add ",O)),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Subzones"),r.a.createElement("th",null,"Branches"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Invoice Paid"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Invoice Pending"),r.a.createElement("th",null,"Amount Pending"))),r.a.createElement("tbody",null,f&&f.length>0?f.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac popMenuTrigger",onClick:function(){localStorage.setItem("selectedSubzone",e._id),localStorage.setItem("currentSubzone",JSON.stringify(e)),$.push("/merchant/".concat(e._id,"/branches"))}},e.branch_count),r.a.createElement("td",{className:"tac"},R[t].bill_generated),r.a.createElement("td",{className:"tac"},R[t].amount_generated),r.a.createElement("td",{className:"tac"},"0"),r.a.createElement("td",{className:"tac"},"0"),r.a.createElement("td",{className:"tac"},R[t].bill_paid),r.a.createElement("td",{className:"tac"},R[t].amount_paid),r.a.createElement("td",{className:"tac"},R[t].bill_generated-R[t].bill_paid),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",{className:"tac"},R[t].amount_generated-R[t].amount_paid),r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){localStorage.setItem("selectedSubzone",e._id),localStorage.setItem("currentSubzone",JSON.stringify(e)),$.push("/merchant/".concat(e._id,"/branches"))}},r.a.createElement("span",null,"Branches")),r.a.createElement("span",{onClick:function(){return Pe("update",e)}},"Edit"))))))})):null))))),r.a.createElement(aa,{bankname:n,banklogo:l}),u?r.a.createElement(Ra,{type:x,zoneId:Oe,subzone:W,subzonename:O,refreshSubzoneList:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return refreshSubzoneList(e)})),zonename:k,onClose:function(){m(!1)}}):null))},Da=n(63),Ma=n.n(Da),za=n(215),Wa=n.n(za),Fa=n(143),Aa=n.n(Fa),ja=n(89),qa=n.n(ja);function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Ha(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return Ha=function(){return e},e}function Ua(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return Ua=function(){return e},e}function Ja(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return Ja=function(){return e},e}var Xa=f.c.aside(Ja(),(function(e){return e.marginRight?"33px":"0"})),Ga=(f.c.h3(Ua()),f.c.h1(Ha()),function(e){X()(n,e);var t=Va(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"editSignal",(function(t){e.props.edit()})),L()(U()(e),"blockSignal",(function(t){"Unblock"===t?e.props.unblock():e.props.block()})),e}return V()(n,[{key:"render",value:function(){var e=this,t="info"===this.props.active,n=(this.props.active,"edit"===this.props.active),a="block"===this.props.active,l=2===this.props.blockStatus?"Unblock":"Block",c=(this.props.type,"cashier"===this.props.active),o=JSON.parse(localStorage.getItem("selectedBranch"));return r.a.createElement(Xa,{marginRight:!0},r.a.createElement(ae,{href:"/merchant/branch/info/".concat(o._id)},r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Branch Info"))),r.a.createElement(ae,{href:"/merchant/".concat(o._id,"/cashiers")},r.a.createElement(it,{rounded:!0,selected:c,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Aa.a,null)),r.a.createElement("h3",null,"Staff Position"))),t?r.a.createElement(it,{rounded:!0,selected:n,className:"sideNav",onClick:this.editSignal},r.a.createElement("i",{className:"material-icons"},r.a.createElement(qa.a,null)),r.a.createElement("h3",null,"Edit")):null,r.a.createElement(it,{rounded:!0,selected:a,className:"sideNav",onClick:function(){return e.blockSignal(l)}},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Wa.a,null)),r.a.createElement("h3",null,l)))}}]),n}(a.Component));function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ya=function(e){var t=Object(a.useState)({}),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=s()(o,2),u=i[0],m=i[1],d=(e.match,localStorage.getItem("selectedZone"));return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("selectedBranch"));c(e)}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Branch | MERCHANT | E-WALLET")),r.a.createElement(qn,{page:"info",middleTitle:l.name,goto:"/merchant/".concat(d,"/branches")}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Ga,{edit:function(){m(!0)},name:l.name,active:"info",blockStatus:l.status,block:function(){return Ot(l._id).then((function(){c(Qa(Qa({},l),{},{status:2}))}))},unblock:function(){return Pt(l._id).then((function(){c(Qa(Qa({},l),{},{status:0}))}))}}),r.a.createElement(Hn,null,r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch Name"),r.a.createElement(ct,{className:"infoRight"},l.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch Code"),r.a.createElement(ct,{className:"infoRight"},l.code)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch User ID"),r.a.createElement(ct,{className:"infoRight"},l.username)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Address"),r.a.createElement(ct,{className:"infoRight"},l.address1)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"State"),r.a.createElement(ct,{className:"infoRight"},l.state)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Zip Code"),r.a.createElement(ct,{className:"infoRight"},l.zip)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Country Code"),r.a.createElement(ct,{className:"infoRight"},l.ccode)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Country"),r.a.createElement(ct,{className:"infoRight"},l.country)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Email"),r.a.createElement(ct,{className:"infoRight"},l.email)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Phone Number"),r.a.createElement(ct,{className:"infoRight"},l.mobile)))))),u?r.a.createElement(Ta,{type:"update",branch:l,refreshBranchList:function(e){return function(e){c(e),localStorage.setItem("selectedBranch",JSON.stringify(e))}(e)},onClose:function(){m(!1)}}):null)},Ka=n(46),$a=n.n(Ka);function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function tr(){var e=k()(["\n  width: 100%;\n  z-index: 1;\n  height: auto;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 10px;\n  padding-right: 0;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 5px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return tr=function(){return e},e}var nr=f.c.select(tr(),(function(e){return e.theme.primary})),ar=function(e){X()(n,e);var t=er(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(nr,this.props,r.a.createElement("option",{value:""},"Select an Option"),r.a.createElement("option",{value:"0"},"Product"),r.a.createElement("option",{value:"1"},"Service"))}}]),n}(a.Component);var rr=function(e){return Object(a.useEffect)((function(){fe(e.type)})),console.log(e),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.offering.name||"",code:e.offering.code||"",denomination:e.offering.denomination||"",description:e.offering.description||"",unit_of_measure:e.offering.unit_of_measure||"",unit_price:e.offering.unit_price||"",type:e.offering.type||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a,r;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("click"),n.offering_id=e.offering._id,"update"!==e.type){t.next=7;break}return t.next=5,zt(e,n);case 5:t.next=13;break;case 7:return(a=[]).push(n),console.log(a),r={offerings:a},t.next=13,Lt(e,r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({code:v.e().required("Offering code is required"),name:v.e().required("Name no is required"),description:v.e().required("Description is required"),denomination:v.e().required("Denomination is required"),unit_of_measure:v.e().required("Unit of measure is required"),unit_price:v.e().required("Unit price is required")})},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting),l=t.handleChange,c=t.handleBlur,o=(t.handleSubmit,t.handleFocus,t.setFieldValue);return r.a.createElement("div",null,r.a.createElement("h1",null,"update"===e.type?"Update Offering":"Add Offering"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Offering Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Offering Code*"),r.a.createElement(F,{type:"text",name:"code",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.code,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Description*"),r.a.createElement(F,{type:"text",name:"description",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.description,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Denomination*"),r.a.createElement(F,{type:"text",name:"denomination",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.denomination,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Unit of measure*"),r.a.createElement(F,{type:"text",name:"unit_of_measure",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.unit_of_measure,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Unit Price*"),r.a.createElement(F,{type:"text",name:"unit_price",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.unit_price,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement(ar,{type:"text",name:"type",value:n.type,onChange:function(e){console.log(e.target),console.log(e.target.value);var t=e.target.value;o("type",t,!0)},required:!0})),r.a.createElement(z,{type:"submit",filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null," ","update"===e.type?"Update Offering":"Add Offering"))))})))},lr=n(220),cr=n.n(lr),or=n(48),ir=n.n(or),ur=n(42),sr=n.n(ur);function mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.get("".concat(be,"/get-country"));case 3:if(0===(t=e.sent).data[0].country_list.length){e.next=6;break}return e.abrupt("return",{list:t.data[0].country_list,loading:!1});case 6:return e.abrupt("return",{list:[],loading:!1});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{list:[],loading:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/getPositionDetails"),{});case 3:if(200!==(t=e.sent).status){e.next=7;break}return 0===t.data.status&&Se(t.data.message,"error"),e.abrupt("return",{counter:t.data.position.counter,loading:!1});case 7:Se(t.data.message,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Se("Something went wrong","error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),gr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/getPositionDetails"),{});case 3:if(200!==(t=e.sent).status){e.next=7;break}return 0===t.data.status&&Se(t.data.message,"error"),e.abrupt("return",{access:t.data.position.counter_invoice_access,loading:!1});case 7:Se(t.data.message,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Se("Something went wrong","error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),hr=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/billNumberSetting"),dr({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refresbillnumber(),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Er=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/increaseCounter"),{});case 3:200===(n=e.sent).status?0===n.data.status?Se(n.data.message,"error"):(Se(n.data.message,"success"),t.refreshInvoiceList(),t.onClose()):Se(n.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),br=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/listInvoiceGroups"),{merchant_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.groups,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),vr=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.get("".concat(be,"/merchantStaff/").concat(t,"DashStatus"));case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 8:return e.abrupt("return",{stats:n.data,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{stats:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),yr=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/staffDashStatus"),{group_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 8:return e.abrupt("return",{stats:n.data,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{stats:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),xr=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/getCashierDashStats"));case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 8:return e.abrupt("return",{stats:n.data,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{stats:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Sr=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/sendOTP"),{email:t,mobile:n,page:a,type:"cashier",txt:r});case 3:if(200!==(l=e.sent).status){e.next=11;break}if(0!==l.data.status){e.next=9;break}Se(l.data.message,"error"),e.next=11;break;case 9:return Se(l.data.message,"success"),e.abrupt("return",l);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),_r=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/openstaff"));case 3:200===(t=e.sent).status&&(0===t.data.status?Se(t.data.message,"error"):Se(t.data.message,"success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),wr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/closestaff"));case 3:200===(t=e.sent).status&&(0===t.data.status?Se(t.data.message,"error"):Se(t.data.message,"success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),kr=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/listInvoices"),{group_id:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.invoices,loading:!1});case 9:return Se(n.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Nr=function(){var e=et()(Ke.a.mark((function e(){var t,n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=sr()(new Date),n=ir()(new Date),e.prev=2,e.next=5,he.a.post("".concat(be,"/merchantStaff/searchPaidInvoiceList"),{from_date:t,to_date:n});case 5:if(200!==(a=e.sent).status){e.next=11;break}if(0!==a.data.status){e.next=10;break}return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 10:return e.abrupt("return",{list:a.data.invoices,loading:!1});case 11:return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 15:return e.prev=15,e.t0=e.catch(2),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Cr=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/uploadInvoices"),n);case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshInvoiceList(),t.onClose()):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Br=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/createInvoice"),dr({},n));case 3:200===(r=e.sent).status?0===r.data.status?Se(r.data.message,"error"):(Se(r.data.message,"success"),"draft"!==a&&"invoice"===t.mode||(t.refreshInvoiceList(),t.onClose())):Se(r.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Or=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/createCustomer"),dr({},n));case 3:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):Se(a.data.message,"success"):Se(a.data.message,"error"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Se("Something went wrong","error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Pr=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","update"===a&&(r="editInvoice"),"delete"===a&&(r="deleteInvoice"),e.prev=3,e.next=6,he.a.post("".concat(be,"/merchantStaff/").concat(r),dr({},n));case 6:200===(l=e.sent).status?0===l.data.status?Se(l.data.message,"error"):(Se(l.data.message,"success"),"update"===a&&(t.refreshInvoiceList(l.data.data),t.onClose())):Se(l.data.message,"error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Se("Something went wrong","error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Tr=function(e){document.getElementById(e).click()},Ir=function(e,t){if(e.target.files&&null!=e.target.files[0])return cr.a.parse(e.target.files[0],{worker:!0,header:!0,skipEmptyLines:!0,complete:(n=et()(Ke.a.mark((function e(n){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.errors&&n.errors.length>0&&Se("Error parsing csv file. Please check the format and try again.","error"),t(n.data);case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})});var n},Rr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/listTaxes"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:t.data.taxes,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Lr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/listOfferings"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:t.data.offerings,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Dr=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/merchantStaff/getSettings"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return Se(t.data.message,"error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 8:return e.abrupt("return",{bill_period_list:t.data.setting.bill_period,bill_term_list:t.data.setting.bill_term,default_bill_term:t.data.setting.default_bill_term,default_bill_period:t.data.setting.default_bill_period,country_list:t.data.setting.country_list,default_country:t.data.setting.default_country,bill_period:t.data.setting.bill_period,loading:!1});case 9:return Se(t.data.message,"error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();var Mr=function(e){var t=Object(a.useState)([]),n=s()(t,2),l=n[0],c=n[1];return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{document_hash:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={offerings:l},t.next=3,Lt(e,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.isSubmitting,a=e.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"Upload Offering"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement(ba,{bgImg:"/src/assets/images/csvImage.jpg"},t.document_hash?r.a.createElement("a",{className:"uploadedImg",target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return Tr("csv")}},r.a.createElement("input",{type:"file",id:"csv","data-key":"csv",accept:".csv",onChange:function(e){Ir(e,(function(e){e&&e.length>0&&(console.log(e),c(e),a("document_hash","success",!0))}))}}),t.document_hash?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===t.document_hash?r.a.createElement("span",null,"Uploaded File"):r.a.createElement("span",null,"Change File"),"*")))),r.a.createElement(ha,null,r.a.createElement("a",{target:"_BLANK",href:"/src/assets/offering_format.csv",id:"pdfdown"},"Click here to download sample offering file")),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500,width:"80%"}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Upload Offering"))))})))};var zr=function(e){return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null,"Delete ",e.header),r.a.createElement("div",{style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:2,display:"flexrow",justifyContent:"center"}},r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center"}},"Are you sure you want to delete this ",e.header.toLowerCase(),".")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"40px"}},r.a.createElement(z,{accentedBtn:!0,width:"50px",marginRight:"10px",onClick:function(){return e.onClose()}},r.a.createElement("span",null,"Cancel")),r.a.createElement(z,{width:"50px",accentedBtn:!0,onClick:function(){return e.delete(e.element)}},r.a.createElement("span",null,"Delete")))))};var Wr=function(e){var t=r.a.useState([]),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=JSON.parse(localStorage.getItem("merchantLogged")).details._id,p=r.a.useState([]),f=s()(p,2),g=f[0],h=f[1],E=r.a.useState([]),b=s()(E,2),v=b[0],y=b[1],x=r.a.useState("product"),S=s()(x,2),_=S[0],w=S[1],k=r.a.useState(!1),N=s()(k,2),C=(N[0],N[1]),B=r.a.useState("new"),O=s()(B,2),P=O[0],T=O[1],I=r.a.useState(!1),R=s()(I,2),L=R[0],D=R[1],M=r.a.useState({}),W=s()(M,2),F=W[0],A=W[1],j=r.a.useState(!1),q=s()(j,2),V=q[0],H=q[1],U=r.a.useState(!1),J=s()(U,2),X=J[0],G=J[1],Z=r.a.useState({}),Q=s()(Z,2),Y=Q[0],K=Q[1],$=function(e){c(e);var t=e.filter((function(e){return"0"===e.type})),n=e.filter((function(e){return"1"===e.type}));h(t),y(n)},ee=function(){var t=et()(Ke.a.mark((function t(){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C(!0),Dt(d).then((function(e){$(e.list),m(e.list),C(e.loading)})),e.refreshoffering();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){ee()}),[]),console.log(l.length),r.a.createElement("div",{style:{marginBottom:"50px"}},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(sa.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Offering Name",onChange:function(e){!function(e){console.log(e);var t=u.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));console.log(t),console.log(l),$(t);var n=t.filter((function(e){return"0"===e.type})),a=t.filter((function(e){return"1"===e.type}));h(n),y(a)}(e.target.value)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){D(!0)}},r.a.createElement("i",{className:"material-icons"},"add"),r.a.createElement("span",null,"Add Offering")),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){H(!0)}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Upload Offering"))),r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement($a.a,{className:"material-icons"})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Offering List"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px"}},r.a.createElement(z,{className:"product"===_?"active":"",onClick:function(){"product"!==_&&w("product")},marginRight:"5px",padding:"5px"},"Product"),r.a.createElement(z,{className:"service"===_?"active":"",onClick:function(){"service"!==_&&w("service")},marginLeft:"20px"},"Service")),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Unit of measure"),r.a.createElement("th",null,"Unit Price"))),r.a.createElement("tbody",null,l&&l.length>0?("product"===_?g:v).map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.description),r.a.createElement("td",{className:"tac"},e.code),r.a.createElement("td",{className:"tac"},e.unit_of_measure),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",{className:"tac"},e.unit_price),r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return function(e,t){A(t),T(e),D(!0)}("update",e)}},"Edit"),r.a.createElement("span",{onClick:function(){return function(e){K(e),G(!0)}(e)}},"Delete"))))))})):null)))),L?r.a.createElement(rr,{type:P,offering:F,refreshOfferingList:function(e){return ee()},onClose:function(){D(!1)}}):null,V?r.a.createElement(Mr,{refreshOfferingList:function(){return ee()},onClose:function(){H(!1)}}):null,X?r.a.createElement(zr,{element:Y,onClose:function(){G(!1)},delete:function(e){Mt(e._id).then((function(){ee(),G(!1)}))},header:"Offering"}):null)},Fr=function(){var e=r.a.useState(!1),t=s()(e,2),n=t[0],l=t[1],c=function(){l(!1)};return Object(a.useEffect)((function(){l(!0),c()}),[]),n?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Offering")),r.a.createElement(qn,{active:"offering"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Hn,null,r.a.createElement(Wr,{refreshoffering:function(){return c()}}))))};var Ar=function(e){var t=Object(a.useState)([]),n=s()(t,2),l=n[0],c=n[1];return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{document_hash:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={customers:l},t.next=3,Vt(e,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.isSubmitting,a=e.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"Upload Customers"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement(ba,{bgImg:"/src/assets/images/csvImage.jpg"},t.document_hash?r.a.createElement("a",{className:"uploadedImg",target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return Tr("csv")}},r.a.createElement("input",{type:"file",id:"csv","data-key":"csv",accept:".csv",onChange:function(e){Ir(e,(function(e){e&&e.length>0&&(console.log(e),c(e),a("document_hash","success",!0))}))}}),t.document_hash?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===t.document_hash?r.a.createElement("span",null,"Uploaded File"):r.a.createElement("span",null,"Change File"),"*")))),r.a.createElement(ha,null,r.a.createElement("a",{target:"_BLANK",href:"/src/assets/customer_format.csv",id:"pdfdown"},"Click here to download sample Customer file")),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500,width:"80%"}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Upload Customers"))))})))};var jr=function(e){var t=r.a.useState(""),n=s()(t,2),l=n[0],c=n[1];return Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("merchantLogged"));c(t.details._id),fe(e.type)})),console.log(l),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.customer.name||"",customer_code:e.customer.customer_code||"",mobile:e.customer.mobile||"",email:e.customer.email||"",merchant_id:l,document_hash:e.customer.document_hash||[]},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a,r;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("vlaue"),"update"!==e.type){t.next=7;break}return n.customer_id=e.customer._id,t.next=5,editTax(e,n);case 5:t.next=13;break;case 7:return n.merchant_id=l,(a=[]).push(n),r={customers:a},t.next=13,Vt(e,r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({name:v.e().required("Name is required"),customer_code:v.e().required("Customer code is required"),mobile:v.e().required("Mobile no is required"),email:v.e().required("Email is required")})},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting),l=t.handleChange,c=t.handleBlur;t.handleSubmit,t.handleFocus,t.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"update"===e.type?"Edit Customer":"Create Customer"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Customer code*"),r.a.createElement(F,{type:"text",name:"customer_code",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.customer_code,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Mobile*"),r.a.createElement(F,{type:"text",name:"mobile",pattern:"[0-9]{10}",title:"10 Digit numeric value",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.mobile,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Email*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.email,onChange:l,required:!0})),r.a.createElement(z,{type:"submit",filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null," ","update"===e.type?"Edit Customer":"Create Customer"))))})))},qr=function(){var e=r.a.useState(!1),t=s()(e,2),n=t[0],l=t[1],c=JSON.parse(localStorage.getItem("merchantLogged")).details._id,o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState("new"),b=s()(h,2),v=b[0],y=(b[1],r.a.useState({})),x=s()(y,2),S=x[0],_=(x[1],r.a.useState(!1)),w=s()(_,2),k=w[0],N=w[1],C=r.a.useState(!1),B=s()(C,2),O=(B[0],B[1],r.a.useState(!1)),P=s()(O,2),T=P[0],I=P[1],R=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(!0),qt(c).then((function(e){m(e.list),g(e.list),N(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){R()}),[]),k)return r.a.createElement(oe,{fullPage:!0});return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Customers")),r.a.createElement(qn,{active:"customers"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Hn,null,r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Customers",onChange:function(e){var t,n;t=e.target.value,n=f.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),m(n)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return l(!0)}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Create Customer")),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){I(!0)}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Upload Customer"))),r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement($a.a,{className:"material-icons"})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Customer List"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Mobile"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Customer Code"))),r.a.createElement("tbody",null,u&&u.length>0?u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{customer:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.mobile),r.a.createElement("td",{className:"tac"},e.email),r.a.createElement("td",{className:"tac"},e.customer_code))})):null)))))),n?r.a.createElement(jr,{type:v,customer:S,refreshCustomerList:function(e){return R()},onClose:function(){l(!1)}}):null,T?r.a.createElement(Ar,{refreshCustomerList:function(){return R()},onClose:function(){I(!1)}}):null)};var Vr=function(e){return Object(a.useEffect)((function(){fe(e.type)})),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.tax.name||"",code:e.tax.code||"",value:e.tax.value||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("update"!==e.type){t.next=6;break}return n.tax_id=e.tax._id,t.next=4,At(e,n);case 4:t.next=8;break;case 6:return t.next=8,Ft(e,n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({name:v.e().required("Name no is required"),code:v.e().required("Code no is required"),value:v.e().required("value no is required")})},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting),l=t.handleChange,c=t.handleBlur;t.handleSubmit,t.handleFocus,t.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"update"===e.type?"Edit Tax":"Create Tax"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Tax Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Tax Code*"),r.a.createElement(F,{type:"text",name:"code",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.code,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Tax Percentage*"),r.a.createElement(F,{type:"text",name:"value",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.value,onChange:l,required:!0})),r.a.createElement(z,{type:"submit",filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null," ","update"===e.type?"Edit TAx":"Create Tax"))))})))},Hr=function(){var e=r.a.useState(!1),t=s()(e,2),n=t[0],l=t[1],c=r.a.useState([]),o=s()(c,2),i=o[0],u=o[1],m=JSON.parse(localStorage.getItem("merchantLogged")).details._id,d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState("new"),b=s()(h,2),v=b[0],y=b[1],x=r.a.useState({}),S=s()(x,2),_=S[0],w=S[1],k=r.a.useState(!1),N=s()(k,2),C=N[0],B=N[1],O=r.a.useState(!1),P=s()(O,2),T=P[0],I=P[1],R=r.a.useState({}),L=s()(R,2),D=L[0],M=L[1],W=function(e,t){w(t),y(e),l(!0)},F=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!0),Wt(m).then((function(e){u(e.list),g(e.list),B(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){F()}),[]),C)return r.a.createElement(oe,{fullPage:!0});return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Taxes")),r.a.createElement(qn,{active:"taxes"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Hn,null,r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Taxes",onChange:function(e){var t,n;t=e.target.value,n=f.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),u(n)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return W("new",{})}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Create Tax"))),r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement($a.a,{className:"material-icons"})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Tax List"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,i&&i.length>0?i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.code),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",{className:"tac"},e.value),r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return W("update",e)}},"Edit"),r.a.createElement("span",{onClick:function(){return M(e),void I(!0)}},"Delete"))))))})):null)))))),n?r.a.createElement(Vr,{type:v,tax:_,refreshTaxList:function(e){return F()},onClose:function(){l(!1)}}):null,T?r.a.createElement(zr,{element:D,onClose:function(){I(!1)},delete:function(e){jt(e._id).then((function(){F(),I(!1)}))},header:"tax"}):null)};function Ur(){var e=k()(["\n*{\n  box-sizing:border-box;\n  outline:0;\n}\nbody{\n  zoom: 0.9;\n}\n.clr:after{\n  content:'';\n  display:block;\n  clear:both;\n}\n.hide{\n  display:none;\n}\n.w100{width:100%;}\n.h100{height:100%;}\n.tal{text-align:left !important;}\n.small{font-size: 10px !important;}\n.text-accent{\n  color: #f5a623;\n}\n.text-light{\n  color: #9b9b9b;\n}\n.fullWidth{\n  width: 100%;\n  box-sizing:border-box;\n}\n.dropdown{\n  position:relative;\n  padding-bottom: 10px;\n}\n.dropdown:hover > .subNav{\n  display:block !important;\n}\n.fl{float:left;}\n.fr{float:right;}\n\n.formWrap{\n  max-width: 445px;\n}\n  @import url('https://fonts.googleapis.com/css?family=Roboto|Material+Icons&display=swap');\n  html,\n  body {\n    height: 100%;\n    width: 100%;\n    font-family: 'Roboto', sans-serif;\n    font-size: ",";\n    margin:0;\n  }\n  button{\n    cursor:pointer;\n  }\n  a{\n    text-decoration:none;\n    color: ",";\n    font-weight: bold;\n    font-size: 14px;\n  }\n  .green{\n    color: ",";\n  }\n  a >  span > span {\n    color: ",";\n  }\n\n  #app {\n    background-color: #fcfffc;\n    min-height: 100%;\n    min-width: 100%;\n  }\n  p,\n  label {\n    line-height: 1.5em;\n  }\n  .mt10{\n    margin-top:10px;\n  }\n  .mt20{\n    margin-top:20px;\n  }\n  .m0{\n    margin:0;\n  }\n  .absoluteRight{\n    position:absolute;\n    right:0;\n  }\n  .absoluteMiddleRight{\n    position:absolute;\n    right:0;\n    top: 25%;\n  }\n  .absoluteTopRight{\n    position:absolute;\n    top:0;\n    right:0;\n  }\n  .tac{text-align:center;}\n  .bold{font-weight:bold; }\n  .pagination{\n    display: block;\n    list-style: none;\n    padding: 0;\n  }\n  .pagination:after{\n    content: '';\n    display:block;\n    clear:both;\n  }\n  .pagination li{\n    float: left;\n    background: #558b53;\n    margin-right: 3px;\n  }\n  .pagination li a{\n\n    padding: 5px 10px;\n    color: #fff;\n    display:block;\n  }\n  .pagination li.disabled{\n    background: #656565;\n  }\n  .pagination li.active{\n    background: #f5a623;\n  }\n  .note{\n    color: #9b9b9b;\n    size: 12px;\n    a{\n      color: #56575a;\n      text-decoration:underline;\n    }\n\n  }\n  .removeBtn{\n    color: red;\n    position:absolute;\n    right:-30px;\n    top: 10px;\n  }\n  .resend{\n    margin-top:15px;\n    .timer{\n      color: #f5a623;\n    }\n    .go{\n      font-weight: bold;\n      background: #f5a623;\n      padding: 4px 10px;\n      border-radius: 7px;\n      color: #fff;\n      cursor: pointer;\n    }\n  }\n  .pointer{\n    cursor:pointer;\n  }\n  .bankLogoActivate{\n    text-align:center;\n    img{\n      height: 80px;\n      margin-top:20px;\n    }\n  }\n  .sideNav{\n    cursor:pointer;\n  }\n  .borderedTD{\n    border: 1px solid #ddd;\n    margin-bottom:10px;\n    border-radius: 6px;\n  }\n\n  .middleTitle{\n    text-align: center;\n    font-size: 24px;\n    padding: 6px;\n  }\n  .anchor{\n    display: inline-block;\n    cursor: pointer;\n    -webkit-text-decoration: none;\n    text-decoration: none;\n    color: #417505;\n    font-weight: bold;\n    font-size: 14px;\n  }\n  .red{\n    color: ",";\n  }\n  .popMenuTrigger {\n    i {\n      font-size: 18px;\n    }\n    cursor: pointer;\n    .popMenu {\n      display: none;\n      position: absolute;\n      z-index: 10;\n      font-size: 13px;\n      font-weight: normal;\n      width: 130px;\n      right: 18px;\n      margin-top: -15px;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n      background-color: #ffffff;\n      padding: 5px 10px;\n      > span {\n        margin: 8px 0 12px;\n        text-align: left;\n        display: block;\n        color: #000;\n        font-size: 13px;\n        font-weight: normal;\n      }\n    }\n    &:hover .popMenu,\n    .popMenu:hover {\n      display: block;\n    }\n  }\n"]);return Ur=function(){return e},e}var Jr=Object(f.b)(Ur(),(function(e){return e.theme.fontSize}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.light}),(function(e){return e.theme.danger})),Xr=function(e){return r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Transaction Limit"),r.a.createElement("h5",null," Available"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",1e3.toFixed(2)))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Money Paid Today"),r.a.createElement("h5",null,"Available"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",500..toFixed(2)))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Money Recieved Today"),r.a.createElement("h5",null,"Available"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",200..toFixed(2)))))};function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Zr(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 12px;\n  padding-bottom: 7px;\n  font-weight: normal;\n  border-bottom: ",";\n"]);return Zr=function(){return e},e}function Qr(){var e=k()(["\n  float: left;\n  margin: 8px 27px;\n"]);return Qr=function(){return e},e}var Yr=f.c.nav(Qr()),Kr=f.c.span(Zr(),(function(e){return"true"===e.active?"1px solid white":"0"})),$r=function(e){X()(n,e);var t=Gr(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e="dashboard"===this.props.active?"true":"",t="reports"===this.props.active?"true":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yr,null,r.a.createElement(ae,{href:"/branch/dashboard"},r.a.createElement(Kr,{active:e},"Dashboard")),r.a.createElement(ae,{href:"/branch/reports"},r.a.createElement(Kr,{active:t},"Reports"))))}}]),n}(a.Component);function el(){var e=k()(["\n  display: flex;\n  justify-content: center;\n"]);return el=function(){return e},e}function tl(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 40px 0 0;\n  padding-bottom: 7px;\n  display: block;\n  font-weight: normal;\n  border-radius: 8px;\n  border: solid 2px #ffffff;\n  padding: 5px 20px;\n"]);return tl=function(){return e},e}var nl=f.c.span(tl()),al=f.c.div(el()),rl=function(e){var t=e.page,n=e.goto,a=e.middleTitle,l=e.active,c=JSON.parse(localStorage.getItem("branchLogged")).merchant.username||"",o=JSON.parse(localStorage.getItem("branchLogged")).merchant.logo||"";return r.a.createElement(Sn,null,r.a.createElement(Dn,{type:"branch"}),r.a.createElement(zn,null,"info"===t?r.a.createElement(ae,{href:n,float:"left"},r.a.createElement(nl,null,"Back")):null,r.a.createElement(ae,{href:"/branch/dashboard",float:"left"},r.a.createElement("div",{className:"bankLogo"},r.a.createElement("img",{src:ve+o,alt:"Merchant Logo"})),r.a.createElement("h2",null,c.toUpperCase())),a?r.a.createElement(al,{className:"middleTitle"},a):null,"info"===t?null:r.a.createElement($r,{active:l})))};function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function cl(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return cl=function(){return e},e}function ol(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return ol=function(){return e},e}function il(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return il=function(){return e},e}var ul=f.c.aside(il(),(function(e){return e.marginRight?"33px":"0"})),sl=(f.c.h3(ol()),f.c.h1(cl()),function(e){X()(n,e);var t=ll(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"editSignal",(function(t){e.props.edit()})),e}return V()(n,[{key:"render",value:function(){var e="info"===this.props.active,t=(this.props.active,"edit"===this.props.active),n=this.props.id;return r.a.createElement(ul,{marginRight:!0},r.a.createElement(ae,{href:"/branch/cashier/info/".concat(n)},r.a.createElement(it,{rounded:!0,selected:e,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Staff Position Info"))),r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav",onClick:this.editSignal},r.a.createElement("i",{className:"material-icons"},r.a.createElement(qa.a,null)),r.a.createElement("h3",null,"Edit")))}}]),n}(a.Component));function ml(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ml(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pl=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(be,"/merchantBranch/editPosition"),e.prev=1,e.next=4,he.a.post("".concat(a),dl({},n));case 4:200===(r=e.sent).status?0===r.data.status?Se(r.data.message,"error"):(Se(r.data.message,"success"),t.refreshCashierList(n),t.onClose()):Se(r.data.message,"error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Se("Something went wrong","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),fl=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(be,"/merchantBranch/assignStaff"),e.prev=1,e.next=4,he.a.post("".concat(a),dl({},n));case 4:200===(r=e.sent).status?0===r.data.status?Se(r.data.message,"error"):(Se(r.data.message,"success"),t.refreshCashierList(),t.onClose()):Se(r.data.message,"error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Se("Something went wrong","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),gl=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(be,"/merchantBranch/disassignStaff"),e.prev=1,e.next=4,he.a.post("".concat(n),{position_id:t});case 4:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):Se(a.data.message,"success"):Se(a.data.message,"error"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Se("Something went wrong","error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),hl=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",a="block"===t?"blockCashier":"unblockCashier",e.prev=2,e.next=5,he.a.post("".concat(be,"/merchantBranch/").concat(a),{cashier_id:n});case 5:200===(r=e.sent).status?0===r.data.status?Se(r.data.message,"error"):Se(r.data.data,"success"):Se(r.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),El=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("click"),"editDetails",e.prev=2,e.next=5,he.a.post("".concat(be,"/merchantBranch/").concat("editDetails"),dl({},n));case 5:200===(a=e.sent).status?0===a.data.status?Se(a.data.message,"error"):(Se(a.data.message,"success"),t.refreshBranchList(a.data.data),t.onClose()):Se(a.data.message,"error"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),Se("Something went wrong","error");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}();var bl=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=function(e){e.target.checked?c(!0):c(!1)};return Object(a.useEffect)((function(){fe(e.type)})),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.cashier.name||"",working_from:e.cashier.working_from||"",working_to:e.cashier.working_to||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.counter_invoice_access=l,n.position_id=e.cashier._id,t.next=4,pl(e,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.values,a=t.isSubmitting,l=t.handleChange,c=t.handleBlur;return r.a.createElement("div",null,r.a.createElement("h1",null,"Update Position"),r.a.createElement("form",null,r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Position Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement("label",null,"Working Hours"),r.a.createElement("hr",{style:{visibility:"hidden"}}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"49%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",null,"From*"),r.a.createElement(F,{type:"time",name:"working_from",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},min:"00:00",max:"23:00",value:n.working_from,onChange:l,required:!0}))),r.a.createElement(ct,{cW:"49%"},r.a.createElement(ha,null,r.a.createElement("label",null,"To*"),r.a.createElement(F,{type:"time",min:"00:00",max:"23:00",name:"working_to",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.working_to,onChange:l,required:!0})))),r.a.createElement(ha,null,r.a.createElement(rt,null,r.a.createElement(ct,{cW:"4%"},!0===e.cashier.counter_invoice_access?r.a.createElement(F,{type:"checkbox",defaultChecked:!0,style:{margin:"revert"},onChange:function(e){return o(e)}}):r.a.createElement(F,{type:"checkbox",style:{margin:"revert"},onChange:function(e){return o(e)}})),r.a.createElement(ct,{cW:"96%"},"Can create counter invoices"))),a?r.a.createElement(z,{disabled:a,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement(oe,null)):r.a.createElement(z,{type:"submit",disabled:a,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,"Update staff")))))})))};var vl=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=e.match.params.id,i=Object(a.useState)(JSON.parse(localStorage.getItem("selectedCashier"))),u=s()(i,2),m=u[0],d=u[1];return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Position | BRANCH | E-WALLET")),r.a.createElement(rl,{page:"info",middleTitle:m.name,goto:"/branch/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(sl,{edit:function(){c(!0)},active:"info",id:o,type:"Cashier"}),r.a.createElement(Hn,null,r.a.createElement(Xr,null),r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Position Name"),r.a.createElement(ct,{className:"infoRight"},m.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Working Hours"),r.a.createElement(ct,{className:"infoRight"})),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"From"),r.a.createElement(ct,{className:"infoRight"},m.working_from)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"To"),r.a.createElement(ct,{className:"infoRight"},m.working_to)))))),l?r.a.createElement(bl,{type:"update",refreshCashierList:function(e){return d(e)},onClose:function(){return c(!1)},cashier:m}):null)};var yl=function(e){return Object(a.useEffect)((function(){fe(e.type)})),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.branch.name||"",code:e.branch.code||"",username:e.branch.username||"",address1:e.branch.address1||"",state:e.branch.state||"",zip:e.branch.zip||"",country:e.branch.country||"Senegal",ccode:e.branch.ccode||"+221",mobile:e.branch.mobile||"",email:e.branch.email||"",working_from:e.branch.working_from||"",working_to:e.branch.working_to||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,El(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({mobile:v.e().min(10,"number should be atleast 10 digits").max(10,"number cannot exceed 10 digits").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Mobile no must be valid").required("Mobile no is required"),code:v.e().min(3,"Branch code should be atleast 3 characters").required("Branch code is required"),name:v.e().min(3,"Merchant name should be atleast 3 characters").required("Merchant name is required"),email:v.e().email("Please provide a valid email").required("Email is required")})},(function(e){var t=e.values,n=(e.touched,e.errors,e.isSubmitting),a=e.handleChange,l=e.handleBlur,c=(e.handleSubmit,e.handleFocus,e.setFieldValue);return r.a.createElement("div",null,r.a.createElement("h1",null,"Update Branch"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Branch Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.name,onChange:a,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Branch ID*"),r.a.createElement(F,{type:"text",name:"code",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.code,onChange:a,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Branch Admin: User ID*"),r.a.createElement(F,{type:"text",name:"username",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.username,onChange:a,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",null,"Address*"),r.a.createElement(F,{type:"text",name:"address1",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.address1,onChange:a,required:!0})),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"State"),r.a.createElement(F,{type:"text",name:"state",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.state,onChange:a,required:!0}))),r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Zip Code"),r.a.createElement(F,{type:"text",name:"zip",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.zip,onChange:a,required:!0})))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement(Pa,{type:"text",name:"country",value:t.country,onChange:function(e){var t=e.target.value,n=e.target.options[e.target.selectedIndex].title;c("ccode",n,!0),c("country",t,!0)},"data-change":"ccode",required:!0}))),r.a.createElement(ct,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Authorized Email Id*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.email,onChange:a,required:!0})))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"20%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement(F,{type:"text",name:"ccode",readOnly:!0,value:t.ccode,onChange:a,required:!0}))),r.a.createElement(ct,{cW:"78%"},r.a.createElement(ha,null,r.a.createElement("label",null,"Authorized Mobile Number*"),r.a.createElement(F,{type:"text",pattern:"[0-9]{10}",title:"10 Digit numeric value",name:"mobile",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:t.mobile,onChange:a,required:!0})))),r.a.createElement("label",null,"Working Hours"),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"49%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",null,"From*"),r.a.createElement(F,{type:"time",name:"working_from",onFocus:de,onBlur:pe,min:"00:00",max:"23:00",autoFocus:!0,value:t.working_from,onChange:a,required:!0}))),r.a.createElement(ct,{cW:"49%"},r.a.createElement(ha,null,r.a.createElement("label",null,"To*"),r.a.createElement(F,{type:"time",autoFocus:!0,min:"00:00",max:"23:00",name:"working_to",onFocus:de,onBlur:pe,value:t.working_to,onChange:a,required:!0})))),r.a.createElement(z,{type:"submit",filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Update Branch"))))})))},xl=n(110),Sl=n.n(xl);function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function wl(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return wl=function(){return e},e}function kl(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return kl=function(){return e},e}function Nl(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return Nl=function(){return e},e}var Cl=f.c.aside(Nl(),(function(e){return e.marginRight?"33px":"0"})),Bl=(f.c.h3(kl()),f.c.h1(wl()),function(e){X()(n,e);var t=_l(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e="info"===this.props.active,t="reports"===this.props.active;return r.a.createElement(Cl,{marginRight:!0},r.a.createElement(ae,{href:"/branch/settings"},r.a.createElement(it,{rounded:!0,selected:e,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Branch Info"))),r.a.createElement(ae,null,r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Sl.a,null)),r.a.createElement("h3",null,"Reports"))))}}]),n}(a.Component));var Ol=function(e){var t=Object(a.useState)(JSON.parse(localStorage.getItem("branchLogged")).details),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=s()(o,2),u=i[0],m=i[1];return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Settings | BRANCH | E-WALLET")),r.a.createElement(rl,{page:"info",goto:"/branch/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Bl,{active:"info"}),r.a.createElement(Hn,null,r.a.createElement(Jn,{marginBottom:"33px",style:{backgroundColor:""}},r.a.createElement("h2",{style:{margintop:""}},l.name),r.a.createElement(z,{className:"addBankButton",style:{padding:"2px"},onClick:function(){return m(!0)},flex:!0},r.a.createElement("span",null,"Edit"))),r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch Name"),r.a.createElement(ct,{className:"infoRight"},l.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch Code"),r.a.createElement(ct,{className:"infoRight"},l.code)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Branch User ID"),r.a.createElement(ct,{className:"infoRight"},l.username)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Address"),r.a.createElement(ct,{className:"infoRight"},l.address1)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"State"),r.a.createElement(ct,{className:"infoRight"},l.state)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Zip Code"),r.a.createElement(ct,{className:"infoRight"},l.zip)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Country Code"),r.a.createElement(ct,{className:"infoRight"},l.ccode)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Country"),r.a.createElement(ct,{className:"infoRight"},l.country)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Email"),r.a.createElement(ct,{className:"infoRight"},l.email)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Phone Number"),r.a.createElement(ct,{className:"infoRight"},l.mobile)))))),u?r.a.createElement(yl,{type:"update",branch:l,refreshBranchList:function(e){c(e),localStorage.setItem("branchLogged",JSON.stringify({details:e})),window.location.reload()},onClose:function(){return m(!1)}}):null)},Pl=n(97),Tl=n.n(Pl);function Il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Rl(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return Rl=function(){return e},e}function Ll(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return Ll=function(){return e},e}function Dl(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return Dl=function(){return e},e}var Ml=f.c.aside(Dl(),(function(e){return e.marginRight?"33px":"0"})),zl=(f.c.h3(Ll()),f.c.h1(Rl()),function(e){X()(n,e);var t=Il(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){var e="info"===this.props.active,t="documents"===this.props.active,n="fee"===this.props.active,a="interbankfee"===this.props.active,l="interbankcommission"===this.props.active,c="commission"===this.props.active,o="ZoneSettings"===this.props.active,i="BillPeriodSettings"===this.props.active,u="BillTermSettings"===this.props.active,s="PenaltySettings"===this.props.active,m="CategorySettings"===this.props.active;return r.a.createElement(Ml,{marginRight:!0},r.a.createElement("h3",null,"SETTINGS"),r.a.createElement(ae,{href:"/merchant/settings"},r.a.createElement(it,{rounded:!0,selected:e,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Personal Info"))),r.a.createElement(ae,null,r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Aa.a,null)),r.a.createElement("h3",null,"Documents"))),r.a.createElement(it,{rounded:!0,className:"containerNav"},r.a.createElement("h4",null,"Intra Bank Rules"),r.a.createElement(it,{display:"flex"},r.a.createElement(rt,{style:{width:"-webkit-fill-available"}},r.a.createElement(ct,{cW:"50%"},r.a.createElement(ae,{href:"/merchant/settings/fee-rules"},r.a.createElement(it,{rounded:!0,selected:n,className:"sideNav"},r.a.createElement("h3",null,"Fee")))),r.a.createElement(ct,{cW:"50%"},r.a.createElement(ae,{href:"/merchant/settings/commission-rules"},r.a.createElement(it,{rounded:!0,selected:c,className:"sideNav"},r.a.createElement("h3",null,"Commission"))))))),r.a.createElement(it,{rounded:!0,className:"containerNav"},r.a.createElement("h4",null,"Inter Bank Rules"),r.a.createElement(it,{display:"flex"},r.a.createElement(rt,{style:{width:"-webkit-fill-available"}},r.a.createElement(ct,{cW:"50%"},r.a.createElement(ae,{href:"/merchant/settings/interbank-fee-rules"},r.a.createElement(it,{rounded:!0,selected:a,className:"sideNav"},r.a.createElement("h3",null,"Fee")))),r.a.createElement(ct,{cW:"50%"},r.a.createElement(ae,{href:"/merchant/settings/inter-bank-commission-rules"},r.a.createElement(it,{rounded:!0,selected:l,className:"sideNav"},r.a.createElement("h3",null,"Commission"))))))),r.a.createElement(ae,{href:"/merchant/settings/zoneSettings"},r.a.createElement(it,{rounded:!0,selected:o,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Zone Settings"))),r.a.createElement(ae,{href:"/merchant/settings/categorySettings"},r.a.createElement(it,{rounded:!0,selected:m,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Category Settings"))),r.a.createElement(ae,{href:"/merchant/settings/billTermSettings"},r.a.createElement(it,{rounded:!0,selected:u,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Bill Term Settings"))),r.a.createElement(ae,{href:"/merchant/settings/billPeriodSettings"},r.a.createElement(it,{rounded:!0,selected:i,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Period Settings"))),r.a.createElement(ae,{href:"/merchant/settings/penalty"},r.a.createElement(it,{rounded:!0,selected:s,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Penalty Rules"))))}}]),n}(a.Component));var Wl=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),console.log(e),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null," Edit Zone and Subzone name "),r.a.createElement(b.d,{initialValues:{zone_name:e.zonename||"",subzone_name:e.subzonename||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cn(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.handleChange,a=e.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement(b.b,{type:"text",name:"zone_name",onFocus:function(e){n(e),de(e)},onBlur:function(e){a(e),n(e),pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"zone_name",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement(b.b,{type:"text",name:"subzone_name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"subzone_name",component:me})),r.a.createElement(z,{type:"submit",disabled:t,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},t?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Submit"))))})))},Fl=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState(!1),i=s()(o,2),u=(i[0],i[1],r.a.useState("")),m=s()(u,2),d=m[0],p=m[1],f=r.a.useState(""),g=s()(f,2),h=g[0],b=g[1],v=r.a.useState(!1),y=s()(v,2),x=(y[0],y[1]),S=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),ln().then((function(e){console.log(e),p(e.zone_name),b(e.subzone_name),x(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){S()}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | CustomSettings ")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"ZoneSettings"}),r.a.createElement(Hn,{big:!0},r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,e.ruleType," Zone Setting"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"80%"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Zone Name:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,d))),r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Subzone Name:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,h)))),r.a.createElement(ct,{cw:"20%"},r.a.createElement(z,{style:{padding:"5px"},type:"submit",onClick:function(){c(!0)}},"Edit"))))))),l?r.a.createElement(Wl,{refreszonedetails:function(e){return S(e)},onClose:function(){c(!1)},zonename:d,subzonename:h}):null)};var Al=function(e){return Object(a.useEffect)((function(){fe(e.type),console.log(e.startdate)}),[]),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},"update"===e.type?r.a.createElement("h1",null,"Update Period"):r.a.createElement("h1",null,"Add Period"),r.a.createElement(b.d,{initialValues:{start_date:e.billperiod.start_date||"",end_date:e.billperiod.end_date||"",period_name:e.billperiod.period_name||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.startdate&&(a=e.startdate.split("-"),n.start_date=new Date("".concat(a[1],"-").concat(a[0],"-").concat(a[2]))),"update"!==e.type){t.next=5;break}console.log("in process"),t.next=8;break;case 5:return console.log(new Date(e.startdate)),t.next=8,Yt(e,n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.isSubmitting,a=t.handleChange,l=t.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},"Period Name*"),r.a.createElement(b.b,{type:"text",name:"period_name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"period_name",component:me})),null===e.startdate?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Start Date"),r.a.createElement(F,{type:"date",format:"dd-mm-yyyy",name:"start_date",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},onChange:a,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Start Date"),r.a.createElement(F,{type:"text",name:"start_date",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},onChange:a,placeholder:e.startdate,value:e.startdate,disabled:!0})),r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"End Date"),r.a.createElement(F,{type:"date",name:"end_date",format:"dd-mm-yyyy",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},onChange:a,required:!0})),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"update"===e.type?"Update Period":"Add Period"))))})))};var jl=function(e){var t=r.a.useState(),n=s()(t,2),a=n[0],l=n[1],c=function(){var t=et()(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={start_date:e.periodlist[parseInt(a,10)].start_date,end_date:e.periodlist[parseInt(a,10)].end_date,period_name:e.periodlist[parseInt(a,10)].period_name},console.log(n),t.next=4,$t(e,n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null," Default Period"),r.a.createElement(ha,{onChange:function(e){console.log(e.target.value),l(e.target.value)}},r.a.createElement(ya,{noPadding:!0,name:"period_name",style:{marginBottom:"0px"},required:!0},r.a.createElement("option",{value:""},"Select period"),e.periodlist.map((function(e,t){return r.a.createElement("option",{key:e.period_name,value:t},e.period_name)})))),r.a.createElement(z,{type:"submit",filledBtn:!0,onClick:c,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,"Set Default Period")))},ql=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState("new"),b=s()(h,2),v=b[0],y=b[1],x=r.a.useState(null),S=s()(x,2),_=S[0],w=S[1],k=r.a.useState({}),N=s()(k,2),C=N[0],B=N[1],O=r.a.useState({}),P=s()(O,2),T=P[0],I=P[1],R=r.a.useState(!1),L=s()(R,2),D=L[0],M=L[1],W=r.a.useState(!1),F=s()(W,2),A=(F[0],F[1]),j=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(!0),Zt().then((function(e){if(console.log(e),e.list.length>0){var t=new Date(e.list[e.list.length-1].end_date);t.setDate(t.getDate()+1);var n="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear());w(n)}m(e.list),g(e.list),B(e.default_bill_period),A(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){j()}),[]);return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Period Setting")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"BillPeriodSettings"}),r.a.createElement(Hn,{big:!0},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Bill Periods",onChange:function(e){!function(e){console.log(e),console.log(f);var t=f.filter((function(t){return t.period_name.toLowerCase().includes(e.toLowerCase())}));m(t)}(e.target.value)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return e="new",I({}),y(e),void c(!0);var e}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add Period"))),r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",null,C?r.a.createElement("h3",{style:{margin:"6px"}},"Default Period : ",C.period_name):r.a.createElement("h3",{style:{margin:"6px"}},"Please set default period")),r.a.createElement(z,{className:"addBankButton",style:{float:"right"},onClick:function(){M(!0)}},r.a.createElement("span",null,"Set Default Period"))),r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Periods"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Start Date"),r.a.createElement("th",null,"End date"))),r.a.createElement("tbody",null,u&&u.length>0?u.map((function(e){var t=new Date(e.start_date),n=new Date(e.end_date);return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.period_name),r.a.createElement("td",{className:"tac"},t.getDate(),"-",t.getMonth()+1,"-",t.getFullYear()),r.a.createElement("td",{className:"tac"},n.getDate(),"-",n.getMonth()+1,"-",n.getFullYear()))})):null)))))),l?r.a.createElement(Al,{type:v,billperiod:T,refreshbillperiodlist:function(e){return j(e)},startdate:_,onClose:function(){c(!1)}}):null,D?r.a.createElement(jl,{billperiod:C,periodlist:u,refreshbillperiodlist:function(e){return j(e)},onClose:function(){M(!1)}}):null)};var Vl=function(e){return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null,"Add Category"),r.a.createElement(b.d,{initialValues:{name:"",type:"",description:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;e.handleChange,e.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},"Name*"),r.a.createElement(b.b,{type:"text",name:"name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"period_name",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},"Code*"),r.a.createElement(b.b,{type:"text",name:"code",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"period_name",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},"Description*"),r.a.createElement(b.b,{type:"text",name:"description",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"period_name",component:me})),r.a.createElement(z,{type:"submit",disabled:t,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},t?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Add Category"))))})))},Hl=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState(!1),p=s()(d,2),f=(p[0],p[1]),g=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Qt();case 3:t=e.sent,m(t.list),f(t.loading);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Period Setting")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"CategorySettings"}),r.a.createElement(Hn,{big:!0},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Bill Periods"})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){c(!0)}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add Category"))),r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Categories"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,u&&u.length>0?u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.code),r.a.createElement("td",{className:"tac"},e.description))})):null)))))),l?r.a.createElement(Vl,{refreshcategorylist:function(e){return g(e)},onClose:function(){c(!1)}}):null)};var Ul=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),console.log(e.penaltyrule),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},e.penaltyrule?r.a.createElement("h1",null,"Edit Penalty Rule"):r.a.createElement("h1",null,"Create Penalty Rule"),r.a.createElement(b.d,{initialValues:{type:e.penaltyrule?e.penaltyrule.type:"once",fixed_amount:e.penaltyrule?e.penaltyrule.fixed_amount:"",percentage:e.penaltyrule?e.penaltyrule.percentage:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.next=3,Jt(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.handleChange,a=e.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"type",className:"focused"},"Type*"),r.a.createElement(b.b,{type:"text",name:"type",onFocus:function(e){n(e),de(e)},onBlur:function(e){a(e),n(e),pe(e)},as:ya,required:!0},r.a.createElement("option",{value:"once"},"Flat Penalty"),r.a.createElement("option",{value:"perday"},"Per Day Penalty")),r.a.createElement(b.a,{name:"type",component:me})),r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{className:"focused",htmlFor:"fixed_amount"},"Fixed Amount*"),r.a.createElement(b.b,{type:"number",name:"fixed_amount",onFocus:function(e){n(e),de(e)},onBlur:function(e){a(e),n(e),pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"fixed_amount",component:me})),r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{className:"focused",htmlFor:"percentage"},"Percentage*"),r.a.createElement(b.b,{type:"number",name:"percentage",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"percentage",component:me})),r.a.createElement(z,{type:"submit",disabled:t,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},t?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Submit"))))})))},Jl=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState(!1),p=s()(d,2),f=(p[0],p[1]),g=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0),Ut().then((function(e){console.log(e),m(e.penalty_rule),f(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g()}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Penalty Rules")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"PenaltySettings"}),r.a.createElement(Hn,{big:!0},r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,e.ruleType," Penalty Rule"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"80%"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Rule Type:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,u?"once"===u.type?"Flat Penalty":"Perday Penalty":""))),r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Fixed Amount:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,u?u.fixed_amount:""))),r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Percentage:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,u?u.percentage:"")))),r.a.createElement(ct,{cw:"20%"},r.a.createElement(z,{style:{padding:"5px"},type:"submit",onClick:function(){c(!0)}},u?"Edit":"Create"))))))),l?r.a.createElement(Ul,{penaltyrule:u,refreshpenaltyrule:function(e){return g(e)},onClose:function(){c(!1)}}):null)};var Xl=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null," ","update"===e.type?"Update Bill Term":"Add Bill Term"),r.a.createElement(b.d,{initialValues:{days:e.billterm.days||"",name:e.billterm.name||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.zone_id=e.zoneId,"update"!==e.type){t.next=5;break}console.log("in process"),t.next=7;break;case 5:return t.next=7,Gt(e,n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.isSubmitting,a=t.handleChange,l=t.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"name"},"Name*"),r.a.createElement(b.b,{type:"text",name:"name",onFocus:function(e){de(e)},onBlur:function(e){pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"name",component:me})),r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"days"},"Days*"),r.a.createElement(b.b,{type:"number",name:"days",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"days",component:me})),r.a.createElement(z,{type:"submit",disabled:n,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},n?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"update"===e.type?"Update Bill Term":"Add Bill Term"))))})))};var Gl=function(e){var t=r.a.useState(),n=s()(t,2),a=n[0],l=n[1],c=function(){var t=et()(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={days:e.termlist[parseInt(a,10)].days,name:e.termlist[parseInt(a,10)].name},console.log(n),t.next=4,en(e,n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null," Default Term"),r.a.createElement(ha,{onChange:function(e){console.log(e.target.value),l(e.target.value)}},r.a.createElement(ya,{noPadding:!0,name:"name",style:{marginBottom:"0px"},required:!0},r.a.createElement("option",{value:""},"Select term"),e.termlist.map((function(e,t){return r.a.createElement("option",{key:e.name,value:t},e.name)})))),r.a.createElement(z,{type:"submit",filledBtn:!0,onClick:c,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,"Set Default Term")))},Zl=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState("new"),b=s()(h,2),v=b[0],y=b[1],x=r.a.useState({}),S=s()(x,2),_=S[0],w=S[1],k=r.a.useState(!1),N=s()(k,2),C=(N[0],N[1]),B=r.a.useState({}),O=s()(B,2),P=O[0],T=O[1],I=r.a.useState(!1),R=s()(I,2),L=R[0],D=R[1],M=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0),Xt().then((function(e){console.log(e),m(e.list),g(e.list),T(e.default_bill_term),C(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){M()}),[]),console.log(P);return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Bill Term Setting")),r.a.createElement(qn,{page:"info",goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"BillTermSettings"}),r.a.createElement(Hn,{big:!0},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Bill Terms",onChange:function(e){!function(e){console.log(e),console.log(f);var t=f.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}));m(t)}(e.target.value)}})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return e="new",w({}),y(e),void c(!0);var e}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add Bill Term"))),r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",null,P?r.a.createElement("h3",{style:{margin:"6px"}},"Default Bill Term : ",P.name):r.a.createElement("h3",{style:{margin:"6px"}},"Please set default bill term")),r.a.createElement(z,{className:"addBankButton",style:{float:"right"},onClick:function(){D(!0)}},r.a.createElement("span",null,"Set Default Term"))),r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Bill terms"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Days"))),r.a.createElement("tbody",null,u&&u.length>0?u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.name),r.a.createElement("td",{className:"tac"},e.days))})):null)))))),l?r.a.createElement(Xl,{type:v,billterm:_,refreshbilltermlist:function(e){return M(e)},onClose:function(){c(!1)}}):null,L?r.a.createElement(Gl,{billterm:P,termlist:u,onClose:function(){D(!1)},refreshbilltermlist:function(e){return M(e)}}):null)},Ql=n(221),Yl=n.n(Ql);var Kl=function(e){return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.cashier.name||"",staff_id:e.cashier.staff_id||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.position_id=e.cashier._id,t.next=3,fl(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.values,a=t.handleChange,l=t.handleBlur,c=t.isSubmitting;return r.a.createElement("div",null,r.a.createElement("h1",null,"Assign User"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Position Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){a(e),de(e)},onBlur:function(e){l(e),a(e),pe(e)},value:n.name,readOnly:!0,autoFocus:!0,onChange:a})),r.a.createElement(ha,null,r.a.createElement(ya,{onChange:a,onBlur:l,value:n.staff_id,name:"staff_id",required:!0},r.a.createElement("option",{value:""},"Select User"),e.user.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})))),c?r.a.createElement(z,{marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500},filledBtn:!0,disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500},filledBtn:!0},r.a.createElement("span",null,"Assign User"))))})))},$l=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(t,"/getMerchantCashierDashStats"),{staff_id:n});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 8:return e.abrupt("return",{stats:a.data,loading:!1});case 9:return Se(a.data.message,"error"),e.abrupt("return",{stats:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{stats:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),ec=function(){var e=et()(Ke.a.mark((function e(t,n,a,r,l){var c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/queryMerchantCashierTransactionStates"),{bank_id:l,status:"2",staff_id:r,date_after:t,date_before:n,page_start:0,limit:100});case 3:if(200!==(c=e.sent).status){e.next=9;break}if(0!==c.data.status){e.next=8;break}return Se(c.data.message,"error"),e.abrupt("return",{data:{},loading:!1});case 8:return e.abrupt("return",{data:c.data,loading:!1});case 9:return Se(c.data.message,"error"),e.abrupt("return",{data:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{data:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r,l){return e.apply(this,arguments)}}(),tc=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/getMerchantCashierDailyReport"),{start:t,end:n,staff_id:r});case 3:if(200!==(l=e.sent).status){e.next=9;break}if(0!==l.data.status){e.next=8;break}return Se(l.data.message,"error"),e.abrupt("return",{data:{},loading:!1});case 8:return e.abrupt("return",{data:l.data,loading:!1});case 9:return Se(l.data.message,"error"),e.abrupt("return",{data:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{data:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),nc=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(n,"/listMerchantStaffInvoicesByDate"),{date:t,staff_id:a});case 3:if(200!==(r=e.sent).status){e.next=9;break}if(0!==r.data.status){e.next=8;break}return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:r.data.invoices,loading:!1});case 9:return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ac=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/listMerchantStaffInvoicesByPeriod"),{start_date:t,end_date:n,staff_id:r});case 3:if(200!==(l=e.sent).status){e.next=9;break}if(0!==l.data.status){e.next=8;break}return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:l.data.invoices,loading:!1});case 9:return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),rc=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/listMerchantStaffInvoicesByDateRange"),{start_date:t,end_date:n,staff_id:r});case 3:if(200!==(l=e.sent).status){e.next=9;break}if(0!==l.data.status){e.next=8;break}return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:l.data.invoices,loading:!1});case 9:return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),lc=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(n,"/getSettings"),{merchant_id:t});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 8:return e.abrupt("return",{bill_period_list:a.data.setting.bill_period,bill_term_list:a.data.setting.bill_term,default_bill_term:a.data.setting.default_bill_term,default_bill_period:a.data.setting.default_bill_period,country_list:a.data.setting.country_list,default_country:a.data.setting.default_country,bill_period:a.data.setting.bill_period,loading:!1});case 9:return Se(a.data.message,"error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bill_period_list:[],bill_term_list:[],default_bill_term:{},default_bill_period:{},country_list:[],default_country:{},bill_period:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),cc=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(n,"/listMerchantBranchInvoicesByDate"),{date:t,branch_id:a});case 3:if(200!==(r=e.sent).status){e.next=9;break}if(0!==r.data.status){e.next=8;break}return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:r.data.invoices,loading:!1});case 9:return Se(r.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a){return e.apply(this,arguments)}}(),oc=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/listMerchantBranchInvoicesByPeriod"),{start_date:t,end_date:n,branch_id:r});case 3:if(200!==(l=e.sent).status){e.next=9;break}if(0!==l.data.status){e.next=8;break}return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:l.data.invoices,loading:!1});case 9:return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ic=function(){var e=et()(Ke.a.mark((function e(t,n,a,r){var l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(a,"/listMerchantBranchInvoicesByDateRange"),{start_date:t,end_date:n,branch_id:r});case 3:if(200!==(l=e.sent).status){e.next=9;break}if(0!==l.data.status){e.next=8;break}return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:l.data.invoices,loading:!1});case 9:return Se(l.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),uc=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(t,"/listMerchantStaff"),{branch_id:n});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:a.data.staffs,loading:!1});case 9:return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),sc=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(t,"/listMerchantPosition"),{branch_id:n});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{cashiers:a.data.positions.filter((function(e){return"cashier"===e.type})),staffs:a.data.positions.filter((function(e){return"staff"===e.type}))});case 9:return Se(a.data.message,"error"),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),mc=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(t,"/merchantCashierStats"),{cashier_id:n});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_collected:0,penalty_collected:0,cash_in_hand:0,opening_balance:0,opening_time:new Date,closing_balance:0,closing_time:new Date,discrepancy:0});case 8:return e.abrupt("return",{bills_paid:a.data.bills_paid,amount_collected:a.data.amount_collected,penalty_collected:a.data.penalty_collected,cash_in_hand:a.data.cash_in_hand,opening_balance:a.data.opening_balance,opening_time:a.data.opening_time,closing_balance:a.data.closing_balance,closing_time:a.data.closing_time,discrepancy:a.data.discrepancy});case 9:return Se(a.data.message,"error"),e.abrupt("return",{bills_paid:0,amount_collected:0,penalty_collected:0,cash_in_hand:0,opening_balance:0,opening_time:new Date,closing_balance:0,closing_time:new Date,discrepancy:0});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,amount_collected:0,penalty_collected:0,cash_in_hand:0,opening_balance:0,opening_time:new Date,closing_balance:0,closing_time:new Date,discrepancy:0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),dc=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(be,"/").concat(t,"/merchantStaffStats"),{staff_id:n});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return Se(a.data.message,"error"),e.abrupt("return",{bills_paid:0,bills_created:0,counter_invoices:0,opening_time:new Date,closing_time:new Date,bills_uploaded:0});case 8:return e.abrupt("return",{bills_paid:a.data.bills_paid,bills_created:a.data.bills_created,counter_invoices:a.data.counter_invoices,bills_uploaded:a.data.bills_uploaded,opening_time:a.data.opening_time,closing_time:a.data.closing_time});case 9:return Se(a.data.message,"error"),e.abrupt("return",{bills_paid:0,bills_created:0,counter_invoices:0,opening_time:new Date,closing_time:new Date,bills_uploaded:0});case 13:return e.prev=13,e.t0=e.catch(0),Se("Something went wrong","error"),e.abrupt("return",{bills_paid:0,bills_created:0,counter_invoices:0,opening_time:new Date,closing_time:new Date,bills_uploaded:0});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),pc=function(e){var t=Object(a.useState)({}),n=s()(t,2),l=n[0],c=n[1],o="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).bank.name:JSON.parse(localStorage.getItem("merchantLogged")).bank.name,i="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).bank.logo:JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,u="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).details.name:JSON.parse(localStorage.getItem("selectedBranch")).name,m=localStorage.getItem("selectedSubzone"),d="merchantBranch"===e.apitype?" ":e.match.params.id,p=r.a.useState(!1),f=s()(p,2),g=f[0],h=f[1],b=r.a.useState(!1),v=s()(b,2),y=v[0],x=v[1],S=r.a.useState(""),_=s()(S,2),w=_[0],k=_[1],N=r.a.useState("new"),C=s()(N,2),B=C[0],O=C[1],P=r.a.useState([]),T=s()(P,2),I=T[0],R=T[1],L=r.a.useState([]),D=s()(L,2),M=D[0],W=D[1],F=r.a.useState([]),A=s()(F,2),j=A[0],q=A[1],V=r.a.useState([]),H=s()(V,2),U=H[0],J=H[1],X=r.a.useState([]),G=s()(X,2),Z=G[0],Q=G[1],Y=r.a.useState({}),K=s()(Y,2),ee=(K[0],K[1],r.a.useState({})),te=s()(ee,2),ne=te[0],re=te[1],le=r.a.useState(!1),ce=s()(le,2),ie=ce[0],ue=ce[1],se=r.a.useState("cashier"),me=s()(se,2),de=me[0],pe=me[1],fe=function(){return"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).admin?"merchantStaff":"merchant":e.apitype},ge=function(e){re(e),h(!0)},Ee=function(){"cashier"===de?pe("staff"):"staff"===de&&pe("cashier")},ve=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:return a=e.sent,e.next=5,mc(a,t._id);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:return a=e.sent,e.next=5,dc(a,t._id);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),e.next=3,fe();case 3:return t=e.sent,e.next=6,sc(t,d);case 6:return n=e.sent,console.log(n),W(n.cashiers),R(n.staffs),e.next=12,ve(n.cashiers);case 12:return a=e.sent,q(a.res),e.next=16,ye(n.staffs);case 16:return r=e.sent,J(r.res),e.next=20,uc(t,d);case 20:l=e.sent,console.log(l),Q(l.list),ue(l.loading);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(!0),e.next=3,gl(t);case 3:xe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var _e=function(){var t=et()(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="","merchant"===e.apitype&&JSON.parse(localStorage.getItem("merchantLogged")).admin&&(n=JSON.parse(localStorage.getItem("merchantLogged")).details._id),lc(n,e.apitype).then((function(e){k(e.default_bill_period)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){_e(),xe(),function t(){var n="";n="merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).admin?"merchantStaff":"merchant":e.apitype,he.a.post("".concat(be,"/").concat(n,"/getMerchantBranchDashStats"),{branch_id:d}).then((function(e){if(200==e.status){if(0===e.data.status)throw e.data.error;c(e.data)}})).then((function(e){setTimeout((function(){t()}),3e3)})).catch((function(e){setTimeout((function(){t()}),5e3)}))}()}),[]),ie?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Branch | Dashboard "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),"merchantBranch"===e.apitype?r.a.createElement(rl,{active:"dashboard"}):r.a.createElement(qn,null),r.a.createElement(zn,{verticalMargin:!0},"merchant"===e.apitype?r.a.createElement(it,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{style:{border:"none",width:"100px"},onClick:function(){$.push("/merchant/".concat(m,"/branches"))}},r.a.createElement(ae,null,"Back")),r.a.createElement("button",{style:{border:"none",width:"100px"},onClick:function(){$.push("/merchant/branch/reports/".concat(d))}},r.a.createElement(ae,null,"Reports")),r.a.createElement("button",{style:{border:"none",width:"100px"},onClick:function(){$.goBack()}},r.a.createElement(ae,null,r.a.createElement("u",null,"DashBoard"))),r.a.createElement("h2",{style:{color:"green",marginLeft:"280px"}},r.a.createElement("b",null,u)," "))):"",r.a.createElement(Hn,{fullWidth:!0},r.a.createElement("div",{className:"cardHeader",style:{display:"flex"}},r.a.createElement("div",{className:"cardHeaderLeft",style:{display:"flex",alignItems:"center"}},r.a.createElement("i",{className:"material-icons"},"playlist_add_check")),r.a.createElement("div",{className:"cardHeaderRight",style:{marginLeft:"5px"}},r.a.createElement("h3",null,"Daily Activity")),r.a.createElement("div",{className:"cardHeader",style:{display:"flex"}},r.a.createElement("div",{className:"cardHeaderRight",style:{marginLeft:"15px"}},r.a.createElement("h3",null,"Period : ",w.period_name)))),r.a.createElement(rt,{style:{marginTop:"20px",marginBottom:"10px"}},r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Number of Cashier"),r.a.createElement("div",{className:"cardValue"},l.total_cashier))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Opening Balance"),r.a.createElement("div",{className:"cardValue"},"XOF",": ",l.opening_balance))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Cash Received"),r.a.createElement("div",{className:"cardValue"},"XOF",": ",l.amount_collected))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Cash in Hand"),r.a.createElement("div",{className:"cardValue"},"XOF",": ",l.cash_in_hand))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Penalty Collected"),r.a.createElement("div",{className:"cardValue"},"XOF",": ",l.penalty_collected)))),r.a.createElement(rt,{style:{marginTop:"10px",marginBottom:"10px"}},r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"No. of Staff"),r.a.createElement("div",{className:"cardValue"},l.total_staff))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Invoice Raised"),r.a.createElement("div",{className:"cardValue"}," ",l.invoice_raised))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Invoice Paid"),r.a.createElement("div",{className:"cardValue"}," ",l.invoice_paid))),r.a.createElement(ct,null,r.a.createElement(it,{bigPadding:!0,smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Invoice Pending"),r.a.createElement("div",{className:"cardValue"}," ",l.invoice_pending)))),r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px"}},r.a.createElement(z,{className:"cashier"===de?"active":"",onClick:function(){return Ee()},marginRight:"5px",padding:"5px"},"Cashier"),r.a.createElement(z,{className:"staff"===de?"active":"",onClick:function(){return Ee()},style:{marginLeft:"10px"}},"Staff")),r.a.createElement("div",{className:"cardBody"},"cashier"===de?r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cashier Name"),r.a.createElement("th",null,"Assigned to"),r.a.createElement("th",null,"Opening Balance"),r.a.createElement("th",null,"Opening Time"),r.a.createElement("th",null,"Invoices Paid"),r.a.createElement("th",null,"Amount Collected"),r.a.createElement("th",null,"Cash in hand (XOF)"),r.a.createElement("th",null,"Closing Balance"),r.a.createElement("th",null,"Closing Time"),r.a.createElement("th",null,"Discrepancy"),r.a.createElement("th",null))),r.a.createElement("tbody",null,M&&M.length>0&&Z?M.map((function(t,n){var a=Z.filter((function(e){return e._id===t.staff_id}))[0]?Z.filter((function(e){return e._id===t.staff_id}))[0].name:"";return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{style:{display:"inline-flex",marginTop:"10px"}},r.a.createElement(Yl.a,{fontSize:"small",color:2===t.status?"secondary":"primary"}),t.name),r.a.createElement("td",null,a),r.a.createElement("td",null,j[n].opening_balance),r.a.createElement("td",null,"".concat(new Date(j[n].opening_time).getHours(),":").concat(new Date(j[n].opening_time).getMinutes())),r.a.createElement("td",null,j[n].bills_paid),r.a.createElement("td",null,j[n].amount_collected),r.a.createElement("td",null,j[n].cash_in_hand),r.a.createElement("td",null,j[n].closing_balance),null!==j[n].closing_time?r.a.createElement("td",null,"".concat(new Date(j[n].closing_time).getHours(),":").concat(new Date(j[n].closing_time).getMinutes())):r.a.createElement("td",null,"Counter is open"),r.a.createElement("td",null,j[n].discrepancy),r.a.createElement("td",{className:"tac bold green"},r.a.createElement(z,{style:{minWidth:"90%",marginRight:"5px"},onClick:function(){var n;localStorage.setItem("selectedCashier",JSON.stringify(t)),localStorage.setItem("assignedTo",a),$.push((n=t._id,"merchant"===e.apitype?"/merchant/cashier/reports/".concat(n):"/branch/cashier/report/".concat(n)))}},"Reports"),"merchantBranch"===e.apitype?r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger",style:{marginTop:"5px"}},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return ge(t)}},"Assign User"),r.a.createElement("span",{onClick:function(){return Se(t._id)}},"Disassign User"),0===t.status?r.a.createElement("span",{onClick:function(){return hl("unblock",t._id).then((function(){return xe()}))}},"Unblock"):r.a.createElement("span",{onClick:function(){return hl("block",t._id).then((function(){return xe()}))}},"Block"))):""))})):null)):r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Staff Name"),r.a.createElement("th",null,"Assigned to"),r.a.createElement("th",null,"Opening Time"),r.a.createElement("th",null,"Invoices Created"),r.a.createElement("th",null,"Invoices Uploaded"),r.a.createElement("th",null,"Invoices Paid"),r.a.createElement("th",null,"Invoices Pending"),r.a.createElement("th",null,"Counter Invoices"),r.a.createElement("th",null,"Closing Time"),r.a.createElement("th",null))),r.a.createElement("tbody",null,I&&I.length>0&&Z?I.map((function(t,n){var a=Z.filter((function(e){return e._id===t.staff_id}))[0]?Z.filter((function(e){return e._id===t.staff_id}))[0].name:"";return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{style:{display:"inline-flex",marginTop:"10px"}},r.a.createElement(Yl.a,{fontSize:"small",color:2===t.status?"secondary":"primary"}),t.name),r.a.createElement("td",null,a),r.a.createElement("td",null,"".concat(new Date(U[n].opening_time).getHours(),":").concat(new Date(U[n].opening_time).getMinutes())),r.a.createElement("td",null,U[n].bills_created),r.a.createElement("td",null,U[n].bills_uploaded),r.a.createElement("td",null,U[n].bills_paid),r.a.createElement("td",null,U[n].bills_created+U[n].bills_uploaded-U[n].bills_paid),r.a.createElement("td",null,U[n].counter_invoices),null!==U[n].closing_time?r.a.createElement("td",null,"".concat(new Date(U[n].closing_time).getHours(),":").concat(new Date(U[n].closing_time).getMinutes())):r.a.createElement("td",null,"Counter is open"),r.a.createElement("td",{className:"tac bold green"},r.a.createElement(z,{style:{minWidth:"90%",marginRight:"5px"},onClick:function(){var n;localStorage.setItem("selectedCashier",JSON.stringify(t)),localStorage.setItem("assignedTo",a),$.push((n=t._id,"merchant"===e.apitype?"/merchant/staff/reports/".concat(n):"/branch/staff/report/".concat(n)))}},"Reports"),"merchantBranch"===e.apitype?r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger",style:{marginTop:"5px"}},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){return function(e,t){O(e),re(t),x(!0)}("update",t)}},"Allow Counter Invoice"),r.a.createElement("span",{onClick:function(){return ge(t)}},"Assign User"),r.a.createElement("span",{onClick:function(){return Se(t._id)}},"Disassign User"),0===t.status?r.a.createElement("span",{onClick:function(){return hl("unblock",t._id).then((function(){return xe()}))}},"Unblock"):r.a.createElement("span",{onClick:function(){return hl("block",t._id).then((function(){return xe()}))}},"Block"))):""))})):null))))),g?r.a.createElement(Kl,{onClose:function(){h(!1)},user:Z,cashier:ne,refreshCashierList:function(){return xe()}}):null,y?r.a.createElement(bl,{type:B,onClose:function(){x(!1)},refreshCashierList:function(e){return xe()},cashier:ne}):null),r.a.createElement(aa,{bankname:o,banklogo:i}))},fc=n(33),gc=n.n(fc),hc=n(100),Ec=function(e){var t=e.raised?e.raised:0,n=e.paid?e.paid:0,a=e.counter?e.counter:0;return r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Invoice Raised"),r.a.createElement("div",{className:"cardValue"},t))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Invoice Paid"),r.a.createElement("div",{className:"cardValue"},n))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Invoice Pending"),r.a.createElement("div",{className:"cardValue"},t-n))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Counter Invoices"),r.a.createElement("div",{className:"cardValue"},a))))},bc=function(e){var t=e.raised?e.raised:0,n=e.paid?e.paid:0,a=e.pending?e.pending:0,l=e.counter?e.counter:0;return r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Amount Raised"),r.a.createElement("div",{className:"cardValue"},"XOF ",t))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Amount Paid"),r.a.createElement("div",{className:"cardValue"},"XOF ",n))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Amount Pending"),r.a.createElement("div",{className:"cardValue"},"XOF ",a))),r.a.createElement(ct,null,r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",style:{textAlign:"center"},bordered:!0,smallValue:!0},r.a.createElement("h4",null,"Counter Amount"),r.a.createElement("div",{className:"cardValue"},"XOF ",l))))},vc=n(50),yc=n(573),xc=n(59),Sc=(new Date,function(e){var t="merchantBranch"===e.apitype?" ":e.match.params.id,n=Object(a.useState)(!1),l=s()(n,2),c=l[0],o=l[1],i="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).bank.name:JSON.parse(localStorage.getItem("merchantLogged")).bank.name,u="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).bank.logo:JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,m="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).details.name:JSON.parse(localStorage.getItem("selectedBranch")).name,d="merchantBranch"===e.apitype?JSON.parse(localStorage.getItem("branchLogged")).merchant.name:JSON.parse(localStorage.getItem("merchantLogged")).details.name,p=Object(a.useState)([]),f=s()(p,2),g=f[0],h=f[1],b=Object(a.useState)([]),v=s()(b,2),y=v[0],x=v[1],S=Object(a.useState)([]),_=s()(S,2),w=_[0],k=_[1],N=Object(a.useState)([]),C=s()(N,2),B=C[0],O=C[1],P=Object(a.useState)(""),T=s()(P,2),I=T[0],R=T[1],L=Object(a.useState)(""),D=s()(L,2),M=D[0],W=D[1],F=Object(a.useState)(""),A=s()(F,2),j=A[0],q=A[1],V=Object(a.useState)(""),H=s()(V,2),U=H[0],J=H[1],X=Object(a.useState)(0),G=s()(X,2),Z=(G[0],G[1]),Q=Object(a.useState)("billdate"),Y=s()(Q,2),K=Y[0],ee=Y[1],te=Object(a.useState)(""),ne=s()(te,2),re=ne[0],le=ne[1],ce=Object(a.useState)(0),ie=s()(ce,2),ue=ie[0],se=ie[1],me=Object(a.useState)(0),de=s()(me,2),pe=de[0],fe=de[1],ge=Object(a.useState)(0),he=s()(ge,2),Ee=he[0],be=he[1],ve=Object(a.useState)(0),ye=s()(ve,2),xe=ye[0],Se=ye[1],_e=Object(a.useState)(0),we=s()(_e,2),ke=we[0],Ne=we[1],Ce=Object(a.useState)(0),Be=s()(Ce,2),Oe=Be[0],Pe=Be[1],Te=Object(a.useState)(0),Ie=s()(Te,2),Re=Ie[0],Le=Ie[1],De=Object(a.useState)(0),Me=s()(De,2),ze=Me[0],We=Me[1],Fe=Object(a.useState)(""),Ae=s()(Fe,2),je=Ae[0],qe=Ae[1],Ve=Object(a.useState)(new Date),He=s()(Ve,2),Ue=He[0],Je=He[1],Xe=Object(a.useState)([["BillNo","Name","Amount","Mobile","DueDate"]]),Ge=s()(Xe,2),Ze=Ge[0],Qe=Ge[1],Ye=function(){return"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).admin?"merchantStaff":"merchant":e.apitype},$e=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[t.number,t.name,t.amount,t.mobile,t.due_date]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var t=et()(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o(!0),n="","merchant"===e.apitype&&JSON.parse(localStorage.getItem("merchantLogged")).admin&&(n=JSON.parse(localStorage.getItem("merchantLogged")).details._id),lc(n,e.apitype).then((function(e){x(e.bill_period_list),R(e.bill_period_list[0].start_date),W(new Date)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),nt=function(){var e=et()(Ke.a.mark((function e(t){var n,a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y.slice(re,je+1),a=n.map(function(){var e=et()(Ke.a.mark((function e(n){var a,r,l,c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return e.bill_period.period_name===n.period_name}));case 2:return a=e.sent,e.next=5,t.filter((function(e){return e.bill_period.period_name===n.period_name&&0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 5:return r=e.sent,e.next=8,t.filter((function(e){return e.bill_period.period_name===n.period_name&&1===e.paid}));case 8:return l=e.sent,e.next=11,t.filter((function(e){return e.bill_period.period_name===n.period_name&&!0===e.is_counter}));case 11:return c=e.sent,e.abrupt("return",{period_name:n.period_name,raised:a,pending:r,paid:l,counter:c});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(a);case 4:return r=e.sent,e.abrupt("return",{res:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a,r,l,c,o;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.getDate()+1<10?"0".concat(t.getDate()):t.getDate(),"/").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"/").concat(t.getFullYear()),e.next=3,n.filter((function(e){return e.bill_date===a}));case 3:return r=e.sent,e.next=6,n.filter((function(e){return e.bill_date===a&&0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 6:return l=e.sent,e.next=9,n.filter((function(e){return e.bill_date===a&&1===e.paid}));case 9:return c=e.sent,e.next=12,n.filter((function(e){return e.bill_date===a&&!0===e.is_counter}));case 12:return o=e.sent,e.abrupt("return",{date:a,raised:r,pending:l,paid:c,counter:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t.period_name,raised:t.raised.length,paid:t.paid.length,pending:t.pending.length,counter:t.counter.length,amountRaised:t.raised.reduce((function(e,t){return e+t.amount}),0),amountPaid:t.paid.reduce((function(e,t){return e+t.amount}),0),amountPending:t.pending.reduce((function(e,t){return e+t.amount}),0),counterAmount:t.counter.reduce((function(e,t){return e+t.amount}),0)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t.date,raised:t.raised.length,paid:t.paid.length,pending:t.pending.length,counter:t.counter.length,amountRaised:t.raised.reduce((function(e,t){return e+t.amount}),0),amountPaid:t.paid.reduce((function(e,t){return e+t.amount}),0),amountPending:t.pending.reduce((function(e,t){return e+t.amount}),0),counterAmount:t.counter.reduce((function(e,t){return e+t.amount}),0)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=et()(Ke.a.mark((function e(t){var n,a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return 1===e.paid}));case 2:return n=e.sent,e.next=5,t.filter((function(e){return 0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 5:return a=e.sent,e.next=8,t.filter((function(e){return!0===e.is_counter}));case 8:return r=e.sent,e.abrupt("return",{raised:t.length,paid:n.length,pending:a.length,counter:r.length,amountRaised:t.reduce((function(e,t){return e+t.amount}),0),amountPaid:n.reduce((function(e,t){return e+t.amount}),0),amountPending:a.reduce((function(e,t){return e+t.amount}),0),counterAmount:r.reduce((function(e,t){return e+t.amount}),0),loading:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(e,t){for(var n=[],a=new Date(e);a<t;)n=[].concat(gc()(n),[new Date(a)]),a.setDate(a.getDate()+1);return n},mt=function(){var e=et()(Ke.a.mark((function e(){var n,a,r,l,c,i,u;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),n=sr()(new Date(j)),a=ir()(new Date(U)),e.next=5,Ye();case 5:return r=e.sent,e.next=8,oc(n,a,r,t);case 8:return l=e.sent,e.next=11,nt(l.list);case 11:return c=e.sent,e.next=14,lt(c.res);case 14:return i=e.sent,e.next=17,ut(l.list);case 17:u=e.sent,se(u.raised),fe(u.pending),Se(u.paid),be(u.counter),Ne(u.amountRaised),We(u.amountPaid),Pe(u.amountPending),Le(u.counterAmount),k(i.res),o(u.loading);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=et()(Ke.a.mark((function e(){var n,a,r,l,c,i,u,s;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),n=sr()(new Date(I)),a=ir()(new Date(M)),e.next=5,Ye();case 5:return r=e.sent,e.next=8,ic(n,a,r,t);case 8:return l=e.sent,e.next=11,st(n,a);case 11:return c=e.sent,e.next=14,at(c,l.list);case 14:return i=e.sent,e.next=17,ot(i.res);case 17:return u=e.sent,e.next=20,ut(l.list);case 20:s=e.sent,O(u.res),se(s.raised),fe(s.pending),Se(s.paid),be(s.counter),Ne(s.amountRaised),We(s.amountPaid),Pe(s.amountPending),Le(s.counterAmount),o(s.loading);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=et()(Ke.a.mark((function e(){var n,a,r,l,c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),n="".concat(Ue.getDate()+1<10?"0".concat(Ue.getDate()):Ue.getDate(),"/").concat(Ue.getMonth()+1<10?"0".concat(Ue.getMonth()+1):Ue.getMonth()+1,"/").concat(Ue.getFullYear()),e.next=4,Ye();case 4:return a=e.sent,e.next=7,cc(n,a,t);case 7:return r=e.sent,e.next=10,$e(r.list);case 10:return l=e.sent,Z(r.list.reduce((function(e,t){return e+t.amount}),0)),Qe([["BillNo","Name","Amount","Mobile","DueDate"]].concat(gc()(l.res))),h(r.list),e.next=16,ut(r.list);case 16:c=e.sent,se(c.raised),fe(c.pending),Se(c.paid),be(c.counter),Ne(c.amountRaised),We(c.amountPaid),Pe(c.amountPending),Le(c.counterAmount),o(l.loading);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(e){"daterange"===e&&W(new Date),se(0),fe(0),Se(0),be(0),Ne(0),We(0),Pe(0),Le(0),ee(e)};return Object(a.useEffect)((function(){console.log("eg"),tt(),pt()}),[]),c?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant Dashboard | Cashier | E-WALLET "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),"merchantBranch"===e.apitype?r.a.createElement(rl,{active:"reports"}):r.a.createElement(qn,{active:"reports"}),r.a.createElement(zn,{verticalMargin:!0},"merchant"===e.apitype?r.a.createElement(it,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{style:{border:"none",width:"100px"}},r.a.createElement(ae,null,r.a.createElement("u",null,"Reports"))),r.a.createElement("button",{style:{border:"none",width:"100px"},onClick:function(){$.push("/merchant/branch/dashboard/".concat(t))}},r.a.createElement(ae,null,"DashBoard")),r.a.createElement("h2",{style:{color:"green",marginLeft:"330px"}},r.a.createElement("b",null,m)," "))):"",r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px",marginBottom:"10px"}},r.a.createElement(z,{className:"billdate"===K?"active":"",onClick:function(){ft("billdate")},marginRight:"5px",padding:"5px"},"Bill Date"),r.a.createElement(z,{className:"period"===K?"active":"",onClick:function(){ft("period")},style:{marginLeft:"5px"}},"Period"),r.a.createElement(z,{className:"daterange"===K?"active":"",onClick:function(){ft("daterange")},style:{marginLeft:"5px"}},"Date Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"40%"},r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",smallValue:!0,style:{height:"180px"}},r.a.createElement(zn,null,"billdate"===K?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"100%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,maxDate:new Date,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:Ue,onChange:function(e){return Je(e)},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(rt,{style:{marginTop:"20px"}},r.a.createElement(z,{style:{padding:"9px",margin:"auto"},onClick:function(){return pt()}},"Get Report"))):"","period"===K?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Period Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:re,onChange:function(e){q(y[e.target.value].start_date),le(e.target.value)},name:"from",required:!0},y.map((function(e,t){return r.a.createElement("option",{key:e._id,name:e.period_name,value:t},e.period_name)}))))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:je,onChange:function(e){J(y[e.target.value].end_date),qe(e.target.value)},name:"from",required:!0},y.map((function(e,t){return r.a.createElement("option",{key:e._id,value:t},e.period_name)})))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px"},onClick:function(){return mt()}},"Get Report"))):"","daterange"===K?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,maxDate:M,InputLabelProps:{shrink:!0},value:I,onChange:function(e){return R(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,minDate:I,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:M,onChange:function(e){return W(e)},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px",marginTop:"20px"},onClick:function(){return dt()}},"Get Report"))):""))),r.a.createElement(ct,{cW:"30%"}),r.a.createElement(ct,{cW:"30%"})),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"5px",smallValue:!0,style:{height:"80px"}},r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Merchant Name : "),d," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Branch Name : "),m," ")))),r.a.createElement("div",null,r.a.createElement(Ec,{raised:ue,paid:xe,pending:pe,counter:Ee}),r.a.createElement(bc,{raised:ke,paid:ze,pending:Oe,counter:Re})),"period"===K?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Period List")),w&&w.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Period Name"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Invoice Paid"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Invoice Pending"),r.a.createElement("th",null,"Amount Pending"),r.a.createElement("th",null,"Counter Invoice"),r.a.createElement("th",null,"Counter Amount"))),r.a.createElement("tbody",null,w.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.raised),r.a.createElement("td",null,e.amountRaised),r.a.createElement("td",null,"0"),r.a.createElement("td",null,"0"),r.a.createElement("td",null,e.paid),r.a.createElement("td",null,e.amountPaid),r.a.createElement("td",null,e.pending),r.a.createElement("td",null,e.amountPending),r.a.createElement("td",null,e.counter),r.a.createElement("td",null,e.counterAmount))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"","daterange"===K?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Date List")),B&&B.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Invoice Paid"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Invoice Pending"),r.a.createElement("th",null,"Amount Pending"),r.a.createElement("th",null,"Counter Invoice"),r.a.createElement("th",null,"Counter Amount"))),r.a.createElement("tbody",null,B.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.raised),r.a.createElement("td",null,e.amountRaised),r.a.createElement("td",null,"0"),r.a.createElement("td",null,"0"),r.a.createElement("td",null,e.paid),r.a.createElement("td",null,e.amountPaid),r.a.createElement("td",null,e.pending),r.a.createElement("td",null,e.amountPending),r.a.createElement("td",null,e.counter),r.a.createElement("td",null,e.counterAmount))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"","billdate"===K?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement(z,{style:{float:"right"}},r.a.createElement(hc.CSVLink,{data:Ze},"Download as CSV")),r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Invoice List")),g&&g.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bill No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Mobile No"),r.a.createElement("th",null,"Due Date"))),r.a.createElement("tbody",null,g.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"XOF"," ",e.amount),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.due_date))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"",r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"80px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Report generated at ","".concat(new Date(Ue).getDate(),"/").concat(new Date(Ue).getMonth()+1,"/").concat(new Date(Ue).getFullYear()," ").concat(new Date(Ue).getHours(),":").concat(new Date(Ue).getMinutes())," "))),r.a.createElement(aa,{bankname:i,banklogo:u}))});n(570),n(128),n(130),n(129),n(127),n(74);Object(C.a)((function(){return{paper:{padding:"2%",width:"100%"},allTab:{textAlign:"center",width:"10%"},tab:{textAlign:"center",width:"50%"},iconSelected:{color:"#417505"}}}));_.a.number.isRequired,_.a.func.isRequired,_.a.number.isRequired,_.a.number.isRequired;function _c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function wc(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 12px;\n  padding-bottom: 7px;\n  font-weight: normal;\n  border-bottom: ",";\n"]);return wc=function(){return e},e}function kc(){var e=k()(["\n  float: left;\n  margin: 8px 12px;\n"]);return kc=function(){return e},e}var Nc=f.c.nav(kc()),Cc=f.c.span(wc(),(function(e){return"true"===e.active?"1px solid white":"0"})),Bc=function(e){X()(n,e);var t=_c(n);function n(){var e;return j()(this,n),(e=t.call(this)).state={payBillsPopup:!1},e}return V()(n,[{key:"render",value:function(){var e="dashboard"===this.props.active?"true":"",t="reports"===this.props.active?"true":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Nc,null,r.a.createElement(ae,{href:"/staff/dashboard"},r.a.createElement(Cc,{active:e},"Dashboard"))),r.a.createElement(Nc,null,r.a.createElement(ae,{href:"/staff/reports"},r.a.createElement(Cc,{active:t},"Reports"))))}}]),n}(a.Component);function Oc(){var e=k()(["\n  display: flex;\n  justify-content: center;\n"]);return Oc=function(){return e},e}function Pc(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 40px 0 0;\n  padding-bottom: 7px;\n  display: block;\n  font-weight: normal;\n  border-radius: 8px;\n  border: solid 2px #ffffff;\n  padding: 5px 20px;\n"]);return Pc=function(){return e},e}var Tc=f.c.span(Pc()),Ic=(f.c.div(Oc()),function(e){var t=e.page,n=e.goto,a=(e.middleTitle,e.active),l=JSON.parse(localStorage.getItem("cashierLogged")).merchant.name||"",c=JSON.parse(localStorage.getItem("cashierLogged")).merchant.logo||"";return r.a.createElement(Sn,null,r.a.createElement(Dn,{type:"cashier"}),r.a.createElement(zn,null,"info"===t?r.a.createElement(ae,{href:n,float:"left"},r.a.createElement(Tc,null,"Back")):null,r.a.createElement(ae,{href:n,float:"left"},r.a.createElement("div",{className:"bankLogo"},r.a.createElement("img",{src:ve+c,alt:"Merchant Logo"})),r.a.createElement("h2",{style:{marginRight:"100px"}},l.toUpperCase())),"info"===t?null:r.a.createElement(Bc,{active:a})))});function Rc(){var e=k()(["\n  width: 100%;\n  word-break: initial;\n  margin-top: ",";\n  > thead > tr > th {\n    font-size: 14px;\n    font-weight: bold;\n    padding: 8px;\n    text-align: center;\n    background-color: ",";\n    color: #fff;\n    position: relative;\n    width: 12%;\n  }\n  > tbody > tr {\n      color: #4a4a4a;\n      &.red {\n        color: #FF0000;\n      }\n      &.green {\n        color: green;\n      }\n    > td {\n      font-size: 16px;\n      font-weight: 300;\n      text-align: ",";\n      padding: ",";\n      background-color: rgba(81, 111, 10, 0.01);\n      position: relative;\n      &.green {\n        color: ",";\n        font-weight: 1000 !important;\n      }\n      > a {\n        font-size: 12px;\n      }\n      &.right {\n        text-align: right;\n      }\n      .labelGrey {\n        font-size: 18px;\n        font-weight: 300;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: normal;\n        letter-spacing: -0.13px;\n        color: #4a4a4a;\n      }\n      .labelBlue {\n        font-size: 20px;\n        font-weight: bold;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: normal;\n        letter-spacing: -0.1px;\n        color: #4a90e2;\n      }\n      .labelSmallGrey {\n        font-size: 12px;\n        font-weight: 300;\n        font-stretch: normal;\n        font-style: normal;\n        line-height: normal;\n        letter-spacing: -0.13px;\n        color: #4a4a4a;\n      }\n    }\n    td > .material-icons {\n      font-size: 19px;\n      font-weight: bold;\n      color: ",";\n    }\n    > .bold {\n      font-weight: bold;\n    }\n  }\n\n  .popMenuTrigger {\n    i {\n      font-size: 18px;\n    }\n    cursor: pointer;\n    .popMenu {\n      display: none;\n      position: absolute;\n      z-index: 10;\n      font-size: 13px;\n      font-weight: normal;\n      width: 130px;\n      right: 18px;\n      margin-top: -15px;\n      box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n      background-color: #ffffff;\n      padding: 5px 10px;\n      > span {\n        margin: 8px 0 12px;\n        text-align: left;\n        display: block;\n        color: #000;\n        font-size: 13px;\n        font-weight: normal;\n      }\n    }\n    &:hover .popMenu,\n    .popMenu:hover {\n      display: block;\n    }\n  }\n"]);return Rc=function(){return e},e}var Lc=f.c.table(Rc(),(function(e){return e.marginTop?e.marginTop:"0"}),(function(e){return e.theme.accent}),(function(e){return e.textAlign?e.textAlign:"center"}),(function(e){return e.smallTd?"10px":"14px 22px"}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Dc=(new Date,function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=JSON.parse(localStorage.getItem("merchantLogged")).bank.name,i=JSON.parse(localStorage.getItem("merchantLogged")).bank.logo,u=JSON.parse(localStorage.getItem("merchantLogged")).details.name,m=JSON.parse(localStorage.getItem("merchantLogged")).details._id,d=Object(a.useState)([]),p=s()(d,2),f=p[0],g=p[1],h=Object(a.useState)(""),b=s()(h,2),v=b[0],y=b[1],x=Object(a.useState)(""),S=s()(x,2),_=S[0],w=S[1],k=Object(a.useState)(new Date),N=s()(k,2),C=N[0],B=N[1],O=Object(a.useState)(new Date),P=s()(O,2),T=P[0],I=P[1],R=Object(a.useState)([]),L=s()(R,2),D=L[0],M=L[1],W=Object(a.useState)([]),F=s()(W,2),A=F[0],j=F[1],q=Object(a.useState)([]),V=s()(q,2),H=V[0],U=V[1],J=Object(a.useState)([]),X=s()(J,2),G=X[0],Z=X[1],Q=Object(a.useState)(),Y=s()(Q,2),K=Y[0],$=Y[1],ee=Object(a.useState)(),te=s()(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(),le=s()(re,2),ce=le[0],ie=le[1],ue=Object(a.useState)(),se=s()(ue,2),me=se[0],de=se[1],pe=Object(a.useState)(),fe=s()(pe,2),ge=fe[0],he=fe[1],Ee=Object(a.useState)(),be=s()(Ee,2),ve=be[0],ye=be[1],xe=Object(a.useState)(),Se=s()(xe,2),_e=Se[0],we=Se[1],ke=Object(a.useState)(),Ne=s()(ke,2),Ce=Ne[0],Be=Ne[1],Oe=Object(a.useState)(),Pe=s()(Oe,2),Te=Pe[0],Ie=Pe[1],Re=Object(a.useState)(),Le=s()(Re,2),De=Le[0],Me=Le[1],ze=Object(a.useState)(),We=s()(ze,2),Fe=We[0],Ae=We[1],je=Object(a.useState)(),qe=s()(je,2),Ve=qe[0],He=qe[1],Ue=Object(a.useState)(),Je=s()(Ue,2),Xe=Je[0],Ge=Je[1],Ze=Object(a.useState)(),Qe=s()(Ze,2),Ye=Qe[0],$e=Qe[1],tt=Object(a.useState)(),nt=s()(tt,2),at=nt[0],lt=nt[1],ot=Object(a.useState)(),st=s()(ot,2),mt=st[0],dt=st[1],pt=Object(a.useState)("daterange"),ft=s()(pt,2),gt=ft[0],ht=ft[1],Et=Object(a.useState)("zone"),bt=s()(Et,2),vt=bt[0],yt=bt[1],xt=Object(a.useState)([["BillNo","Name","Amount","Mobile","DueDate"]]),St=s()(xt,2),kt=(St[0],St[1],function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(!0),Zt(m).then((function(e){g(e.list)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Nt=function(e,t){for(var n=[],a=new Date(e);a<t;)n=[].concat(gc()(n),[new Date(a)]),a.setDate(a.getDate()+1);return n},Bt=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an(t._id,n,vt);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ot=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn(t._id,n.period_name,vt);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pt=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Date(t)).setDate(a.getDate()+1),e.next=4,Bt(n,a);case 4:return r=e.sent,console.log(r.res),e.abrupt("return",{date:t,data:r.res,amount_generated:r.res.reduce((function(e,t){return e+t.amount_generated}),0),bill_generated:r.res.reduce((function(e,t){return e+t.bill_generated}),0),amount_paid:r.res.reduce((function(e,t){return e+t.amount_paid}),0),bill_paid:r.res.reduce((function(e,t){return e+t.bill_paid}),0),amount_paid_BC:r.res.reduce((function(e,t){return e+t.amount_paid_by_BC}),0),bill_paid_BC:r.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_PC:r.res.reduce((function(e,t){return e+t.amount_paid_by_PC}),0),bill_paid_PC:r.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_US:r.res.reduce((function(e,t){return e+t.amount_paid_by_US}),0),bill_paid_US:r.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_MC:r.res.reduce((function(e,t){return e+t.amount_paid_by_MC}),0),bill_paid_MC:r.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tt=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(n,t);case 2:return a=e.sent,e.abrupt("return",{period:t.period_name,data:a.res,amount_generated:a.res.reduce((function(e,t){return e+t.amount_generated}),0),bill_generated:a.res.reduce((function(e,t){return e+t.bill_generated}),0),amount_paid:a.res.reduce((function(e,t){return e+t.amount_paid}),0),bill_paid:a.res.reduce((function(e,t){return e+t.bill_paid}),0),amount_paid_BC:a.res.reduce((function(e,t){return e+t.amount_paid_by_BC}),0),bill_paid_BC:a.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_PC:a.res.reduce((function(e,t){return e+t.amount_paid_by_PC}),0),bill_paid_PC:a.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_US:a.res.reduce((function(e,t){return e+t.amount_paid_by_US}),0),bill_paid_US:a.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_MC:a.res.reduce((function(e,t){return e+t.amount_paid_by_MC}),0),bill_paid_MC:a.res.reduce((function(e,t){return e+t.bill_paid_by_BC}),0)});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),It=function(e){return{amount_generated:e.reduce((function(e,t){return e+t.amount_generated}),0),bill_generated:e.reduce((function(e,t){return e+t.bill_generated}),0),amount_paid:e.reduce((function(e,t){return e+t.amount_paid}),0),bill_paid:e.reduce((function(e,t){return e+t.bill_paid}),0),amount_paid_BC:e.reduce((function(e,t){return e+t.amount_paid_by_BC}),0),bill_paid_BC:e.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_PC:e.reduce((function(e,t){return e+t.amount_paid_by_PC}),0),bill_paid_PC:e.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_US:e.reduce((function(e,t){return e+t.amount_paid_by_US}),0),bill_paid_US:e.reduce((function(e,t){return e+t.bill_paid_by_BC}),0),amount_paid_MC:e.reduce((function(e,t){return e+t.amount_paid_by_MC}),0),bill_paid_MC:e.reduce((function(e,t){return e+t.bill_paid_by_BC}),0)}},Rt=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l,o;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,f.slice(v,_+1);case 3:return t=e.sent,console.log(t),e.next=7,_t(m,"zone");case 7:return n=e.sent,j(n.list),e.next=11,_t(m,"subzone");case 11:if(a=e.sent,U(a.list),r={},"zone"!==vt){e.next=18;break}r=n,e.next=27;break;case 18:if("subzone"!==vt){e.next=24;break}return e.next=21,wt(at);case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,Ct(mt);case 26:r=e.sent;case 27:return M(r.list),e.next=30,Tt(t,r.list);case 30:return l=e.sent,e.next=33,It(l.res);case 33:o=e.sent,$(o.amount_generated),ae(o.amount_paid),we(o.bill_generated),Be(o.bill_paid),Ie(o.bill_paid_BC),Me(o.bill_paid_PC),Ae(o.bill_paid_MC),He(o.bill_paid_US),ie(o.amount_paid_BC),he(o.amount_paid_PC),de(o.amount_paid_MC),ye(o.amount_paid_US),Ge(o.bill_generated-o.bill_paid),$e(o.amount_generated-o.amount_paid),Z(l.res),c(l.loading);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l,o,i,u;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=sr()(new Date(C)),n=ir()(new Date(T)),e.next=5,Nt(t,n);case 5:return a=e.sent,e.next=8,_t(m,"zone");case 8:return r=e.sent,j(r.list),e.next=12,_t(m,"subzone");case 12:if(l=e.sent,U(l.list),o={},"zone"!==vt){e.next=19;break}o=r,e.next=28;break;case 19:if("subzone"!==vt){e.next=25;break}return e.next=22,wt(at);case 22:o=e.sent,e.next=28;break;case 25:return e.next=27,Ct(mt);case 27:o=e.sent;case 28:return M(o.list),e.next=31,Pt(a,o.list);case 31:return i=e.sent,console.log(i),e.next=35,It(i.res);case 35:u=e.sent,$(u.amount_generated),ae(u.amount_paid),ie(u.amount_paid_BC),he(u.amount_paid_PC),de(u.amount_paid_MC),ye(u.amount_paid_US),we(u.bill_generated),Be(u.bill_paid),Ie(u.bill_paid_BC),Me(u.bill_paid_PC),Ae(u.bill_paid_MC),He(u.bill_paid_US),Z(i.res),c(i.loading);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Dt=function(e){$(0),ae(0),we(0),Be(0),Ge(0),$e(0),Z([]),ht(e)},Mt=function(e){"subzone"===e?lt(A[0]._id):"branch"===e&&dt(H[0]._id),$(0),ae(0),we(0),Be(0),Ge(0),$e(0),Z([]),yt(e)};return Object(a.useEffect)((function(){kt(),Lt()}),[]),l?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant Dashboard | Cashier | E-WALLET "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),r.a.createElement(qn,{active:"reports"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(it,{style:{marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("h3",{style:{color:"green",textAlign:"center"}},r.a.createElement("b",null,u," Report")," "),r.a.createElement("div",{style:{justifyContent:"left",marginTop:"10px",marginBottom:"10px"}},r.a.createElement(rt,null,r.a.createElement(ct,{cW:"33%"},r.a.createElement(z,{className:"zone"===vt?"active":"",onClick:function(){Mt("zone")},style:{marginLeft:"5px"}},"Zone")),r.a.createElement(ct,{cW:"33%"},r.a.createElement(z,{className:"subzone"===vt?"active":"",onClick:function(){Mt("subzone")},style:{marginLeft:"5px"}},"Subzone")),r.a.createElement(ct,{cW:"33%"},r.a.createElement(z,{className:"branch"===vt?"active":"",onClick:function(){Mt("branch")},style:{marginLeft:"5px"}},"Branch"))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"33%"}),r.a.createElement(ct,{cW:"33%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px",width:"110px",display:"subzone"!==vt?"none":""},value:at,onChange:function(e){lt(e.target.value)},required:!0},A.map((function(e,t){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))))),r.a.createElement(ct,{cW:"33%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px",width:"110px",display:"branch"!==vt?"none":""},value:mt,onChange:function(e){dt(e.target.value)},required:!0},H.map((function(e,t){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))))))))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"40%"},r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"10px",smallValue:!0,style:{height:"220px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px",marginBottom:"10px"}},r.a.createElement(z,{className:"daterange"===gt?"active":"",onClick:function(){Dt("daterange")},style:{marginLeft:"5px"}},"Date Range"),r.a.createElement(z,{className:"period"===gt?"active":"",onClick:function(){Dt("period")},style:{marginLeft:"5px"}},"Period")),r.a.createElement(zn,null,"daterange"===gt?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,maxDate:T,InputLabelProps:{shrink:!0},value:C,onChange:function(e){return B(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,minDate:C,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:T,onChange:function(e){return I(e)},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px",marginTop:"20px"},onClick:function(){return Lt()}},"Get Report"))):"","period"===gt?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Period Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:v,onChange:function(e){y(e.target.value)},name:"from",required:!0},f.map((function(e,t){return r.a.createElement("option",{key:e._id,name:e.period_name,value:t},e.period_name)}))))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:_,onChange:function(e){w(e.target.value)},name:"from",required:!0},f.map((function(e,t){return r.a.createElement("option",{key:e._id,value:t},e.period_name)})))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px"},onClick:function(){return Rt()}},"Get Report"))):""))),r.a.createElement(ct,{cW:"30%"}),r.a.createElement(ct,{cW:"30%"})),"period"===gt?r.a.createElement("div",null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Created",no:_e,amount:K})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Uploaded",no:0,amount:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid",no:Ce,amount:ne})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Pending",no:Xe,amount:Ye}))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Bank",no:Te,amount:ce})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Partner",no:Fe,amount:ge})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Merchant",no:De,amount:me})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By User",no:Ve,amount:ve})))):r.a.createElement("div",null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Created",no:_e,amount:K})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Uploaded",no:0,amount:0})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid",no:Ce,amount:ne})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Pending",no:_e-Ce,amount:K-ne}))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Bank",no:Te,amount:ce})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Partner",no:Fe,amount:ge})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By Merchant",no:De,amount:me})),r.a.createElement(ct,null,r.a.createElement(ut,{title:"Invoice Paid By User",no:Ve,amount:ve})))),r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},G&&G.length>0?G.map((function(e,t){return r.a.createElement("div",null,"daterange"===gt?r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"".concat(new Date(e.date).getDate(),"/").concat(new Date(e.date).getMonth()+1,"/").concat(new Date(e.date).getUTCFullYear()))):r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,e.period)),r.a.createElement(Lc,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,vt),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Invoice Paid By Bank"),r.a.createElement("th",null,"Invoice Paid By Partner"),r.a.createElement("th",null,"Invoice Paid By User"),r.a.createElement("th",null,"Invoice Paid By Merchant"),r.a.createElement("th",null,"Invoice Pending"))),r.a.createElement("tbody",null,G[t].data.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,D[t].name),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_generated),r.a.createElement(rt,null,"XOF ",e.amount_generated)),r.a.createElement("td",null,r.a.createElement(rt,null,"No. 0"),r.a.createElement(rt,null,"XOF 0")),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_paid_by_BC),r.a.createElement(rt,null,"XOF ",e.amount_paid_by_BC)),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_paid_by_PC),r.a.createElement(rt,null,"XOF ",e.amount_paid_by_PC)),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_paid_by_US),r.a.createElement(rt,null,"XOF ",e.amount_paid_by_US)),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_paid_by_MC),r.a.createElement(rt,null,"XOF ",e.amount_paid_by_MC)),r.a.createElement("td",null,r.a.createElement(rt,null,"No. ",e.bill_generated-e.bill_paid),r.a.createElement(rt,null,"XOF ",e.amount_generated-e.amount_paid)))})),r.a.createElement("tr",null,r.a.createElement("td",{className:"green"},"Total"),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_generated),r.a.createElement(rt,null,"XOF ",G[t].amount_generated)),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. 0"),r.a.createElement(rt,null,"XOF 0")),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_paid_BC),r.a.createElement(rt,null,"XOF ",G[t].amount_paid_BC)),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_paid_PC),r.a.createElement(rt,null,"XOF ",G[t].amount_paid_PC)),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_paid_US),r.a.createElement(rt,null,"XOF ",G[t].amount_paid_US)),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_paid_MC),r.a.createElement(rt,null,"XOF ",G[t].amount_paid_MC)),r.a.createElement("td",{className:"green"},r.a.createElement(rt,null,"No. ",G[t].bill_generated-G[t].bill_paid),r.a.createElement(rt,null,"XOF ",G[t].amount_generated-G[t].amount_paid))))))})):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"80px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Report generated at ","".concat((new Date).getDate(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear()," ").concat((new Date).getHours(),":").concat((new Date).getMinutes())," "))),r.a.createElement(aa,{bankname:o,banklogo:i}))}),Mc=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).bank.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).bank.name:JSON.parse(localStorage.getItem("branchLogged")).bank.name,i="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).bank.logo:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).bank.logo:JSON.parse(localStorage.getItem("branchLogged")).bank.logo,u="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).staff.name:JSON.parse(localStorage.getItem("selectedCashier")).name,m="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).branch.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("selectedBranch")).name:JSON.parse(localStorage.getItem("branchLogged")).details.name,d="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).merchant.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).details.name:JSON.parse(localStorage.getItem("branchLogged")).merchant.name,p="merchantStaff"===e.apitype?"":localStorage.getItem("assignedTo"),f="merchantStaff"===e.apitype?" ":e.match.params.id,g=Object(a.useState)([]),h=s()(g,2),b=h[0],v=h[1],y=Object(a.useState)([]),x=s()(y,2),S=x[0],_=x[1],w=Object(a.useState)([]),k=s()(w,2),N=k[0],C=k[1],B=Object(a.useState)([]),O=s()(B,2),P=O[0],T=O[1],I=Object(a.useState)(""),R=s()(I,2),L=R[0],D=R[1],M=Object(a.useState)(""),W=s()(M,2),F=W[0],A=W[1],j=Object(a.useState)(""),q=s()(j,2),V=q[0],H=q[1],U=Object(a.useState)(""),J=s()(U,2),X=J[0],G=J[1],Z=Object(a.useState)(0),Q=s()(Z,2),Y=(Q[0],Q[1]),K=Object(a.useState)("billdate"),$=s()(K,2),ee=$[0],te=$[1],ne=Object(a.useState)(""),ae=s()(ne,2),re=ae[0],le=ae[1],ce=Object(a.useState)(0),ie=s()(ce,2),ue=ie[0],se=ie[1],me=Object(a.useState)(0),de=s()(me,2),pe=de[0],fe=de[1],ge=Object(a.useState)(0),he=s()(ge,2),Ee=he[0],be=he[1],ve=Object(a.useState)(0),ye=s()(ve,2),xe=ye[0],Se=ye[1],_e=Object(a.useState)(0),we=s()(_e,2),ke=we[0],Ne=we[1],Ce=Object(a.useState)(0),Be=s()(Ce,2),Oe=Be[0],Pe=Be[1],Te=Object(a.useState)(0),Ie=s()(Te,2),Re=Ie[0],Le=Ie[1],De=Object(a.useState)(0),Me=s()(De,2),ze=Me[0],We=Me[1],Fe=Object(a.useState)(""),Ae=s()(Fe,2),je=Ae[0],qe=Ae[1],Ve=Object(a.useState)(new Date),He=s()(Ve,2),Ue=He[0],Je=He[1],Xe=Object(a.useState)([["BillNo","Name","Amount","Mobile","DueDate"]]),Ge=s()(Xe,2),Ze=Ge[0],Qe=Ge[1],Ye=function(){return"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).admin?"merchantStaff":"merchant":e.apitype},$e=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[t.number,t.name,t.amount,t.mobile,t.due_date]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var t=et()(Ke.a.mark((function t(){var n;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),n="","merchant"===e.apitype&&JSON.parse(localStorage.getItem("merchantLogged")).admin&&(n=JSON.parse(localStorage.getItem("merchantLogged")).details._id),lc(n,e.apitype).then((function(e){_(e.bill_period_list),D(e.bill_period_list[0].start_date),A(new Date)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),nt=function(){var e=et()(Ke.a.mark((function e(t){var n,a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S.slice(re,je+1),a=n.map(function(){var e=et()(Ke.a.mark((function e(n){var a,r,l,c;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return e.bill_period.period_name===n.period_name}));case 2:return a=e.sent,e.next=5,t.filter((function(e){return e.bill_period.period_name===n.period_name&&0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 5:return r=e.sent,e.next=8,t.filter((function(e){return e.bill_period.period_name===n.period_name&&1===e.paid}));case 8:return l=e.sent,e.next=11,t.filter((function(e){return e.bill_period.period_name===n.period_name&&!0===e.is_counter}));case 11:return c=e.sent,e.abrupt("return",{period_name:n.period_name,raised:a,pending:r,paid:l,counter:c});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(a);case 4:return r=e.sent,e.abrupt("return",{res:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=et()(Ke.a.mark((function e(t,n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=et()(Ke.a.mark((function e(t){var a,r,l,c,o;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(t.getDate()+1<10?"0".concat(t.getDate()):t.getDate(),"/").concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,"/").concat(t.getFullYear()),e.next=3,n.filter((function(e){return e.bill_date===a}));case 3:return r=e.sent,e.next=6,n.filter((function(e){return e.bill_date===a&&0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 6:return l=e.sent,e.next=9,n.filter((function(e){return e.bill_date===a&&1===e.paid}));case 9:return c=e.sent,e.next=12,n.filter((function(e){return e.bill_date===a&&!0===e.is_counter}));case 12:return o=e.sent,e.abrupt("return",{date:a,raised:r,pending:l,paid:c,counter:o});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lt=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t.period_name,raised:t.raised.length,paid:t.paid.length,pending:t.pending.length,counter:t.counter.length,amountRaised:t.raised.reduce((function(e,t){return e+t.amount}),0),amountPaid:t.paid.reduce((function(e,t){return e+t.amount}),0),amountPending:t.pending.reduce((function(e,t){return e+t.amount}),0),counterAmount:t.counter.reduce((function(e,t){return e+t.amount}),0)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{name:t.date,raised:t.raised.length,paid:t.paid.length,pending:t.pending.length,counter:t.counter.length,amountRaised:t.raised.reduce((function(e,t){return e+t.amount}),0),amountPaid:t.paid.reduce((function(e,t){return e+t.amount}),0),amountPending:t.pending.reduce((function(e,t){return e+t.amount}),0),counterAmount:t.counter.reduce((function(e,t){return e+t.amount}),0)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=et()(Ke.a.mark((function e(t){var n,a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.filter((function(e){return 1===e.paid}));case 2:return n=e.sent,e.next=5,t.filter((function(e){return 0===e.paid&&1===e.is_validated&&!1===e.is_counter}));case 5:return a=e.sent,e.next=8,t.filter((function(e){return!0===e.is_counter}));case 8:return r=e.sent,e.abrupt("return",{raised:t.length,paid:n.length,pending:a.length,counter:r.length,amountRaised:t.reduce((function(e,t){return e+t.amount}),0),amountPaid:n.reduce((function(e,t){return e+t.amount}),0),amountPending:a.reduce((function(e,t){return e+t.amount}),0),counterAmount:r.reduce((function(e,t){return e+t.amount}),0),loading:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(e,t){for(var n=[],a=new Date(e);a<t;)n=[].concat(gc()(n),[new Date(a)]),a.setDate(a.getDate()+1);return n},mt=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l,o,i;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=sr()(new Date(V)),n=ir()(new Date(X)),e.next=5,Ye();case 5:return a=e.sent,e.next=8,ac(t,n,a,f);case 8:return r=e.sent,e.next=11,nt(r.list);case 11:return l=e.sent,e.next=14,lt(l.res);case 14:return o=e.sent,e.next=17,ut(r.list);case 17:i=e.sent,se(i.raised),fe(i.pending),Se(i.paid),be(i.counter),Ne(i.amountRaised),We(i.amountPaid),Pe(i.amountPending),Le(i.counterAmount),C(o.res),c(i.loading);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l,o,i,u;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=sr()(new Date(L)),n=ir()(new Date(F)),e.next=5,Ye();case 5:return a=e.sent,e.next=8,rc(t,n,a,f);case 8:return r=e.sent,e.next=11,st(t,n);case 11:return l=e.sent,e.next=14,at(l,r.list);case 14:return o=e.sent,e.next=17,ot(o.res);case 17:return i=e.sent,e.next=20,ut(r.list);case 20:u=e.sent,T(i.res),se(u.raised),fe(u.pending),Se(u.paid),be(u.counter),Ne(u.amountRaised),We(u.amountPaid),Pe(u.amountPending),Le(u.counterAmount),c(u.loading);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=et()(Ke.a.mark((function e(){var t,n,a,r,l;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t="".concat(Ue.getDate()+1<10?"0".concat(Ue.getDate()):Ue.getDate(),"/").concat(Ue.getMonth()+1<10?"0".concat(Ue.getMonth()+1):Ue.getMonth()+1,"/").concat(Ue.getFullYear()),e.next=4,Ye();case 4:return n=e.sent,e.next=7,nc(t,n,f);case 7:return a=e.sent,e.next=10,$e(a.list);case 10:return r=e.sent,Y(a.list.reduce((function(e,t){return e+t.amount}),0)),Qe([["BillNo","Name","Amount","Mobile","DueDate"]].concat(gc()(r.res))),v(a.list),e.next=16,ut(a.list);case 16:l=e.sent,se(l.raised),fe(l.pending),Se(l.paid),be(l.counter),Ne(l.amountRaised),We(l.amountPaid),Pe(l.amountPending),Le(l.counterAmount),c(r.loading);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(e){"daterange"===e&&A(new Date),se(0),fe(0),Se(0),be(0),Ne(0),We(0),Pe(0),Le(0),te(e)};return Object(a.useEffect)((function(){console.log("eg"),tt(),pt()}),[]),l?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant Dashboard | Cashier | E-WALLET "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),"merchantStaff"===e.apitype?r.a.createElement(Ic,{active:"reports"}):"merchant"===e.apitype?r.a.createElement(qn,{active:"reports"}):r.a.createElement(rl,{active:"reports"}),r.a.createElement(zn,{verticalMargin:!0},"merchantStaff"!==e.apitype?r.a.createElement(it,null,r.a.createElement("h3",{style:{color:"green",textAlign:"center"}},r.a.createElement("b",null,"Name : "),p," ")):"",r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"20px",marginBottom:"10px"}},r.a.createElement(z,{className:"billdate"===ee?"active":"",onClick:function(){ft("billdate")},marginRight:"5px",padding:"5px"},"Bill Date"),r.a.createElement(z,{className:"period"===ee?"active":"",onClick:function(){ft("period")},style:{marginLeft:"5px"}},"Period"),r.a.createElement(z,{className:"daterange"===ee?"active":"",onClick:function(){ft("daterange")},style:{marginLeft:"5px"}},"Date Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"40%"},r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",smallValue:!0,style:{height:"180px"}},r.a.createElement(zn,null,"billdate"===ee?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"100%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,maxDate:new Date,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:Ue,onChange:function(e){return Je(e)},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(rt,{style:{marginTop:"20px"}},r.a.createElement(z,{style:{padding:"9px",margin:"auto"},onClick:function(){return pt()}},"Get Report"))):"","period"===ee?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Period")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:re,onChange:function(e){H(S[e.target.value].start_date),le(e.target.value)},name:"from",required:!0},S.map((function(e,t){return r.a.createElement("option",{key:e._id,name:e.period_name,value:t},e.period_name)}))))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(ya,{style:{marginTop:"10px"},value:je,onChange:function(e){G(S[e.target.value].end_date),qe(e.target.value)},name:"from",required:!0},S.map((function(e,t){return r.a.createElement("option",{key:e._id,value:t},e.period_name)})))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px"},onClick:function(){return mt()}},"Get Report"))):"","daterange"===ee?r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date Range")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,maxDate:F,InputLabelProps:{shrink:!0},value:L,onChange:function(e){return D(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(ct,{cW:"4%"},"To"),r.a.createElement(ct,{cW:"48%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,minDate:L,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:F,onChange:function(e){return A(e)},KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(rt,{style:{marginTop:"20px",margin:"auto"}},r.a.createElement(z,{style:{padding:"9px",marginTop:"20px"},onClick:function(){return dt()}},"Get Report"))):""))),r.a.createElement(ct,{cW:"30%"}),r.a.createElement(ct,{cW:"30%"})),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"5px",smallValue:!0,style:{height:"80px"}},r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Merchant Name : "),d," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Branch Name : "),m," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Position Name : "),u," ")))),r.a.createElement("div",null,r.a.createElement(Ec,{raised:ue,paid:xe,pending:pe,counter:Ee}),r.a.createElement(bc,{raised:ke,paid:ze,pending:Oe,counter:Re})),"period"===ee?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Period List")),N&&N.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Period Name"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Invoice Paid"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Invoice Pending"),r.a.createElement("th",null,"Amount Pending"),r.a.createElement("th",null,"Counter Invoice"),r.a.createElement("th",null,"Counter Amount"))),r.a.createElement("tbody",null,N.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.raised),r.a.createElement("td",null,e.amountRaised),r.a.createElement("td",null,"0"),r.a.createElement("td",null,"0"),r.a.createElement("td",null,e.paid),r.a.createElement("td",null,e.amountPaid),r.a.createElement("td",null,e.pending),r.a.createElement("td",null,e.amountPending),r.a.createElement("td",null,e.counter),r.a.createElement("td",null,e.counterAmount))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"","daterange"===ee?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Date List")),P&&P.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Invoice Created"),r.a.createElement("th",null,"Amount Generated"),r.a.createElement("th",null,"Invoice Uploaded"),r.a.createElement("th",null,"Amount Uploaded"),r.a.createElement("th",null,"Invoice Paid"),r.a.createElement("th",null,"Amount Paid"),r.a.createElement("th",null,"Invoice Pending"),r.a.createElement("th",null,"Amount Pending"),r.a.createElement("th",null,"Counter Invoice"),r.a.createElement("th",null,"Counter Amount"))),r.a.createElement("tbody",null,P.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.raised),r.a.createElement("td",null,e.amountRaised),r.a.createElement("td",null,"0"),r.a.createElement("td",null,"0"),r.a.createElement("td",null,e.paid),r.a.createElement("td",null,e.amountPaid),r.a.createElement("td",null,e.pending),r.a.createElement("td",null,e.amountPending),r.a.createElement("td",null,e.counter),r.a.createElement("td",null,e.counterAmount))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"","billdate"===ee?r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement(z,{style:{float:"right"}},r.a.createElement(hc.CSVLink,{data:Ze},"Download as CSV")),r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Invoice List")),b&&b.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bill No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Mobile No"),r.a.createElement("th",null,"Due Date"))),r.a.createElement("tbody",null,b.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"XOF"," ",e.amount),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.due_date))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")):"",r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"80px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Report generated at ","".concat(new Date(Ue).getDate(),"/").concat(new Date(Ue).getMonth()+1,"/").concat(new Date(Ue).getFullYear()," ").concat(new Date(Ue).getHours(),":").concat(new Date(Ue).getMinutes())," "))),r.a.createElement(aa,{bankname:o,banklogo:i}))};function zc(){var e=k()(["\n  min-width: ",";\n  min-width: ",";\n  padding: ",";\n  padding: ",";\n  text-align: center;\n  border-radius: 4px;\n  float: ",";\n  background-color: ",";\n  background-color: ",";\n  background-color: ",";\n  border: ",";\n  border: ",";\n  color: ",";\n  color: ",";\n  font-size: ",";\n  font-size: ",";\n  font-size: ",";\n  font-weight: ",";\n  display: ",";\n  align-items: center;\n  justify-content: center;\n  margin-top: ",";\n  margin-bottom: ",";\n  position: ",";\n  bottom: ",";\n  right: ",";\n  > i {\n    font-size: 13px;\n  }\n  &.toggle {\n    border: 1px solid ",";\n    color: ",";\n  }\n  &.active {\n    background-color: ",";\n    color: #ffffff;\n  }\n\n  ","\n"]);return zc=function(){return e},e}var Wc=f.c.button(zc(),(function(e){return e.filledBtn?"100%":"110px"}),(function(e){return e.noMin?"0":"sdd"}),(function(e){return e.accentedBtn?"7px":"5px"}),(function(e){return e.padding?e.padding:"5px"}),(function(e){return e.float?e.float:"none"}),(function(e){return e.filledBtn?e.theme.primary:"#fff"}),(function(e){return e.accentedBtn?e.theme.accent:"sdf"}),(function(e){return e.accentedOutline?"transparent":"sdf"}),(function(e){return e.accentedBtn?"none":"1px solid #417505"}),(function(e){return e.accentedOutline?"1px solid ".concat(e.theme.primary):"sd"}),(function(e){return e.filledBtn||e.accentedBtn?"#fff":e.theme.primary}),(function(e){return e.accentedOutline?e.theme.accent:"sd"}),(function(e){return e.filledBtn?"20px":"11px"}),(function(e){return e.accentedBtn?"16px":"sdf"}),(function(e){return e.fontSize?"props.fontSize":"sdf"}),(function(e){return e.filledBtn||e.accentedBtn?"bold":"normal"}),(function(e){return e.flex?"flex":"block"}),(function(e){return e.marginTop?e.marginTop:"0"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.bottomRight?"absolute":"relative"}),(function(e){return e.bottomRight?"2px;":"0"}),(function(e){return e.bottomRight?"2px;":"0"}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.filledBtn&&":hover{background-color: #1c3302}"}));function Fc(){var e=k()(["\n  text-align: ",";\n  text-align: ",";\n  width: ",";\n  margin-right: ",";\n  margin-left: ",";\n  position: relative;\n  &:last-child {\n    width: ",";\n    margin-right: ",";\n    margin-left: ",";\n  }\n"]);return Fc=function(){return e},e}var Ac=f.c.div(Fc(),(function(e){return e.textRight?"right":"left"}),(function(e){return e.textAlign?e.textAlign:"sd"}),(function(e){return e.cW?e.cW:"48%"}),(function(e){return e.mR?e.mR:"2%"}),(function(e){return e.mL?e.mL:"0"}),(function(e){return e.cW?e.cW:"50%"}),(function(e){return e.mR?e.mR:"0"}),(function(e){return e.mL?e.mL:"0"}));function jc(){var e=k()(["\n  display: block;\n  position: relative;\n  .bottomNote {\n    color: ",";\n    font-size: 14px;\n    margin-bottom: 50px;\n  }\n  .bottomNotePassword {\n    color: ",";\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n  > label {\n    position: absolute;\n    top: 11px;\n    left: 13px;\n    z-index: 0;\n  }\n  > label.focused {\n    top: -7px;\n    left: 15px;\n    color: ",";\n    background: #fff;\n    display: block;\n    font-size: 10px;\n    padding: 0 5px;\n    z-index: 2;\n  }\n  &.checkbox {\n    font-size: 14px;\n    font-weight: bold;\n    color: #000;\n    margin-top: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    > input {\n      margin-right: 10px;\n    }\n  }\n"]);return jc=function(){return e},e}var qc=f.c.div(jc(),(function(e){return e.theme.greyLine}),(function(e){return e.theme.secondary}),(function(e){return e.theme.primary}));function Vc(e){e.target.parentElement.querySelector("label").classList.add("focused")}function Hc(e){var t=e.target;""===t.value&&t.parentElement.querySelector("label").classList.remove("focused")}function Uc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Jc(){var e=k()(["\n  position: ",";\n  width: 100%;\n  height: ",";\n  z-index: 99999;\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .lds-ring {\n    display: inline-block;\n    position: relative;\n    width: ",";\n    height: ",";\n    div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: ",";\n      height: ",";\n      margin: ",";\n      border: 8px solid #fff;\n      border-radius: 50%;\n      animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #fff transparent transparent transparent;\n    }\n    div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n  }\n  @keyframes lds-ring {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return Jc=function(){return e},e}var Xc=f.c.div(Jc(),(function(e){return!0===e.fullPage?"fixed":"relative"}),(function(e){return!0===e.fullPage?"100%":"23px"}),(function(e){return!0===e.fullPage?"#102910":"transparent"}),(function(e){return!0===e.fullPage?"80px":"10px"}),(function(e){return!0===e.fullPage?"80px":"10px"}),(function(e){return!0===e.fullPage?"64px":"8px"}),(function(e){return!0===e.fullPage?"64px":"8px"}),(function(e){return!0===e.fullPage?"8px":"0"})),Gc=function(e){X()(n,e);var t=Uc(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){return r.a.createElement(Xc,{fullPage:this.props.fullPage},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),n}(a.Component);function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Qc(){var e=k()(["\n  background: #fff;\n  border-radius: 6px;\n  width: ",";\n  max-width: ",";\n  padding: 20px;\n  margin: 45px auto;\n  position: relative;\n\n  .popClose {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 9px;\n    cursor: pointer;\n    font-size: 22px;\n    background: ",";\n    color: #fff;\n    :hover {\n      background-color: #cc8819;\n    }\n  }\n  .popInfoLeft {\n    font-size: 15px;\n    font-weight: bold;\n    color: #4a4a4a;\n    margin-bottom: 10px;\n  }\n  .popInfoRight {\n    font-size: 15px;\n    font-weight: bold;\n    color: #000000;\n    margin-bottom: 10px;\n    color: green;\n  }\n\n  h1 {\n    text-align: center;\n    font-size: 26px;\n    font-weight: normal;\n    letter-spacing: 0.02px;\n    color: #ffffff;\n    margin-top: 0;\n    background-color: ",";\n    margin-left: -20px;\n    margin-top: -20px;\n    margin-right: -20px;\n    margin-bottom: 20px;\n    padding: 6px;\n    &.normalH1 {\n      background-color: ",";\n      color: white;\n      padding-top: 6px;\n    }\n  }\n"]);return Qc=function(){return e},e}function Yc(){var e=k()(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index: 999;\n    background-color: rgba(0, 0, 0, 0.39);\n    top:0;\n    left:0;\n    &::-webkit-scrollbar { width: 0 !important }\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    overflow-y:auto;\n    form{\n        display:block;\n        width: 100%;\n        max-width: ",";\n        margin 0 auto;\n    }\n"]);return Yc=function(){return e},e}var Kc=f.c.div(Yc(),(function(e){return e.bigBody?"100%":"445px"})),$c=f.c.div(Qc(),(function(e){return e.bigBody?"80%":"35%"}),(function(e){return e.bigBody?"none":"648px"}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent}),(function(e){return e.theme.accent})),eo=function(e){X()(n,e);var t=Zc(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"sendCloseSignal",(function(t){document.getElementById("popupBody").contains(t.target)||e.props.close()})),e}return V()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(Kc,{className:"popupwrap",bigBody:this.props.bigBody},r.a.createElement($c,{id:"popupBody",bigBody:this.props.bigBody},r.a.createElement("i",{className:"material-icons popClose",onClick:function(){return e.props.close()}},"close"),this.props.children))}}]),n}(a.Component);function to(){var e=k()(["\n  display: flex;\n  box-sizing: border-box;\n  margin-top: ",";\n  flex-direction: row;\n  align-items: ",";\n  justify-content: ",";\n  height: ",";\n"]);return to=function(){return e},e}var no=f.c.div(to(),(function(e){return e.marginTop?"24px":"0"}),(function(e){return e.vAlign?e.vAlign:"center"}),(function(e){return e.justifiy?e.justifiy:"center"}),(function(e){return e.height?e.height:"sd"}));function ao(){var e=k()(["\n  width: 100%;\n  // position:relative;\n  z-index: 1;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 10px;\n  padding-right: 0;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 14px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return ao=function(){return e},e}var ro=f.c.select(ao(),(function(e){return e.theme.primary}));function lo(){var e=k()(["\n  width: 100%;\n  position: relative;\n  z-index: 1;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 10px 16px;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n  border-radius: 4px;\n  display: block;\n  margin-bottom: ",";\n  margin-top: ",";\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return lo=function(){return e},e}var co=f.c.input(lo(),(function(e){return e.noMargin?"0":"14px"}),(function(e){return e.marginTop?"14px":"0"}),(function(e){return e.theme.primary}));function oo(){var e=k()(["\n  display: block;\n  width: ",";\n  margin-left: ",";\n  margin-right: ",";\n  padding: ",";\n  box-shadow: 0 4px 9px 0 rgba(0, 0, 0, 0.02);\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  margin-bottom: ",";\n  text-align: ",";\n  float: ",";\n  max-width: ",";\n  margin: ",";\n  position: relative;\n  border: ",";\n  &:hover {\n    border: ",";\n  }\n  .infoLeft {\n    font-size: 20px;\n    font-weight: bold;\n    color: #4a4a4a;\n    margin-bottom: 30px;\n  }\n  .infoRight {\n    font-size: 20px;\n    font-weight: bold;\n    color: #000000;\n    text-align: right;\n    margin-bottom: 30px;\n    color: green;\n  }\n\n  .profile {\n    img {\n      max-width: 100%;\n      max-height: 100px;\n    }\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  .history {\n    position: absolute;\n    right: 20px;\n    bottom: 25px;\n    color: "," !important;\n  }\n  &.sideNav {\n    padding: 15px 10px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: 10px;\n    border: solid 1px #e9eff4;\n    box-shaddow: none;\n    i {\n      margin-right: 10px;\n      margin-top: 0;\n      color: ",";\n    }\n    h3 {\n      font-size: 13px;\n      font-weight: bold;\n      margin: 0;\n      color: ",";\n    }\n  }\n  &.sideNav:hover {\n    background-color: #417505;\n    i {\n      color: #fff;\n    }\n    h3 {\n      color: #fff !important;\n    }\n  }\n  > .cardHeader:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n  > .cardHeader > .cardHeaderRight > h3,\n  > h3 {\n    color: #323c47;\n    font-size: 24px;\n    font-weight: normal;\n    margin-top: 0;\n    margin-bottom: 20px;\n    .anchor {\n      color: ",";\n      right: 10px;\n      position: absolute;\n      top: 25px;\n    }\n  }\n  > .cardHeader > .cardHeaderRight > h3 {\n    margin-bottom: 1px;\n  }\n  .doc {\n    border: solid 1px #e9eff4;\n    border-radius: 5px;\n    padding: 10px;\n  }\n  .hh {\n    margin-top: 10px;\n    margin-bottom: 0;\n    font-size: 16px;\n    color: #323c47;\n  }\n  .hhh {\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 0.11px;\n    color: #323c47;\n    text-align: center;\n  }\n  .hhhh {\n    font-size: 10px;\n    font-weight: bold;\n    text-align: center;\n    letter-spacing: 0.09px;\n    color: #9b9b9b;\n  }\n  .miniTitle {\n    color: #f5a623;\n    font-size: 16px;\n  }\n  > .cardHeader > .cardHeaderLeft {\n    float: left;\n    &.flex {\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n      flex-direction: row;\n      h3 {\n        font-size: 28px;\n      }\n      .material-icons {\n        background: ",";\n        color: #fff;\n        margin-right: 10px;\n        font-size: 28px;\n        padding: 4px;\n        border-radius: 50%;\n      }\n    }\n  }\n  > .cardHeader > .cardHeaderRight {\n    float: left;\n  }\n\n  > .cardHeader > .cardHeaderLeft > .material-icons {\n    width: 46px;\n    height: 46px;\n    color: ",";\n    background: transparent;\n    border-radius: 50%;\n    margin: 3px 17px;\n    font-size: 40px;\n    padding: 0;\n    line-height: 46px;\n  }\n  > h4 {\n    font-size: ",";\n    font-weight: normal;\n    color: #323c47;\n    margin-top: 0;\n    margin-bottom: 18px;\n  }\n  .menuTabs {\n    font-size: 20px;\n    color: ",";\n    font-weight: bold;\n    float: left;\n    margin-top: 20px;\n    margin-right: 30px;\n  }\n  > .cardHeader > .cardHeaderRight > h5,\n  h5 {\n    font-size: 14px;\n    font-weight: 300;\n    color: rgba(50, 60, 71, 0.4);\n    margin-top: 0;\n    margin-bottom: 15px;\n  }\n\n  .cardValue {\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n  }\n\n  > button,\n  .sendMoneyButton {\n    padding: 6px;\n    border-radius: 2px;\n    min-width: 0 !important;\n    border: solid 1px ",";\n    color: ",";\n    font-size: 11px;\n    font-weight: bold;\n    background: #fff;\n    margin-top: ",";\n\n    > i {\n      margin-right: 5px;\n      font-size: 11px;\n    }\n  }\n"]);return oo=function(){return e},e}var io=f.c.div(oo(),(function(e){return e.cardWidth?e.cardWidth:"100%"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.bigPadding?"18px 30px":"12px 6px"}),(function(e){return e.selected?e.theme.primary:"#fff"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.rounded?"5px":"0"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.textAlign?e.textAlign:"left"}),(function(e){return e.col?"left":"none"}),(function(e){return e.centerSmall?"600px":"100%"}),(function(e){return e.centerSmall?"0 auto":"sdf"}),(function(e){return e.bordered?"1px solid #e4e8ea":"sdf"}),(function(e){return e.blueHover?"1px solid #4da1ff":""}),(function(e){return e.theme.accent}),(function(e){return e.selected?"#fff":"#417505"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.theme.accent}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.h4FontSize?e.h4FontSize:"18px"}),(function(e){return e.theme.primary}),(function(e){return e.smallValue?"20px":"32px"}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.buttonMarginTop?e.buttonMarginTop:"0"})),uo="http://91d90ac373dc.sn.mynetname.net:30301/api";var so=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/getSettings"),{});case 3:if(200!==(t=e.sent).status){e.next=9;break}if(0!==t.data.status){e.next=8;break}return xe.a.error(t.data.message),e.abrupt("return",{rule:{},loading:!1});case 8:return e.abrupt("return",{rule:t.data.setting.penalty_rule,loading:!1});case 9:return xe.a.error(t.data.message),e.abrupt("return",{rule:{},loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{rule:{},loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),mo=function(e){var t=new Date,n=JSON.parse(localStorage.getItem("cashierLogged")).merchant,l=Object(a.useState)(!0),c=s()(l,2),o=c[0],i=c[1],u=Object(a.useState)(!1),m=s()(u,2),d=m[0],p=m[1],f=Object(a.useState)([]),g=s()(f,2),h=g[0],E=g[1],b=Object(a.useState)([]),v=s()(b,2),y=v[0],x=v[1],S=Object(a.useState)([]),_=s()(S,2),w=_[0],k=_[1],N=Object(a.useState)({}),C=s()(N,2),B=(C[0],C[1],Object(a.useState)(0)),O=s()(B,2),P=O[0],T=O[1],I=Object(a.useState)(!1),R=s()(I,2),L=R[0],D=R[1],M=Object(a.useState)(e.invoiceList.filter((function(e){return 0===e.paid}))),z=s()(M,2),W=z[0],F=(z[1],function(){var e=et()(Ke.a.mark((function e(t,n,a){var r,l,c,o,i,u,s,m,d,f,g,b,v,S,_,k;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),t.target.checked?!0===n.has_counter_invoice?(r=W.filter((function(e){return e.number==="".concat(n.number,"C")})),T(P+n.amount+r[0].amount+w[a]),l={id:n._id,penalty:w[a]},c={id:r[0]._id,penalty:0},o={invoice:n,penalty:w[a]},i={invoice:r[0],penalty:0},(u=gc()(y)).push(i),u.push(o),(s=gc()(h)).push(l),s.push(c),x(u),E(s),p(!1)):(T(P+n.amount+w[a]),m={id:n._id,penalty:w[a]},d={invoice:n,penalty:w[a]},(f=gc()(y)).push(d),(g=gc()(h)).push(m),x(f),E(g),p(!1)):!0===n.has_counter_invoice?(b=W.filter((function(e){return e.number==="".concat(n.number,"C")})),v=h.filter((function(e){return e.id!==n._id&&e.id!==b[0]._id})),S=y.filter((function(e){return e.invoice.id!==n._id&&e.invoice.id!==b[0]._id})),x(S),E(v),T(P-n.amount-b[0].amount-w[a]),p(!1)):(_=h.filter((function(e){return e.id!==n._id})),k=y.filter((function(e){return e.invoice.id!==n._id})),x(k),E(_),T(P-n.amount-w[a]),p(!1));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),A=function(){var e=[],t=[],n=0;return W.map((function(a,r){var l={id:a._id,penalty:w[r]},c={invoice:a,penalty:w[r]};e.push(l),t.push(c),n=n+a.amount+w[r]})),{list1:e,list2:t,sum:n}},j=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===L?(n=A(),x(n.list2),E(n.list1),T(n.sum),D(!0)):(x([]),E([]),T(0),D(!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=et()(Ke.a.mark((function e(n){var a,r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W.map(function(){var e=et()(Ke.a.mark((function e(a){var r,l,c,o;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.amount<0)){e.next=4;break}return e.abrupt("return",0);case 4:if(n){e.next=8;break}return e.abrupt("return",0);case 8:if(n.type){e.next=10;break}return e.abrupt("return",0);case 10:if(r=a.due_date.split("/"),l=new Date(r[2],r[1]-1,r[0]),!(t<=l)){e.next=16;break}return e.abrupt("return",0);case 16:if("once"!==n.type){e.next=20;break}return e.abrupt("return",n.fixed_amount+a.amount*n.percentage/100);case 20:return c=t.getTime()-l.getTime(),o=Math.trunc(c/864e5),e.abrupt("return",(n.fixed_amount+a.amount*n.percentage/100)*o.toFixed(2));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:return r=e.sent,e.abrupt("return",{res:r,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so({});case 2:return t=e.sent,e.abrupt("return",t.rule);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i(!0),function(){var e=et()(Ke.a.mark((function e(){var t,n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,e.next=5,q(t);case 5:n=e.sent,k(n.res),i(n.loading);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),o?r.a.createElement(Gc,null):r.a.createElement("div",null,r.a.createElement(io,null,r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("img",{src:"".concat("http://91d90ac373dc.sn.mynetname.net:30301/api/uploads","/").concat(n.logo),alt:"",style:{height:"60px",width:"60px",paddingRight:"10px"}})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h4",{style:{color:"green"}},n.name),r.a.createElement("p",null,n.description))),r.a.createElement("div",null),r.a.createElement(Wc,{className:!0===L?"active":"",style:{marginTop:"10px"},onClick:j},"Select All"),W&&W.length>0?r.a.createElement(Lc,{marginTop:"5px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Penalty"),r.a.createElement("th",null,"Total Amount"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,W&&W.length>0?W.map((function(t,n){return r.a.createElement("tr",{key:t._id,className:w[n]>0?"red":""},r.a.createElement("td",{className:"tac"},r.a.createElement(no,null,r.a.createElement(Ac,{cW:"10%"},t.is_counter?r.a.createElement("div",null,h.map((function(e){return e.id})).includes(t._id)?r.a.createElement(qc,null,r.a.createElement("input",{type:"checkbox",checked:!0,value:t._id})):r.a.createElement(qc,null,r.a.createElement("input",{type:"checkbox",disabled:!0,value:t._id}))):r.a.createElement(qc,{onChange:function(e){return F(e,t,n)}},h.map((function(e){return e.id})).includes(t._id)?r.a.createElement("input",{type:"checkbox",checked:!0,value:t._id}):r.a.createElement("input",{type:"checkbox",value:t._id}))),r.a.createElement(Ac,{cW:"90%",style:{display:"flex",justifyContent:"center"}},t.number))),r.a.createElement("td",{className:"tac"},t.amount),r.a.createElement("td",{className:"tac"},w[n]),r.a.createElement("td",{className:"tac"},t.amount+w[n]),r.a.createElement("td",{className:"tac"},t.due_date," "),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",cursor:"pointer",justifyContent:"center",color:"green"}},r.a.createElement("span",{onClick:function(){return e.setEditingInvoice(t,w[n])}},"Pay Bills"))))})):null)):r.a.createElement("center",null,r.a.createElement("h2",null,"No Bill Available Found")),r.a.createElement(qc,null,P>0?r.a.createElement(Wc,{onClick:function(){var t={invoices:h,description:"bill paid against ".concat(h.length," invoice for ").concat(y[0].invoice.name)};e.showOTPPopup(t,y)},filledBtn:!0},d?r.a.createElement(Gc,null):"Collect Amount ".concat("XOF"," ").concat(P," and Pay Bill")):null)))};function po(){var e=k()(["\n  width: 96%;\n  max-width: ","px;\n\n  margin: "," auto;\n\n  &:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n"]);return po=function(){return e},e}var fo=f.c.div(po(),(function(e){return e.big,"1170"}),(function(e){return e.verticalMargin?"48px":"0"})),go=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),o=s()(c,2),i=(o[0],o[1]),u=Object(a.useState)(e.invoice),m=s()(u,2),d=m[0],p=(m[1],Object(a.useState)(d.items.reduce((function(e,t){return e+t.quantity*t.item_desc.unit_price}),0))),f=s()(p,2),g=f[0],h=(f[1],Object(a.useState)(d.items.reduce((function(e,t){return e+(t.total_amount-t.quantity*t.item_desc.unit_price)}),0))),E=s()(h,2),y=E[0],x=(E[1],e.merchant),S=function(){return g+y+e.penalty};return Object(a.useEffect)((function(){var e;i(!0),"update"==="update"?document.querySelectorAll("label").forEach((function(e){e.classList.add("focused")})):e&&document.querySelectorAll("label")[e].classList.add("focused"),i(!1)})),r.a.createElement("div",null,r.a.createElement(b.d,{initialValues:{number:d.number||"",name:d.name||"",amount:d.amount||"",due_date:d.due_date||"",bill_date:d.bill_date||"",bill_period:d.bill_period||"",mobile:d.mobile||"",counter_invoices:d.counter_invoices||[]},onSubmit:function(t){var n={invoices:[{id:d._id,penalty:e.penalty}],description:"bill paid against 1 invoice for ".concat(d.name)},a=[{invoice:d,penalty:e.penalty}];e.showOTPPopup(n,a)},validationSchema:v.c().shape({name:v.e().required("Name is required."),amount:v.b().required("Number is required."),mobile:v.e().min(10,"number should be atleast 10 digits").max(10,"number cannot exceed 10 digits").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Mobile no must be valid").required("Mobile no is required")})},(function(t){var n=t.values;return r.a.createElement(b.c,null,r.a.createElement(fo,null,r.a.createElement(no,{style:{marginBottom:"20px"}},r.a.createElement(Ac,{cW:"25%",className:"popInfoLeft",style:{marginRight:"-110px"}},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("img",{src:"".concat("http://91d90ac373dc.sn.mynetname.net:30301/api/uploads","/").concat(x.logo),alt:"",style:{height:"60px",width:"60px",paddingRight:"10px",marginRight:"10px"}}))),r.a.createElement(Ac,{cW:"25%",className:"popInfoRight"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h4",{style:{color:"green"}},x.name),r.a.createElement("p",null,x.description)))),r.a.createElement(Ac,{cW:"50%"})),r.a.createElement(no,null,r.a.createElement(Ac,{cW:"33%"},r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Customer Code"),n.customer_code?r.a.createElement(Ac,{className:"popInfoRight"},n.customer_code):r.a.createElement(Ac,{className:"popInfoRight"},"Passing by customer")),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Mobile"),r.a.createElement(Ac,{className:"popInfoRight"},n.mobile))),r.a.createElement(Ac,{cW:"33%"},r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Bill No"),r.a.createElement(Ac,{className:"popInfoRight"},n.number)),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Bill Date"),r.a.createElement(Ac,{className:"popInfoRight"},n.bill_date))),r.a.createElement(Ac,{cW:"33%"},r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Due Date"),r.a.createElement(Ac,{className:"popInfoRight"},n.due_date)),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Period"),r.a.createElement(Ac,{className:"popInfoRight"},n.bill_period.period_name)))),r.a.createElement(no,null,r.a.createElement(Ac,{cW:"100%"},r.a.createElement(no,null),r.a.createElement(Lc,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Unit of measure"),r.a.createElement("th",null,"Unit price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Tax %"),r.a.createElement("th",null,"Amount with tax"))),r.a.createElement("tbody",null,d.items&&d.items.length>0?d.items.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.item_desc.name),r.a.createElement("td",{className:"tac"},e.item_desc.description),r.a.createElement("td",{className:"tac"},e.item_desc.code),r.a.createElement("td",{className:"tac"},e.item_desc.unit_of_measure),r.a.createElement("td",{className:"tac"},e.item_desc.unit_price),r.a.createElement("td",{className:"tac"},e.quantity),r.a.createElement("td",{className:"tac"},e.quantity*e.item_desc.unit_price),r.a.createElement("td",{className:"tac"},e.tax_desc.value),r.a.createElement("td",{className:"tac"},e.total_amount))})):null)),r.a.createElement(no,{style:{marginTop:"8px"}},r.a.createElement(Ac,{cW:"50%"}),r.a.createElement(Ac,{cW:"25%"}),r.a.createElement(Ac,{cW:"25%"},r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Total Amount"),r.a.createElement(Ac,{className:"popInfoRight"},g)),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Total Tax"),r.a.createElement(Ac,{className:"popInfoRight"},y)),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Penalty"),r.a.createElement(Ac,{className:"popInfoRight"},e.penalty)),r.a.createElement(no,null,r.a.createElement(Ac,{className:"popInfoLeft"},"Sum Total"),r.a.createElement(Ac,{className:"popInfoRight"},S()))))))),r.a.createElement(qc,null,Number(n.amount<0||!0===d.has_counter_invoice)?r.a.createElement("h5",{style:{marginTop:"10px",textAlign:"center"}},"Can't process transaction right now"):r.a.createElement(Wc,{filledBtn:!0},l?r.a.createElement(Gc,null):r.a.createElement("span",null,"Collect ","XOF"," ",S()," and Pay Bill"))))})))};function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bo=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/getInvoicesByMobile"),{mobile:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.invoices,loading:!1});case 9:return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),vo=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/getInvoicesByNumber"),{number:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.invoice,loading:!1});case 9:return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),yo=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/getInvoicesByCustomerCode"),{customer_code:t});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return xe.a.error(a.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:a.data.invoice,loading:!1});case 9:return xe.a.error(a.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),xo=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/searchPaidInvoiceByMobile"),{mobile:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.invoices,loading:!1});case 9:return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),So=function(){var e=et()(Ke.a.mark((function e(t){var n;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/searchPaidInvoiceByBillNumber"),{number:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}if(0!==n.data.status){e.next=8;break}return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:n.data.invoices,loading:!1});case 9:return xe.a.error(n.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_o=function(){var e=et()(Ke.a.mark((function e(t,n){var a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/searchPaidInvoiceByCustomerCode"),{customer_code:t});case 3:if(200!==(a=e.sent).status){e.next=9;break}if(0!==a.data.status){e.next=8;break}return xe.a.error(a.data.message),e.abrupt("return",{list:[],loading:!1});case 8:return e.abrupt("return",{list:a.data.invoices,loading:!1});case 9:return xe.a.error(a.data.message),e.abrupt("return",{list:[],loading:!1});case 13:return e.prev=13,e.t0=e.catch(0),xe.a.error("Something went wrong"),e.abrupt("return",{list:[],loading:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),wo=function(){var e=et()(Ke.a.mark((function e(t,n,a){var r;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.a.post("".concat(uo,"/merchantStaff/payInvoice"),Eo({},t));case 3:200===(r=e.sent).status&&(0===r.data.status?(xe.a.error(r.data.message),a()):(localStorage.setItem("txcode",r.data.transactionCode),a(),n(),xe.a.success(r.data.message))),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a(),xe.a.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ko=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)(30),p=s()(d,2),f=p[0],g=p[1],h=Object(a.useState)(""),E=s()(h,2),b=E[0],v=E[1],y=function(){var t=et()(Ke.a.mark((function t(){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m(!0),"111111"!==b){t.next=7;break}return xe.a.success("OTP verified successfully"),t.next=5,wo(e.invoice,e.show,e.close);case 5:t.next=8;break;case 7:xe.a.error("OTP Mismatch");case 8:m(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e,t;e=30,t=setInterval((function(){e<=0?(clearInterval(t),c(!0)):g(e-=1)}),1e3)}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement(qc,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(co,{type:"text",name:"otp",onFocus:Vc,onBlur:Hc,value:b,onChange:function(e){var t=e.target.value;v(t)},required:!0})),u?r.a.createElement(Wc,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(Gc,null)):r.a.createElement(Wc,{onClick:function(){return y()},filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},f)," to"," ",l?r.a.createElement("span",{className:"go",onClick:function(){}},"Resend"):r.a.createElement("span",{style:{color:"#f5a623"}},"Resend")))},No=function(e){var t=JSON.parse(localStorage.getItem("cashierLogged")).merchant,n=Object(a.useState)(!1),l=s()(n,2),c=l[0],o=(l[1],Object(a.useState)([])),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)([]),p=s()(d,2),f=(p[0],p[1]),g=Object(a.useState)({}),h=s()(g,2),E=h[0],y=h[1],x=Object(a.useState)({}),S=s()(x,2),_=S[0],w=S[1],k=Object(a.useState)(!1),N=s()(k,2),C=N[0],B=N[1],O=Object(a.useState)(!1),P=s()(O,2),T=P[0],I=P[1],R=Object(a.useState)(!1),L=s()(R,2),D=L[0],M=L[1],z=Object(a.useState)(""),W=s()(z,2),F=W[0],A=W[1],j=Object(a.useState)(!1),q=s()(j,2),V=(q[0],q[1]),H=function(e,t){w(t),y(e),B(!1),V(!0),M(!0)};return Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(eo,{accentedH1:!0,bigBody:!0,close:e.close},T?r.a.createElement(ko,{close:e.close,invoice:E,show:e.show}):r.a.createElement("div",null,r.a.createElement("h1",null,"Pay ",F," Bills"),C||D?"":r.a.createElement(b.d,{initialValues:{invoiceIdOrMobile:"",searchBy:"Mobile"},onSubmit:function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Mobile"===t.searchBy?bo(t.invoiceIdOrMobile).then((function(e){m(e.list),B(!0),e.list.length>0&&A(e.list[0].name)})):"BillNumber"===t.searchBy?vo(t.invoiceIdOrMobile).then((function(e){m(e.list),B(!0),e.list.length>0&&A(e.list[0].name)})):yo(t.invoiceIdOrMobile).then((function(e){m(e.list),B(!0),e.list.length>0&&A(e.list[0].name)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:v.c().shape({invoiceIdOrMobile:v.e().required("Required")})},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur;return r.a.createElement(b.c,null,r.a.createElement(no,null,r.a.createElement(Ac,{cW:"20%"},r.a.createElement(qc,null,r.a.createElement("label",{htmlFor:"searchBy",className:"focused"},"Search By"),r.a.createElement(ro,{name:"searchBy",onFocus:function(e){n(e),Vc(e)},onBlur:function(e){a(e),n(e),Hc(e)},value:t.searchBy,onChange:n,required:!0},r.a.createElement("option",{value:"Mobile"},"Mobile Number"),r.a.createElement("option",{value:"BillNumber"},"Bill Number"),r.a.createElement("option",{value:"CustomerCode"},"Customer Code")))),r.a.createElement(Ac,{cW:"80%"},r.a.createElement(qc,null,r.a.createElement("label",{htmlFor:"invoiceIdOrMobile"},"Mobile/Invoice Id/Customer Code"),r.a.createElement(co,{type:"text",name:"invoiceIdOrMobile",onFocus:function(e){Vc(e),n(e)},onBlur:function(e){Hc(e),a(e)},required:!0,onChange:n,value:t.invoiceIdOrMobile})))),r.a.createElement(qc,null,r.a.createElement(Wc,{filledBtn:!0},c?r.a.createElement(Gc,null):"Get")))})),C?r.a.createElement(mo,{merchant:t,invoiceList:u,setEditingInvoice:function(e,t){return H(e,t)},close:e.close,showOTPPopup:function(t,n){y(t),f(n),console.log(n),e.showReceiptPopup(n),I(!0)}}):"",D?r.a.createElement(go,{merchantId:t._id,showOTPPopup:function(t,n){f(n),y(t),e.showReceiptPopup(n),I(!0)},penalty:_,close:e.close,invoice:E,merchant:t}):"")))};function Co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function Bo(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 12px;\n  padding-bottom: 7px;\n  font-weight: normal;\n  border-bottom: ",";\n"]);return Bo=function(){return e},e}function Oo(){var e=k()(["\n  float: left;\n  margin: 8px 15px;\n"]);return Oo=function(){return e},e}var Po=f.c.nav(Oo()),To=f.c.span(Bo(),(function(e){return"true"===e.active?"1px solid white":"0"})),Io=function(e){X()(n,e);var t=Co(n);function n(){var e;return j()(this,n),e=t.call(this),L()(U()(e),"onPayBillsPopupClose",(function(){e.setState({payBillsPopup:!1})})),L()(U()(e),"onPayBillsPopupOpen",(function(){e.setState({payBillsPopup:!0})})),e.state={payBillsPopup:!1},e}return V()(n,[{key:"render",value:function(){var e=this,t="dashboard"===this.props.active?"true":"",n="reports"===this.props.active?"true":"";return r.a.createElement(r.a.Fragment,null,r.a.createElement(Po,null,r.a.createElement(ae,{href:"/cashier/dashboard"},r.a.createElement(To,{active:t},"Dashboard"))),r.a.createElement(Po,null,r.a.createElement(ae,{href:"/cashier/reports"},r.a.createElement(To,{active:n},"Reports"))),this.state.payBillsPopup?r.a.createElement(No,{close:function(){return e.onPayBillsPopupClose()}}):"")}}]),n}(a.Component);function Ro(){var e=k()(["\n  display: flex;\n  justify-content: center;\n"]);return Ro=function(){return e},e}function Lo(){var e=k()(["\n  color: #fff;\n  font-size: 18px;\n  margin: 0 40px 0 0;\n  padding-bottom: 7px;\n  display: block;\n  font-weight: normal;\n  border-radius: 8px;\n  border: solid 2px #ffffff;\n  padding: 5px 20px;\n"]);return Lo=function(){return e},e}var Do=f.c.span(Lo()),Mo=(f.c.div(Ro()),function(e){var t=e.page,n=e.goto,a=(e.middleTitle,e.active),l=JSON.parse(localStorage.getItem("cashierLogged")).merchant.username||"",c=JSON.parse(localStorage.getItem("cashierLogged")).merchant.logo||"";return r.a.createElement(Sn,null,r.a.createElement(Dn,{type:"cashier"}),r.a.createElement(zn,null,"info"===t?r.a.createElement(ae,{href:n,float:"left"},r.a.createElement(Do,null,"Back")):null,r.a.createElement(ae,{href:n,float:"left"},r.a.createElement("div",{className:"bankLogo"},r.a.createElement("img",{src:ve+c,alt:"Merchant Logo"})),r.a.createElement("h2",null,l.toUpperCase())),"info"===t?null:r.a.createElement(Io,{active:a})))}),zo=n(126),Wo=n.n(zo),Fo=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)({}),p=s()(d,2),f=p[0],g=p[1],h=Object(a.useState)({}),b=s()(h,2),v=b[0],y=b[1],x="merchantStaff"===e.apitype?"":localStorage.getItem("assignedTo"),S="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).staff.name:JSON.parse(localStorage.getItem("selectedCashier")).name,_="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).bank._id:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).bank._id:JSON.parse(localStorage.getItem("branchLogged")).bank._id,w="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).branch.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("selectedBranch")).name:JSON.parse(localStorage.getItem("branchLogged")).details.name,k="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).merchant.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).details.name:JSON.parse(localStorage.getItem("branchLogged")).merchant.name,N="merchantStaff"===e.apitype?" ":e.match.params.id,C="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).bank.name:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).bank.name:JSON.parse(localStorage.getItem("branchLogged")).bank.name,B="merchantStaff"===e.apitype?JSON.parse(localStorage.getItem("cashierLogged")).bank.logo:"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).bank.logo:JSON.parse(localStorage.getItem("branchLogged")).bank.logo,O=Object(a.useState)(0),P=s()(O,2),T=P[0],I=P[1],R=Object(a.useState)(new Date),L=s()(R,2),D=L[0],M=L[1],W=Object(a.useState)([]),F=s()(W,2),A=F[0],j=F[1],q=function(e){$l(e,N).then((function(e){console.log(e),g(e.stats)})).catch((function(e){c(!1)}))},V=function(){var e=et()(Ke.a.mark((function e(t){var n,a;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map(function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["".concat(Wo()(new Date(t.createdAt),"dd-MM-yyyy")),t.transaction?t.transaction.invoiceDetails.customer_code:"",t.transaction?t.transaction.invoiceDetails.name:"",t.transaction?t.transaction.invoiceDetails.number:"",t.transaction?t.transaction.total_amount:"",t.cash_in_hand.toFixed()]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return a=e.sent,e.abrupt("return",{res:a,loading:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var t=et()(Ke.a.mark((function t(){var n,a,r,l,o,i;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),n=sr()(new Date(D)),a=ir()(new Date(D)),t.next=5,"merchant"===e.apitype?JSON.parse(localStorage.getItem("merchantLogged")).admin?"merchantStaff":"merchant":e.apitype;case 5:return r=t.sent,t.next=8,q(r);case 8:return t.sent,t.next=11,tc(n,a,r,N);case 11:return l=t.sent,console.log(l),t.next=15,ec(n,a,r,N,_);case 15:return o=t.sent,t.next=18,V(o.data.transactions);case 18:i=t.sent,I(o.data.transactions.reduce((function(e,t){return e+t.transaction?t.transaction.total_amount:0}),0)),j([["Date","CustomerNumber","CustomerName","InvoiceAmount","CashInHand"]].concat(gc()(i.res))),m(o.data.transactions),l.data.reports.length>0&&y(l.data.reports[0]),c(i.loading);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){H()}),[]),l?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant Dashboard | Cashier | E-WALLET "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),"merchantStaff"===e.apitype?r.a.createElement(Mo,{active:"reports"}):"merchant"===e.apitype?r.a.createElement(qn,{active:"reports"}):r.a.createElement(rl,{active:"reports"}),r.a.createElement(zn,{verticalMargin:!0},"merchantStaff"!==e.apitype?r.a.createElement(it,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px",textAlign:"center"}},r.a.createElement("b",null,"Name : "),x," ")):"",r.a.createElement(rt,{style:{marginBottom:"0px",marginTop:"20px"}},r.a.createElement(ct,{cW:"40%"},r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"150px"}},r.a.createElement(zn,null,r.a.createElement("h2",{style:{color:"green"}},r.a.createElement("b",null,"Date")),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"60%"},r.a.createElement(ha,null,r.a.createElement(vc.a,{utils:xc.a},r.a.createElement(yc.a,{id:"date-picker-dialog",size:"small",fullWidth:!0,maxDate:new Date,inputVariant:"outlined",format:"dd/MM/yyyy",required:!0,InputLabelProps:{shrink:!0},value:D,onChange:function(e){return M(e)},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(ct,{cW:"40%"},r.a.createElement(z,{style:{padding:"9px"},onClick:function(){return H()}},"Get Report")))))),r.a.createElement(ct,{cW:"30%"}),r.a.createElement(ct,{cW:"30%"})),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"5px",smallValue:!0,style:{height:"80px"}},r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Merchant Name : "),k," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Branch Name : "),w," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Position Name : "),S," ")))),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"80px"}},r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Opening Date: "),v.opening_time?"".concat(new Date(v.opening_time).getDay(),"/").concat(new Date(v.opening_time).getMonth()+1,"/").concat(new Date(v.opening_time).getFullYear()):"".concat((new Date).getDay(),"/").concat((new Date).getMonth()+1,"/").concat((new Date).getFullYear()))),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Opening Time : "),v.opening_time?"".concat(new Date(v.opening_time).getHours(),":").concat(new Date(v.opening_time).getMinutes()):"".concat(new Date(f.openingTime).getHours(),":").concat(new Date(f.openingTime).getMinutes()))),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Opening Balance : "),"XOF"," ",v.opening_balance?v.opening_balance:f.openingBalance," ")),r.a.createElement(ct,null,r.a.createElement("h3",{style:{color:"green",marginBottom:"20px"}},r.a.createElement("b",null,"Closing Time : "),v.opening_time?"".concat(new Date(v.closing_time).getHours(),":").concat(new Date(v.closing_time).getMinutes()):"Day is Open")))),r.a.createElement(rt,{style:{backgroundColor:"lightgray",marginBottom:"20px",marginTop:"0px"}},r.a.createElement(ct,null,r.a.createElement(it,{horizontalMargin:"7px",cardWidth:"-webkit-fill-available",h4FontSize:"16px",smallValue:!0,textAlign:"center",col:!0,style:{backgroundColor:"lightgray"}},r.a.createElement("h4",null,"Total Bills"),r.a.createElement("div",{className:"cardValue"},r.a.createElement("span",null," ",u.length)))),r.a.createElement(ct,null,r.a.createElement(it,{horizontalMargin:"7px",cardWidth:"-webkit-fill-available",h4FontSize:"16px",smallValue:!0,textAlign:"center",col:!0,style:{backgroundColor:"lightgray",borderStyle:"hidden hidden hidden solid",borderColor:"grey"}},r.a.createElement("h4",null,"Paid Date"),r.a.createElement("div",{className:"cardValue"},"".concat(Wo()(new Date(D),"dd-MM-yyyy"))))),r.a.createElement(ct,null,r.a.createElement(it,{horizontalMargin:"7px",cardWidth:"-webkit-fill-available",h4FontSize:"16px",smallValue:!0,textAlign:"center",col:!0,style:{backgroundColor:"lightgray",borderStyle:"hidden hidden hidden solid",borderColor:"grey"}},r.a.createElement("h4",null,"Amount Collected"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",T))),r.a.createElement(ct,null,r.a.createElement(it,{horizontalMargin:"7px",cardWidth:"-webkit-fill-available",smallValue:!0,h4FontSize:"16px",textAlign:"center",col:!0,style:{backgroundColor:"lightgray",borderStyle:"hidden hidden hidden solid",borderColor:"grey"}},r.a.createElement("h4",null,"Cash Counted"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",v.opening_balance&&v.closing_balance?v.closing_balance-v.opening_balance:"-"))),r.a.createElement(ct,null,r.a.createElement(it,{horizontalMargin:"7px",cardWidth:"-webkit-fill-available",smallValue:!0,h4FontSize:"16px",textAlign:"center",col:!0,style:{backgroundColor:"lightgray",borderStyle:"hidden hidden hidden solid",borderColor:"grey"}},r.a.createElement("h4",null,"Descripency"),r.a.createElement("div",{className:"cardValue"},"XOF"," ",v.descripency?v.descripency:"-")))),r.a.createElement(it,{bigPadding:!0,style:{width:"100%"}},r.a.createElement(z,{style:{float:"right"}},r.a.createElement(hc.CSVLink,{data:A},"Download as CSV")),r.a.createElement("h3",{style:{color:"green",textAlign:"left"}},r.a.createElement("b",null,"Invoice Paid (cash to cash)")),u&&u.length>0?r.a.createElement(Gn,{marginTop:"34px"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Customer Number"),r.a.createElement("th",null,"Customer Name"),r.a.createElement("th",null,"Invoice Number"),r.a.createElement("th",null,"Invoice Amount"),r.a.createElement("th",null,"Cash In Hand"))),r.a.createElement("tbody",null,u.reverse().map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,"".concat(Wo()(new Date(e.createdAt),"dd-MM-yyyy"))),r.a.createElement("td",null,e.transaction?e.transaction.invoiceDetails.customer_code:""),r.a.createElement("td",null,e.transaction?e.transaction.invoiceDetails.name:""),r.a.createElement("td",null,e.transaction?e.transaction.invoiceDetails.number:""),r.a.createElement("td",null,"XOF"," ",e.transaction?e.transaction.total_amount:""),r.a.createElement("td",null,"XOF"," ",e.cash_in_hand.toFixed()))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey",height:"300px"}},"No invoice found")),r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{height:"80px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Report generated at ","".concat(new Date(D).getDate(),"/").concat(new Date(D).getMonth()+1,"/").concat(new Date(D).getFullYear()," ").concat(new Date(D).getHours(),":").concat(new Date(D).getMinutes())," "))),r.a.createElement(aa,{bankname:C,banklogo:B}))},Ao=function(e){return r.a.createElement(ct,{cW:"100%"},r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Invoices Paid"),r.a.createElement("div",{className:"cardValue"},e.no)))},jo=function(e){return r.a.createElement(ct,{cW:"100%"},r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Cash Received"),r.a.createElement("div",{className:"cardValue"}," XOF ",e.amount)))},qo=function(e){return r.a.createElement(ct,{cW:"100%"},r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Penalty Collected"),r.a.createElement("div",{className:"cardValue"}," XOF ",e.penalty)))},Vo=n(178),Ho=n.n(Vo),Uo=n(179),Jo=n.n(Uo);function Xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var Go=new Date,Zo=function(e){X()(n,e);var t=Xo(n);function n(){var e;j()(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),L()(U()(e),"getInvoiceList",(function(){return e.props.values.map((function(e,t){return r.a.createElement("tr",{key:e.invoice._id},r.a.createElement("td",{className:"tac"},e.invoice.number),r.a.createElement("td",{className:"tac"},e.invoice.amount),r.a.createElement("td",{className:"tac"},e.penalty),r.a.createElement("td",{className:"tac"},e.invoice.amount+e.penalty),r.a.createElement("td",{className:"tac"},e.invoice.due_date," "),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",cursor:"pointer",justifyContent:"center",color:"green"}},r.a.createElement("span",null,"Paid"))))}))})),e}return V()(n,[{key:"componentDidMount",value:function(){console.log(JSON.parse(localStorage.getItem("cashierLogged")).staff),console.log(JSON.parse(localStorage.getItem("cashierLogged")).merchant)}},{key:"render",value:function(){return r.a.createElement(zn,null,r.a.createElement(rt,{vAlign:"flex-start"},r.a.createElement(ct,{cW:"100%"},r.a.createElement("div",{style:{fontSize:"34px",fontWeight:"bold",padding:"13px 0px",textAlign:"center",color:"#417505"}},this.props.values.type," Transaction Receipt"),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"50%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Transaction ID :"),r.a.createElement(ct,{className:"popInfoRight"},localStorage.getItem("txcode"))),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Transaction Date :"),r.a.createElement(ct,{className:"popInfoRight"},Go.toLocaleDateString("en-US")))),r.a.createElement(ct,{cW:"50%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Merchant Name :"),r.a.createElement(ct,{className:"popInfoRight"},JSON.parse(localStorage.getItem("cashierLogged")).merchant.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Cashier Name :"),r.a.createElement(ct,{className:"popInfoRight"},JSON.parse(localStorage.getItem("cashierLogged")).staff.name)))))),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(Lc,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Penalty"),r.a.createElement("th",null,"Total Amount"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.getInvoiceList())),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",padding:"13px 0px",color:"#417505"}},"Signature: ____________________")),r.a.createElement(ct,null)))}}]),n}(a.Component),Qo=function(e){var t=Object(a.useRef)();return r.a.createElement(bt,{close:e.close,bigBody:!0,roundedCorner:!0},r.a.createElement(Ho.a,{trigger:function(){return r.a.createElement(Wc,null,r.a.createElement(Jo.a,null),"  Print")},content:function(){return t.current}}),r.a.createElement(Zo,{values:e.values,ref:t}))},Yo=function(e){var t=Object(a.useState)([{invoice:e.invoice,penalty:e.invoice.penalty}]),n=s()(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),o=s()(c,2),i=o[0],u=o[1],m=Object(a.useState)(e.invoice),d=s()(m,2),p=d[0],f=(d[1],Object(a.useState)(p.items.reduce((function(e,t){return e+t.quantity*t.item_desc.unit_price}),0))),g=s()(f,2),h=g[0],E=(g[1],Object(a.useState)(p.items.reduce((function(e,t){return e+(t.total_amount-t.quantity*t.item_desc.unit_price)}),0))),b=s()(E,2),v=b[0],y=(b[1],JSON.parse(localStorage.getItem("cashierLogged")).merchant);return r.a.createElement("div",null,i?r.a.createElement(Qo,{values:l,close:e.close}):r.a.createElement(eo,{accentedH1:!0,bigBody:!0,close:e.close},r.a.createElement(zn,null,r.a.createElement(rt,{style:{marginBottom:"20px"}},r.a.createElement(ct,{cW:"25%",className:"popInfoLeft",style:{marginRight:"-110px"}},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("img",{src:"".concat(ve).concat(y.logo),alt:"",style:{height:"60px",width:"60px",paddingRight:"10px",marginRight:"10px"}}))),r.a.createElement(ct,{cW:"25%",className:"popInfoRight"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h4",{style:{color:"green"}},y.name),r.a.createElement("p",null,y.description)))),r.a.createElement(ct,{cW:"40%"}),r.a.createElement(ct,{cW:"10%"},r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement(z,{onClick:function(){u(!0)}},"Transaction Receipt")))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Customer Code"),p.customer_code?r.a.createElement(ct,{className:"popInfoRight"},p.customer_code):r.a.createElement(ct,{className:"popInfoRight"},"Passing by customer")),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Mobile"),r.a.createElement(ct,{className:"popInfoRight"},p.mobile))),r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Bill No"),r.a.createElement(ct,{className:"popInfoRight"},p.number)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Bill Date"),r.a.createElement(ct,{className:"popInfoRight"},p.bill_date))),r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Due Date"),r.a.createElement(ct,{className:"popInfoRight"},p.due_date)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Period"),r.a.createElement(ct,{className:"popInfoRight"},p.bill_period.period_name)))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"100%"},r.a.createElement(rt,null),r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Unit of measure"),r.a.createElement("th",null,"Unit price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Tax %"),r.a.createElement("th",null,"Amount with tax"))),r.a.createElement("tbody",null,p.items&&p.items.length>0?p.items.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},e.item_desc.name),r.a.createElement("td",{className:"tac"},e.item_desc.description),r.a.createElement("td",{className:"tac"},e.item_desc.code),r.a.createElement("td",{className:"tac"},e.item_desc.unit_of_measure),r.a.createElement("td",{className:"tac"},e.item_desc.unit_price),r.a.createElement("td",{className:"tac"},e.quantity),r.a.createElement("td",{className:"tac"},e.quantity*e.item_desc.unit_price),r.a.createElement("td",{className:"tac"},e.tax_desc.value),r.a.createElement("td",{className:"tac"},e.total_amount))})):null)),r.a.createElement(rt,{style:{marginTop:"8px"}},r.a.createElement(ct,{cW:"50%"}),r.a.createElement(ct,{cW:"25%"}),r.a.createElement(ct,{cW:"25%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Total Amount"),r.a.createElement(ct,{className:"popInfoRight"},h)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Total Tax"),r.a.createElement(ct,{className:"popInfoRight"},v)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Penalty"),r.a.createElement(ct,{className:"popInfoRight"},p.penalty)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Sum Total"),r.a.createElement(ct,{className:"popInfoRight"},h+v+p.penalty)))))))))},Ko=n(331),$o=n.n(Ko);Object(C.a)((function(){return{paper:{padding:"2%",width:"100%"},allTab:{textAlign:"center",width:"10%"},tab:{textAlign:"center",width:"50%"},iconSelected:{color:"#417505"}}}));_.a.number.isRequired,_.a.func.isRequired,_.a.number.isRequired,_.a.number.isRequired;var ei=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=(n[0],n[1],r.a.useState(!1)),c=s()(l,2),o=c[0],i=c[1],u=r.a.useState({}),m=s()(u,2),d=m[0],p=m[1],f=r.a.useState(0),g=s()(f,2),h=g[0],E=g[1],b=Object(a.useState)([]),v=s()(b,2),y=v[0],x=v[1],S=Object(a.useState)([]),_=s()(S,2),w=_[0],k=_[1];Object(a.useEffect)((function(){Nr().then((function(t){var n=t.list.reverse();E(Math.ceil(t.list.length/10)),x(n.slice(0,10)),k(n),e.setLoading(!1),e.invoice(n)})).catch((function(t){e.setLoading(!1)}))}),[]);return r.a.createElement(da,null,r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Hn,{fullWidth:!0},r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement($a.a,{style:{color:"#417505",fontSize:"50"},className:"material-icons"})),r.a.createElement("div",{className:"cardHeaderRight",style:{paddingLeft:"10px"}},r.a.createElement("h3",null,"Paid Invoices"),r.a.createElement("h5",null,"List of your paid invoices"))),r.a.createElement("div",{className:"cardBody"},y&&y.length>0?r.a.createElement("div",null,r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Invoice No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Mobile No"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,y.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"XOF"," ",e.amount),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.due_date),r.a.createElement("td",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(z,{onClick:function(){return function(e){p(e),i(!0)}(e)}},"View")))})))),r.a.createElement($o.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:h,marginPagesDisplayed:10,pageRangeDisplayed:2,onPageChange:function(e){console.log(e),x(w.slice(10*e.selected,e.selected+10))},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})):r.a.createElement("h3",{style:{textAlign:"center",color:"grey"}},"No invoice found"))))),o?r.a.createElement(Yo,{close:function(){i(!1)},invoice:d}):"")};function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var ni=function(e){X()(n,e);var t=ti(n);function n(){var e;return j()(this,n),e=t.call(this),L()(U()(e),"success",(function(){return toast.success(e.state.notification)})),L()(U()(e),"error",(function(){return toast.error(e.state.notification)})),L()(U()(e),"warn",(function(){return toast.warn(e.state.notification)})),L()(U()(e),"handleInputChange",(function(t){var n=t.target,a=n.value,r=n.name;e.setState(L()({},r,a))})),L()(U()(e),"closePopup",(function(){e.setState({popupSendMoney:!1,showSendMoneyOTP:!1,showAcceptOtp:!1,showCancelOtp:!1,amount:"",cashier_id:"",otp:"",popresult:[],historyPop:!1,incomingPop:!1})})),L()(U()(e),"showPopupSendMoney",(function(){console.log("Hi"),e.state.balance>0?e.setState({popupSendMoney:!0}):(console.log("Hi"),Se("You have no cash in hand to transfer","error"))})),L()(U()(e),"cancelTransfer",(function(t){event.preventDefault(),e.setState({cancelId:t._id,showCancelOtp:!0,otp:"",otpOpt:"cashierCancelTransfer",otpEmail:e.state.email,otpMobile:e.state.mobile,otpTxt:"Your OTP to add cancel the transfer "},(function(){e.generateOTP()}))})),L()(U()(e),"verifyCancel",(function(t){t.preventDefault(),e.setState({verifySendMoneyOTPLoading:!0}),he.a.post("".concat(be,"/merchantStaff/cashierCancelTransfer"),{otpId:e.state.otpId,otp:e.state.otp,transfer_id:e.state.cancelId}).then((function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;console.log(t.data.status),Se("Transfer Cancelled!","success"),e.closePopup(),e.setState({verifySendMoneyOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error.toString():t.toString(),verifySendMoneyOTPLoading:!1},(function(){e.error()}))}))})),L()(U()(e),"verifyAccept",(function(t){t.preventDefault(),e.setState({verifySendMoneyOTPLoading:!0}),he.a.post("".concat(be,"/merchantStaff/cashierAcceptIncoming"),{otpId:e.state.otpId,otp:e.state.otp,item:e.state.acceptId}).then((function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;console.log(t.data.status),Se("Transfer Accepted!","success"),e.closePopup(),e.setState({verifySendMoneyOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error.toString():t.toString(),verifySendMoneyOTPLoading:!1},(function(){e.error()}))}))})),L()(U()(e),"startTimer",(function(){var t=U()(e),n=setInterval((function(){if(t.state.timer<=0)clearInterval(n),t.setState({resend:!0});else{var e=Number(t.state.timer)-1;t.setState({timer:e})}}),1e3)})),L()(U()(e),"generateOTP",(function(){e.setState({resend:!1,timer:30}),he.a.post("".concat(be,"/sendOTP"),{email:e.state.otpEmail,mobile:e.state.otpMobile,page:e.state.otpOpt,type:"merchantPosition",txt:e.state.otpTxt}).then((function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;e.setState({otpId:t.data.id,showEditOtp:!0}),e.startTimer(),Se("OTP Sent","success")})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString()}),e.error()}))})),L()(U()(e),"sendMoney",(function(t){e.state.amount>e.state.balance?Se("Amount has to be lesser  than or equal to cash in hand","success"):(t.preventDefault(),e.setState({showSendMoneyOTP:!0,otp:"",otpOpt:"cashierTransferMoney",otpEmail:e.state.email,otpMobile:e.state.mobile,otpTxt:"Your OTP to add transfer money is "},(function(){e.generateOTP()})))})),L()(U()(e),"verifySendMoney",(function(t){t.preventDefault();var n=e.state.receiver_id.split(":");e.setState({verifySendMoneyOTPLoading:!0}),he.a.post("".concat(be,"/merchantStaff/cashierTransferMoney"),{otpId:e.state.otpId,otp:e.state.otp,amount:e.state.amount,sender_id:e.state.cid,sender_name:e.state.cashierName,receiver_id:n[0],receiver_name:n[1]}).then((function(t){if(200!=t.status)throw t.data.error;if(0==t.data.status)throw t.data.message;Se("Transaction Successfully Done","success"),e.closePopup(),e.setState({verifySendMoneyOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error.toString():t.toString(),verifySendMoneyOTPLoading:!1},(function(){e.error()}))}))})),L()(U()(e),"accept",(function(t){event.preventDefault(),e.setState({acceptId:t,showAcceptOtp:!0,otp:"",otpOpt:"cashierAcceptTransfer",otpEmail:e.state.email,otpMobile:e.state.mobile,otpTxt:"Your OTP to accept the transfer "},(function(){e.generateOTP()}))})),L()(U()(e),"formatDate",(function(e){var t=new Date(e),n=t.getMonth(),a=t.getDate(),r=t.getFullYear(),l=t.getHours(),c=t.getMinutes();return a+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+r+" "+l+":"+c})),L()(U()(e),"showHistory",(function(){e.setState({historyPop:!0,historyLoading:!0}),e.getTransHistory()})),L()(U()(e),"showIncoming",(function(){e.setState({incomingPop:!0})})),L()(U()(e),"getTransHistory",(function(){he.a.post("".concat(be,"/merchantStaff/getCashierTransfers"),{}).then((function(t){if(200==t.status){var n=t.data.history.reverse();e.setState({popresult:n,historyLoading:!1})}})).catch((function(e){}))})),L()(U()(e),"getStats",(function(){he.a.post("".concat(be,"/merchantStaff/getCashierDashStats"),{}).then((function(t){if(200==t.status){var n=null==t.data.lastdate?null:e.formatDate(t.data.lastdate);e.setState({lastdate:n,transactionStarted:t.data.transactionStarted,loading:!1,branch_id:t.data.branchId,balance:t.data.cashInHand,isClosed:t.data.isClosed},(function(){var t=U()(e);setTimeout((function(){t.getStats()}),3e3)}))}})).catch((function(t){var n=U()(e);setTimeout((function(){n.getStats()}),3e3)}))})),L()(U()(e),"getIncoming",(function(){he.a.post("".concat(be,"/merchantStaff/getCashierIncomingTransfer"),{}).then((function(t){if(200==t.status){var n=t.data.result.reverse();e.setState({incoming:n},(function(){var t=U()(e);setTimeout((function(){t.getIncoming()}),3e3)}))}})).catch((function(t){var n=U()(e);setTimeout((function(){n.getIncoming()}),3e3)}))})),L()(U()(e),"getCashiers",(function(){he.a.post("".concat(be,"/getAll"),{page:"merchantPosition",type:"merchantPosition",where:{branch_id:e.state.branchID,type:"cashier",_id:{$ne:e.state.cid}}}).then((function(t){200==t.status&&e.setState({cashiers:t.data.rows})})).catch((function(e){}))})),e.state={balance:0,cid:JSON.parse(localStorage.getItem("cashierLogged")).position._id,branchID:JSON.parse(localStorage.getItem("cashierLogged")).branch._id,cashierName:JSON.parse(localStorage.getItem("cashierLogged")).position.name,email:JSON.parse(localStorage.getItem("cashierLogged")).staff.email,mobile:JSON.parse(localStorage.getItem("cashierLogged")).staff.mobile,incoming:[]},e}return V()(n,[{key:"componentDidMount",value:function(){this.setState({bank:this.props.historyLink}),this.getCashiers(),this.getIncoming(),this.getStats()}},{key:"render",value:function(){function e(e){e.target.parentElement.querySelector("label").classList.add("focused")}function t(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")}var n=this;return r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"32px",bigPadding:!0},r.a.createElement("h3",{style:{textAlign:"center"}}," Cash in Hand "),r.a.createElement("div",{style:{textAlign:"center",fontSize:"20px"},className:"cardValue"},"XOF"," ",this.state.balance.toFixed(2)),r.a.createElement(rt,{style:{marginTop:"10px"}},r.a.createElement(ct,{cW:"100%"},this.state.transactionStarted&&!this.state.isClosed?r.a.createElement(z,{dashBtn:!0,onClick:this.showPopupSendMoney},"Cashier to Cashier Transfer"):r.a.createElement(z,{dashBtn:!0,disabled:!0},"Cashier to Cashier Transfer"))),r.a.createElement(rt,{style:{marginTop:"10px"}},r.a.createElement(ct,null,this.state.transactionStarted&&!this.state.isClosed?r.a.createElement(z,{smallDashBtn:!0,onClick:this.showIncoming},this.state.incoming.length," Pending"):r.a.createElement(z,{smallDashBtn:!0,disabled:!0},this.state.incoming.length," Pending")),r.a.createElement(ct,null,r.a.createElement(z,{smallDashBtn:!0,onClick:this.showHistory},"History"))),this.state.popupSendMoney?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0},this.state.showSendMoneyOTP?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifySendMoney},r.a.createElement("p",null,""),r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:e,onBlur:t,value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.state.verifySendMoneyOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," to ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):r.a.createElement("div",null,r.a.createElement("h1",null,"Transfer Money"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.sendMoney},r.a.createElement(ha,null,r.a.createElement(ya,{type:"text",name:"receiver_id",value:this.state.receiver_id,onChange:this.handleInputChange,required:!0},r.a.createElement("option",{value:""},"Select Cashier"),this.state.cashiers&&this.state.cashiers.length>0?this.state.cashiers.map((function(e){return r.a.createElement("option",{value:e._id+":"+e.name},e.name)})):null)),r.a.createElement(ha,null,r.a.createElement("label",null,"Amount*"),r.a.createElement(F,{type:"number",name:"amount",min:"1",onFocus:e,onBlur:t,value:this.state.amount,onChange:this.handleInputChange,required:!0})),r.a.createElement(z,{filledBtn:!0,marginTop:"20px"},r.a.createElement("span",null,"Proceed"))))):null,this.state.historyPop?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0,bigBody:!0},this.state.showCancelOtp?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifyCancel},r.a.createElement("p",null,""),r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:e,onBlur:t,value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.state.verifySendMoneyOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," to ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):r.a.createElement("div",null,r.a.createElement("h1",null,"Cashier to Cashier Transfer History"),this.state.historyLoading?r.a.createElement(z,{filledBtn:!0,disabled:!0},r.a.createElement(oe,null)):r.a.createElement(Gn,{marginTop:"34px",smallTd:!0,textAlign:"center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date & Time")," ",r.a.createElement("th",null,"Details"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,this.state.popresult&&this.state.popresult.length>0?this.state.popresult.map((function(e){var t=e.created_at,a=n.formatDate(t);return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement("div",{className:"labelGrey"},a)),r.a.createElement("td",null,r.a.createElement("div",{className:"labelBlue"},e.sender_id===JSON.parse(localStorage.getItem("cashierLogged")).position._id?r.a.createElement("span",null,"Transfered ","XOF"," ",e.amount," to ",e.receiver_name):r.a.createElement("span",null,"Received ","XOF"," ",e.amount," from ",e.sender_name),"  ")),r.a.createElement("td",{className:"right"},r.a.createElement("div",{className:"labelGrey"},0==e.status?r.a.createElement(z,{onClick:function(){return n.cancelTransfer(e)},style:{float:"right"}},"Cancel"):-1==e.status?r.a.createElement("span",null,"Cancelled"):r.a.createElement("span",null,"Completed"))))})):null)))):null,this.state.incomingPop?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0,bigBody:!0},this.state.showCancelOtp?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifyCancel},r.a.createElement("p",null,""),r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:e,onBlur:t,value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.state.verifySendMoneyOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," to ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):this.state.showAcceptOtp?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifyAccept},r.a.createElement("p",null,""),r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:e,onBlur:t,value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.state.verifySendMoneyOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px",marginBottom:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," to ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):r.a.createElement("div",null,r.a.createElement("h1",null,"Incoming Transfers"),r.a.createElement(Gn,{marginTop:"34px",smallTd:!0,textAlign:"center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date & Time")," ",r.a.createElement("th",null,"Details"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.incoming&&this.state.incoming.length>0?this.state.incoming.map((function(e){var t=e.created_at,a=n.formatDate(t);return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement("div",{className:"labelGrey"},a)),r.a.createElement("td",null,r.a.createElement("div",{className:"labelBlue"},r.a.createElement("span",null,"Recived ","XOF"," ",e.amount," from ",e.sender_name),"  ")),r.a.createElement("td",{className:"right"},r.a.createElement("div",{className:"labelGrey"},0==e.status?r.a.createElement("div",null,r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(z,{onClick:function(){return n.accept(e)}},"Accept")),r.a.createElement(ct,null,r.a.createElement(z,{onClick:function(){return n.cancelTransfer(e)}},"Cancel")))):-1==e.status?r.a.createElement("span",null,"Cancelled"):r.a.createElement("span",null,"Completed"))))})):null)))):null)}}]),n}(a.Component);function ai(){var e=k()(["\n  display:  ",";\n  width: ",";\n  margin-left: ",";\n  margin-right: ",";\n  padding: ",";\n  box-shadow: 0 4px 9px 0 rgba(0, 0, 0, 0.02);\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n  margin-bottom: ",";\n  text-align: ",";\n  float: ",";\n  max-width: ",";\n  margin: ",";\n  position: relative;\n  border: ",";\n  &:hover {\n    border: ",";\n  }\n  .infoLeft {\n    font-size: 20px;\n    font-weight: bold;\n    color: #4a4a4a;\n    margin-bottom: 30px;\n  }\n  .infoRight {\n    font-size: 20px;\n    font-weight: bold;\n    color: #000000;\n    text-align: right;\n    margin-bottom: 30px;\n    color: green;\n  }\n\n\n  .profile {\n    img {\n      max-width: 100%;\n      max-height: 100px;\n    }\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  .history {\n    position: absolute;\n    right: 20px;\n    bottom: 25px;\n    color: "," !important;\n  }\n  &.sideNav {\n    padding: 15px 10px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: 10px;\n    border: solid 1px #e9eff4;\n    box-shaddow: none;\n    i {\n      margin-right: 10px;\n      margin-top: 0;\n      color: ",";\n    }\n    h3 {\n      font-size: 13px;\n      font-weight: bold;\n      margin: 0;\n      color: ",";\n    \n    }\n  }\n  &.containerNav {\n    padding: 15px 10px;\n    display: block;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: 10px;\n    border: solid 1px #e9eff4;\n    box-shaddow: none;\n    i {\n      margin-right: 10px;\n      margin-top: 0;\n      color: ",";\n    }\n    h3 {\n      font-size: 13px;\n      font-weight: bold;\n      margin: 0;\n      color: ",";\n    \n    }\n  }\n  &.sideNav:hover {\n    background-color: #417505;\n    i{\n      color: #fff;\n    }\n    h3 {\n      color: #fff !important;\n    }\n  }\n  > .cardHeader:after {\n    content: '';\n    display: block;\n    clear: both;\n  }\n  > .cardHeader > .cardHeaderRight > h3,\n  > h3 {\n    color: #323c47;\n    font-size: 24px;\n    font-weight: normal;\n    margin-top: 0;\n    margin-bottom: 20px;\n    .anchor{\n      color:",";\n      right: 10px;\n      position: absolute;\n      top: 25px;\n    }\n  }\n  > .cardHeader > .cardHeaderRight > h3 {\n    margin-bottom: 1px;\n  }\n  .doc {\n    border: solid 1px #e9eff4;\n    border-radius: 5px;\n    padding: 10px;\n  }\n  .hh {\n    margin-top: 10px;\n    margin-bottom: 0;\n    font-size: 16px;\n    color: #323c47;\n  }\n  .hhh {\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 0.11px;\n    color: #323c47;\n    text-align: center;\n  }\n  .hhhh {\n    font-size: 10px;\n    font-weight: bold;\n    text-align: center;\n    letter-spacing: 0.09px;\n    color: #9b9b9b;\n}\n.miniTitle{\n  color:#f5a623;\n  font-size: 16px;\n}\n> .cardHeader  > .cardHeaderLeft{\n    float:left;\n    &.flex{\n        display:flex;\n        align-items:center;\n        justify-content: flex-start;\n        flex-direction: row;\n        h3{\n            font-size: 28px;\n        }\n        .material-icons{\n            background: ",";\n            color: #fff;\n            margin-right: 10px;\n            font-size: 28px;\n    padding: 4px;\n    border-radius: 50%;\n        }\n    }\n}\n> .cardHeader  > .cardHeaderRight{\n    float:left;\n}\n\n> .cardHeader > .cardHeaderLeft > .material-icons {\n    width: 46px;\n    height: 46px;\n    color: ",";\n    background: transparent;\n    border-radius: 50%;\n    margin: 3px 17px;\n    font-size: 40px;\n    padding: 0;\n    line-height: 46px;\n  }\n  > h4 {\n    font-size: ",";\n    font-weight: normal;\n    color: #323c47;\n    margin-top: 0;\n    margin-bottom: 18px;\n  }\n  .menuTabs {\n    font-size: 20px;\n    color: ",";\n    font-weight: bold;\n    float: left;\n    margin-top: 20px;\n    margin-right: 30px;\n  }\n  > .cardHeader > .cardHeaderRight > h5,\n  h5 {\n    font-size: 14px;\n    font-weight: 300;\n    color: rgba(50, 60, 71, 0.4);\n    margin-top: 0;\n    margin-bottom: 15px;\n  }\n\n.cardValue{\n    font-size: ",";\n    font-weight: bold;\n    color: ",";\n  }\n\n > button, .sendMoneyButton{\n    padding: 6px;\n    border-radius: 2px;\n    min-width: 0 !important;\n    border: solid 1px ",";\n    color: ",";\n    font-size: 11px;\n    font-weight: bold;\n    background: #fff;\n    margin-top: ",";\n\n    > i {\n      margin-right: 5px;\n      font-size: 11px;\n    }\n  }\n"]);return ai=function(){return e},e}var ri=f.c.div(ai(),(function(e){return e.display?e.display:"block"}),(function(e){return e.cardWidth?e.cardWidth:"100%"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.horizontalMargin?e.horizontalMargin:"0"}),(function(e){return e.bigPadding?"18px 30px":"12px 6px"}),(function(e){return e.selected?e.theme.primary:"#fff"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.rounded?"5px":"0"}),(function(e){return e.marginBottom?e.marginBottom:"0"}),(function(e){return e.textAlign?e.textAlign:"left"}),(function(e){return e.col?"left":"none"}),(function(e){return e.centerSmall?"600px":"100%"}),(function(e){return e.centerSmall?"0 auto":"sdf"}),(function(e){return e.bordered?"1px solid #e4e8ea":"sdf"}),(function(e){return e.blueHover?"1px solid #4da1ff":""}),(function(e){return e.theme.accent}),(function(e){return e.selected?"#fff":"#417505"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.selected?"#fff":"#417505"}),(function(e){return e.selected?"#fff":"#323c47"}),(function(e){return e.theme.accent}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.h4FontSize?e.h4FontSize:"18px"}),(function(e){return e.theme.primary}),(function(e){return e.smallValue?"20px":"32px"}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.buttonMarginTop?e.buttonMarginTop:"0"})),li=n(16);function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){L()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var ui=localStorage.getItem("cashierLogged"),si=function(e){X()(n,e);var t=ii(n);function n(){var e;return j()(this,n),e=t.call(this),L()(U()(e),"success",(function(){return xe.a.success(e.state.notification)})),L()(U()(e),"error",(function(){return xe.a.error(e.state.notification)})),L()(U()(e),"warn",(function(){return xe.a.warn(e.state.notification)})),L()(U()(e),"handleInputChange",(function(t){var n=t.target,a=n.value,r=n.name;e.setState(L()({},r,a))})),L()(U()(e),"handleCheckbox",(function(t){var n=t.target,a=n.value,r=n.name;if("true"==a)var l=!1;else l=!0;e.setState(L()({},r,l))})),L()(U()(e),"showOpeningPopup",(function(t){e.setState({openingPopup:!0,cashier_id:t._id})})),L()(U()(e),"showHistoryPop",(function(){e.setState({historyPop:!0,historyLoading:!0}),e.getHistory()})),L()(U()(e),"getHistory",(function(){he.a.post("".concat(be,"/getAll"),{page:"cashierledger",type:"merchantPosition",where:{trans_type:"CB",cashier_id:e.state.cid}}).then((function(t){if(200==t.status){var n=t.data.rows.reverse();e.setState({history:n},(function(){e.setState({historyLoading:!1})}))}})).catch((function(e){}))})),L()(U()(e),"handleAmountChange",(function(t){var n=t.target,a=n.value,r=n.name;e.setState(L()({},r,a),(function(){}))})),L()(U()(e),"closePopup",(function(){e.setState({note:"",popup:!1,editPopup:!1,agree:!1,assignPop:!1,openingPopup:!1,historyPop:!1,name:"",bcode:"",working_from:"",working_to:"",per_trans_amt:"",max_trans_amt:"",max_trans_count:"",mobile:"",credit_limit:"",otp:"",showOtp:!1,showEditOtp:!1,showOpeningOTP:!1,openCashierPopup:!1})})),L()(U()(e),"addOpeningBalance",(function(t){t.preventDefault(),e.state.agree?""==e.state.total||0==e.state.total?Se("You need to enter atleast one denomination","error"):e.setState({showOpeningOTP:!0,otpOpt:"closingBalance",otpTxt:"Your OTP to add closing balance is "},(function(){e.generateOTP()})):e.closePopup()})),L()(U()(e),"startTimer",(function(){var t=U()(e),n=setInterval((function(){if(t.state.timer<=0)clearInterval(n),t.setState({resend:!0});else{var e=Number(t.state.timer)-1;t.setState({timer:e})}}),1e3)})),L()(U()(e),"formatDate",(function(e){var t=new Date(e),n=t.getMonth(),a=t.getDate(),r=t.getFullYear(),l=t.getHours(),c=t.getMinutes();return a+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+r+" "+l+":"+c})),L()(U()(e),"getDashStats",(function(){he.a.post("".concat(be,"/merchantStaff/getCashierDashStats"),{}).then((function(t){200==t.status&&e.setState({openingBalance:t.data.openingBalance,closingBalance:t.data.closingBalance,isClosed:t.data.isClosed,loading:!1,balance:t.data.cashInHand,cashCollected:t.data.cashInHand-t.data.openingBalance},(function(){var t=U()(e);setTimeout((function(){t.getDashStats()}),3e3)}))})).catch((function(t){var n=U()(e);setTimeout((function(){n.getDashStats()}),3e3)}))})),L()(U()(e),"generateOTP",(function(){e.setState({resend:!1,timer:30}),he.a.post("".concat(be,"/sendOTP"),{email:e.state.otpEmail,mobile:e.state.otpMobile,page:e.state.otpOpt,type:"cashier",txt:e.state.otpTxt}).then((function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;e.setState({otpId:t.data.id,notification:"OTP Sent"}),e.startTimer(),e.success()})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString()}),e.error()}))})),L()(U()(e),"openCashier",(function(t){e.setState({openCashierPopup:!0})})),L()(U()(e),"verifyOpening",(function(t){t.preventDefault(),e.setState({verifyEditOTPLoading:!0}),he.a.post("".concat(be,"/merchantStaff/openCashierBalance"),{}).then((function(t){if(200!=t.status)throw new Error(t.data.error);if(0===t.data.status)throw t.data.message;Se("Cashier opened successfully!","success"),e.setState({notification:"Cashier opened successfully!"},(function(){this.closePopup(),this.getStats()})),e.setState({verifyEditOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString(),verifyEditOTPLoading:!1}),e.error()}))})),L()(U()(e),"addOpeningBalance",(function(t){t.preventDefault(),e.state.agree?e.setState({showOpeningOTP:!0,otpOpt:"openingBalance",otpTxt:"Your OTP to open cashier balance is "},(function(){e.generateOTP()})):Se("You need to agree","error")})),L()(U()(e),"verifyOpeningOTP",(function(t){t.preventDefault(),e.setState({verifyEditOTPLoading:!0}),console.log(e.state.denomination,e.state.total),he.a.post("".concat(be,"/merchantStaff/addClosingBalance"),{denomination:e.state.denomination,total:e.state.total,note:e.state.note}).then((function(t){if(200!=t.status)throw new Error(t.data.error);if(t.data.error)throw t.data.error;Se("Closing balance submitted successfully!","success"),e.setState({notification:"Closing balance submitted successfully!"},(function(){this.closePopup(),this.getDashStats()})),e.setState({verifyEditOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString(),verifyEditOTPLoading:!1}),e.error()}))})),e.state={loading:!0,lastdate:null,tomorrow:!1,otp:"",isClosed:!1,total:0,closingBalance:0,cashInHand:0,cashCollected:0,cid:JSON.parse(localStorage.getItem("cashierLogged")).position._id,popup:!1,showOtp:!1,assignPop:!1,agree:!1,token:ui,otpEmail:JSON.parse(localStorage.getItem("cashierLogged")).staff.email,otpMobile:JSON.parse(localStorage.getItem("cashierLogged")).staff.mobile,openCashierPopup:!1,denomination:[],currency:"XOF"},e.success=e.success.bind(U()(e)),e.error=e.error.bind(U()(e)),e.warn=e.warn.bind(U()(e)),e}return V()(n,[{key:"componentDidMount",value:function(){var e=this;this.getDashStats(),he.a.get("".concat(be,"/get-currency")).then((function(t){0!=t.data.data.length&&e.setState((function(e){return oi(oi({},e),{},{denomination:t.data.data[0].denomination.map((function(e){return{val:e,num:""}})),currency:t.data.data[0].value})}))})).catch((function(e){console.log(e.messages)}))}},{key:"render",value:function(){var e=this;var t=new Date,n=(t.getDate(),t.getMonth(),t.getFullYear(),this.formatDate(t),this.props.classes),a=this;return r.a.createElement(ri,{marginBottom:"54px",buttonMarginTop:"32px",bigPadding:!0,smallValue:!0},r.a.createElement("h3",{style:{textAlign:"center"}},"Closing Balance"),r.a.createElement("div",{style:{textAlign:"center",fontSize:"20px"},className:"cardValue"},"XOF"," ",this.state.closingBalance.toFixed(2)),r.a.createElement(rt,null,r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},this.state.isClosed?r.a.createElement(z,{dashBtn:!0,disabled:!0},"Close my day"):r.a.createElement(z,{dashBtn:!0,onClick:this.showOpeningPopup},"Close my day"))),this.state.openingPopup?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0},this.state.showOpeningOTP?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifyOpeningOTP},r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:function(e){e.target.parentElement.querySelector("label").classList.add("focused")},onBlur:function(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")},value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.verifyEditOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," ","to"," ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):r.a.createElement("div",null,r.a.createElement("h1",null,"Enter Real Closing Bills & Coins count"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.addOpeningBalance},r.a.createElement(ha,null,r.a.createElement(y.a,{container:!0},this.state.denomination.map((function(t,a){return r.a.createElement(y.a,{item:!0,key:"text-field-".concat(a),xs:12,container:!0,alignItems:"center",style:{textAlign:"center"}},r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement(x.a,{className:n.currencyElement,key:"text-field-".concat(a),style:{fontWeight:600,fontSize:"14px",textAlign:"right"}},e.state.currency," ",t.val)),r.a.createElement(y.a,{item:!0,xs:2},r.a.createElement(x.a,{style:{fontSize:"14px",textAlign:"right",paddingRight:"3px"}},"X")),r.a.createElement(y.a,{item:!0,xs:7},r.a.createElement(ct,{cW:"60%",style:{marginLeft:"18%"}},r.a.createElement(F,{marginTop:!0,type:"text",autoFocus:!0,onChange:function(t){var n=t.target.value;e.setState((function(e){var t=e.denomination;return t[a].num=n,oi(oi({},e),{},{denomination:t})}))}}))))})))),r.a.createElement(ha,null,r.a.createElement(rt,{style:{marginTop:"5%"}},r.a.createElement(ct,{cW:"15%",textAlign:"right"},r.a.createElement("strong",null,"TOTAL")),r.a.createElement(ct,{cW:"20%",textAlign:"center"},"="),r.a.createElement(ct,{cW:"35%"},this.state.total=this.state.denomination.reduce((function(e,t){return Number(t.num*t.val||0)+e}),0))),r.a.createElement(rt,{style:{marginTop:"5%",marginLeft:"-5%"}},r.a.createElement(ct,{cW:"20%",textAlign:"right"},r.a.createElement("strong",null,"Cash Collected")),r.a.createElement(ct,{cW:"20%",textAlign:"center"},"="),r.a.createElement(ct,{cW:"35%"},this.state.cashCollected)),r.a.createElement(rt,{style:{marginTop:"5%",marginLeft:"-5%"}},r.a.createElement(ct,{cW:"20%",textAlign:"right"},r.a.createElement("strong",null,"Discrepancy")),r.a.createElement(ct,{cW:"20%",textAlign:"center"},"="),r.a.createElement(ct,{cW:"35%"},this.state.total-this.state.cashCollected))),r.a.createElement(ha,null,r.a.createElement(F,{marginTop:!0,type:"text",name:"note",autoFocus:!0,placeholder:"Remarks",value:this.state.note,onChange:this.handleInputChange})),r.a.createElement("div",{style:{marginTop:"20px",fontSize:"18px",textAlign:"center"}},r.a.createElement("input",{type:"checkbox",name:"agree",value:this.state.agree,checked:this.state.agree,onClick:this.handleCheckbox})," ","Close accounts for the day?"),this.state.editBranchLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Submit"))))):null,this.state.historyPop?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0,bigBody:!0},r.a.createElement("div",null,r.a.createElement("h1",null,"Closing Balance History"),this.state.historyLoading?r.a.createElement(z,{filledBtn:!0,disabled:!0},r.a.createElement(oe,null)):r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Added On"),r.a.createElement("th",null,"Denomination"),r.a.createElement("th",null,"Note"))),r.a.createElement("tbody",null,this.state.history&&this.state.history.length>0?this.state.history.map((function(e){var t=JSON.parse(e.transaction_details),n=a.formatDate(e.created_at);return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,"XOF"," ",e.amount.toFixed(2)),r.a.createElement("td",null,r.a.createElement("div",{className:"labelGrey"},n)),r.a.createElement("td",null,t.denomination?t.denomination.map((function(e){return""!=e.num?r.a.createElement("div",null,e.val," : ",e.num):null})):null),r.a.createElement("td",null,t.note))})):null)))):null)}}]),n}(a.Component),mi=Object(li.a)((function(e){return{currencyElement:{}}}))(si);function di(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var pi=new Date,fi=function(e){X()(n,e);var t=di(n);function n(){var e;j()(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return e=t.call.apply(t,[this].concat(l)),L()(U()(e),"getInvoiceList",(function(){return e.props.values.map((function(e,t){return r.a.createElement("tr",{key:e.invoice._id},r.a.createElement("td",{className:"tac"},e.invoice.number),r.a.createElement("td",{className:"tac"},e.invoice.amount),r.a.createElement("td",{className:"tac"},e.penalty),r.a.createElement("td",{className:"tac"},e.invoice.amount+e.penalty),r.a.createElement("td",{className:"tac"},e.invoice.due_date," "),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",cursor:"pointer",justifyContent:"center",color:"green"}},r.a.createElement("span",null,"Paid"))))}))})),e}return V()(n,[{key:"componentDidMount",value:function(){console.log(JSON.parse(localStorage.getItem("cashierLogged")).staff),console.log(JSON.parse(localStorage.getItem("cashierLogged")).merchant)}},{key:"render",value:function(){return r.a.createElement(zn,null,r.a.createElement(rt,{vAlign:"flex-start"},r.a.createElement(ct,{cW:"100%"},r.a.createElement("div",{style:{fontSize:"34px",fontWeight:"bold",padding:"13px 0px",textAlign:"center",color:"#417505"}},this.props.values.type," Transaction Receipt"),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"50%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Transaction ID :"),r.a.createElement(ct,{className:"popInfoRight"},localStorage.getItem("txcode"))),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Transaction Date :"),r.a.createElement(ct,{className:"popInfoRight"},pi.toLocaleDateString("en-US")))),r.a.createElement(ct,{cW:"50%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Merchant Name :"),r.a.createElement(ct,{className:"popInfoRight"},JSON.parse(localStorage.getItem("cashierLogged")).merchant.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Cashier Name :"),r.a.createElement(ct,{className:"popInfoRight"},JSON.parse(localStorage.getItem("cashierLogged")).staff.name)))))),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(Lc,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Penalty"),r.a.createElement("th",null,"Total Amount"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.getInvoiceList())),r.a.createElement("hr",{style:{border:"1px solid black"}}),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement("div",{style:{fontSize:"20px",fontWeight:"bold",padding:"13px 0px",color:"#417505"}},"Signature: ____________________")),r.a.createElement(ct,null)))}}]),n}(a.Component),gi=function(e){var t=Object(a.useRef)();return r.a.createElement(bt,{close:e.close,bigBody:!0,roundedCorner:!0},r.a.createElement(Ho.a,{trigger:function(){return r.a.createElement(Wc,null,r.a.createElement(Jo.a,null),"  Print")},content:function(){return t.current}}),r.a.createElement(fi,{values:e.values,ref:t}))},hi=function(e){new Date;var t=JSON.parse(localStorage.getItem("cashierLogged")).merchant,n=Object(a.useState)(e.invoiceList),l=s()(n,2),c=l[0];l[1];return Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(it,null,r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("img",{src:"".concat(ve).concat(t.logo),alt:"",style:{height:"60px",width:"60px",paddingRight:"10px"}})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h4",{style:{color:"green"}},t.name),r.a.createElement("p",null,t.description))),r.a.createElement("div",null),c&&c.length>0?r.a.createElement(Gn,{marginTop:"5px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Number"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Penalty"),r.a.createElement("th",null,"Total Amount"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null))),r.a.createElement("tbody",null,c&&c.length>0?c.map((function(t,n){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",{className:"tac"},t.number),r.a.createElement("td",{className:"tac"},t.name),r.a.createElement("td",{className:"tac"},t.amount),r.a.createElement("td",{className:"tac"},t.penalty),r.a.createElement("td",{className:"tac"},t.amount+t.penalty),r.a.createElement("td",{className:"tac"},t.due_date," "),r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",cursor:"pointer",justifyContent:"center",color:"green"}},r.a.createElement("span",{onClick:function(){return e.setEditingInvoice(t,t.penalty)}},"View"))))})):null)):r.a.createElement("center",null,r.a.createElement("h2",null,"No Bill Available Found"))))},Ei=function(e){var t=JSON.parse(localStorage.getItem("cashierLogged")).merchant,n=Object(a.useState)(!1),l=s()(n,2),c=l[0],o=(l[1],Object(a.useState)([])),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)([]),p=s()(d,2),f=(p[0],p[1],Object(a.useState)({})),g=s()(f,2),h=g[0],E=g[1],y=Object(a.useState)({}),x=s()(y,2),S=(x[0],x[1]),_=Object(a.useState)(!1),w=s()(_,2),k=w[0],N=w[1],C=Object(a.useState)(!1),B=s()(C,2),O=B[0],P=B[1],T=Object(a.useState)(""),I=s()(T,2),R=(I[0],I[1]),L=Object(a.useState)(!1),D=s()(L,2),M=(D[0],D[1]),z=function(e,t){S(t),E(e),N(!1),M(!0),P(!0)};return Object(a.useEffect)((function(){}),[]),r.a.createElement("div",null,r.a.createElement(eo,{accentedH1:!0,bigBody:!0,close:e.close},r.a.createElement("div",null,r.a.createElement("h1",null,"Paid Bills"),k||O?"":r.a.createElement(b.d,{initialValues:{invoiceIdOrMobile:"",searchBy:"Mobile"},onSubmit:function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Mobile"===t.searchBy?xo(t.invoiceIdOrMobile).then((function(e){m(e.list.reverse()),N(!0),e.list.length>0&&R(e.list[0].name)})):"BillNumber"===t.searchBy?So(t.invoiceIdOrMobile).then((function(e){m(e.list.reverse()),N(!0),e.list.length>0&&R(e.list[0].name)})):_o(t.invoiceIdOrMobile).then((function(e){m(e.list.reverse()),N(!0),e.list.length>0&&R(e.list[0].name)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),validationSchema:v.c().shape({invoiceIdOrMobile:v.e().required("Required")})},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur;return r.a.createElement(b.c,null,r.a.createElement(no,null,r.a.createElement(Ac,{cW:"20%"},r.a.createElement(qc,null,r.a.createElement("label",{htmlFor:"searchBy",className:"focused"},"Search By"),r.a.createElement(ro,{name:"searchBy",onFocus:function(e){n(e),Vc(e)},onBlur:function(e){a(e),n(e),Hc(e)},value:t.searchBy,onChange:n,required:!0},r.a.createElement("option",{value:"Mobile"},"Mobile Number"),r.a.createElement("option",{value:"BillNumber"},"Bill Number"),r.a.createElement("option",{value:"CustomerCode"},"Customer Code")))),r.a.createElement(Ac,{cW:"80%"},r.a.createElement(qc,null,r.a.createElement("label",{htmlFor:"invoiceIdOrMobile"},"Mobile/Invoice Id/Customer Code"),r.a.createElement(co,{type:"text",name:"invoiceIdOrMobile",onFocus:function(e){Vc(e),n(e)},onBlur:function(e){Hc(e),a(e)},required:!0,onChange:n,value:t.invoiceIdOrMobile})))),r.a.createElement(qc,null,r.a.createElement(Wc,{filledBtn:!0},c?r.a.createElement(Gc,null):"Get")))})),k?r.a.createElement(hi,{merchant:t,invoiceList:u,setEditingInvoice:function(e,t){return z(e,t)},close:e.close}):"",O?r.a.createElement(Yo,{close:e.close,invoice:h}):"")))};function bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var vi=localStorage.getItem("cashierLogged"),yi=function(e){X()(n,e);var t=bi(n);function n(){var e;return j()(this,n),e=t.call(this),L()(U()(e),"success",(function(){return xe.a.success(e.state.notification)})),L()(U()(e),"error",(function(){return xe.a.error(e.state.notification)})),L()(U()(e),"warn",(function(){return xe.a.warn(e.state.notification)})),L()(U()(e),"onPayBillsPopupClose",(function(){e.setState({payBillsPopup:!1})})),L()(U()(e),"onPayBillsPopupOpen",(function(){e.setState({payBillsPopup:!0})})),L()(U()(e),"onSearchBillsPopupClose",(function(){e.setState({searchBillsPopup:!1})})),L()(U()(e),"onSearchBillsPopupOpen",(function(){e.setState({searchBillsPopup:!0})})),L()(U()(e),"onReceiptPopupOpen",(function(){console.log("hi"),e.setState({receiptPopup:!0})})),L()(U()(e),"onReceiptClose",(function(){e.setState({receiptPopup:!1})})),L()(U()(e),"handleInputChange",(function(t){var n=t.target,a=n.value,r=n.name;e.setState(L()({},r,a))})),L()(U()(e),"handleCheckbox",(function(t){var n=t.target,a=n.value,r=n.name;if("true"==a)var l=!1;else l=!0;e.setState(L()({},r,l))})),L()(U()(e),"showOpeningPopup",(function(t){e.setState({openingPopup:!0,cashier_id:t._id})})),L()(U()(e),"closePopup",(function(){var t;e.setState((t={agree:!1,popup:!1,editPopup:!1},L()(t,"agree",!1),L()(t,"assignPop",!1),L()(t,"openingPopup",!1),L()(t,"otp",""),L()(t,"showOtp",!1),L()(t,"showEditOtp",!1),L()(t,"showOpeningOTP",!1),L()(t,"openCashierPopup",!1),t))})),L()(U()(e),"startTimer",(function(){var t=U()(e),n=setInterval((function(){if(t.state.timer<=0)clearInterval(n),t.setState({resend:!0});else{var e=Number(t.state.timer)-1;t.setState({timer:e})}}),1e3)})),L()(U()(e),"formatDate",(function(e){var t=new Date(e),n=t.getMonth(),a=t.getDate(),r=t.getFullYear(),l=t.getHours(),c=t.getMinutes();return a+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]+" "+r+" "+l+":"+c})),L()(U()(e),"getDashStats",(function(){he.a.post("".concat(be,"/merchantStaff/getCashierDashStats"),{}).then((function(t){if(200==t.status){var n=new Date,a=sr()(new Date(t.data.closingTime)),r=n.getTime()-a.getTime(),l=Math.trunc(r/864e5);console.log(l),e.setState({openingDate:new Date(t.data.openingTime),tomorrow:l>0,closingBalance:t.data.closingBalance,loading:!1,closingTime:t.data.closingTime,openingTime:t.data.openingTime,isClosed:t.data.isClosed},(function(){var t=U()(e);setTimeout((function(){t.getDashStats()}),3e3)}))}})).catch((function(t){var n=U()(e);setTimeout((function(){n.getDashStats()}),3e3)}))})),L()(U()(e),"generateOTP",(function(){e.setState({resend:!1,timer:30}),he.a.post("".concat(be,"/sendOTP"),{email:e.state.otpEmail,mobile:e.state.otpMobile,page:e.state.otpOpt,type:"cashier",txt:e.state.otpTxt}).then((function(t){if(200!=t.status)throw t.data.error;if(t.data.error)throw t.data.error;e.setState({otpId:t.data.id,notification:"OTP Sent"}),e.startTimer(),e.success()})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString()}),e.error()}))})),L()(U()(e),"openCashier",(function(t){e.setState({openCashierPopup:!0})})),L()(U()(e),"verifyOpening",(function(t){t.preventDefault(),e.setState({verifyEditOTPLoading:!0}),he.a.post("".concat(be,"/merchantStaff/openCashierBalance"),{}).then((function(t){if(200!=t.status)throw new Error(t.data.error);if(0===t.data.status)throw t.data.message;Se("Cashier opened successfully!","success"),e.setState({notification:"Cashier opened successfully!"},(function(){this.closePopup(),this.getDashStats()})),e.setState({verifyEditOTPLoading:!1})})).catch((function(t){e.setState({notification:t.response?t.response.data.error:t.toString(),verifyEditOTPLoading:!1}),e.error()}))})),L()(U()(e),"addOpeningBalance",(function(t){t.preventDefault(),e.state.agree?e.setState({showOpeningOTP:!0,otpOpt:"openingBalance",otpTxt:"Your OTP to open cashier balance is "},(function(){e.generateOTP()})):Se("You need to agree","error")})),e.state={loading:!0,payBillsPopup:!1,searchBillsPopup:!1,receiptPopup:!1,isClosed:!0,receiptvalues:{},openingDate:"",closingTime:"",openingTime:"",otp:"",tomorrow:!1,closingBalance:"",cid:JSON.parse(localStorage.getItem("cashierLogged")).position._id,popup:!1,showOtp:!1,assignPop:!1,agree:!1,token:vi,otpEmail:JSON.parse(localStorage.getItem("cashierLogged")).staff.email,otpMobile:JSON.parse(localStorage.getItem("cashierLogged")).staff.mobile,openCashierPopup:!1,denomination:[],currency:"XOF"},e.success=e.success.bind(U()(e)),e.error=e.error.bind(U()(e)),e.warn=e.warn.bind(U()(e)),e}return V()(n,[{key:"componentDidMount",value:function(){this.getDashStats()}},{key:"render",value:function(){var e=this;var t=new Date,n=(t.getDate(),t.getMonth(),t.getFullYear(),this.formatDate(t));this.props.classes;return r.a.createElement(ri,{marginBottom:"54px",buttonMarginTop:"32px",bigPadding:!0,smallValue:!0},r.a.createElement(rt,null,r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},this.state.tomorrow?r.a.createElement("div",null,this.state.isClosed?r.a.createElement(z,{dashBtn:!0,onClick:this.openCashier},"Open My Counter"):r.a.createElement(z,{dashBtn:!0,disabled:!0},"Counter opened at ",new Date(this.state.openingTime).getHours()," : ",new Date(this.state.openingTime).getMinutes())):r.a.createElement(z,{dashBtn:!0,disabled:!0},"Counter Closed for Today"))),r.a.createElement(rt,{style:{marginTop:"75%"}},r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},this.state.isClosed?r.a.createElement(z,{dashBtn:!0,disabled:!0},"Counter closed"):r.a.createElement(z,{dashBtn:!0,onClick:function(){e.onPayBillsPopupOpen()}},"Pay Invoices"))),r.a.createElement(rt,null,r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},r.a.createElement(z,{dashBtn:!0,onClick:function(){e.onSearchBillsPopupOpen()}},"Search Paid Invoices"))),this.state.payBillsPopup?r.a.createElement(No,{close:function(){return e.onPayBillsPopupClose()},showReceiptPopup:function(t){console.log(t),e.setState({receiptvalues:t})},show:this.onReceiptPopupOpen}):"",this.state.searchBillsPopup?r.a.createElement(Ei,{close:function(){return e.onSearchBillsPopupClose()}}):"",this.state.receiptPopup?r.a.createElement(gi,{values:this.state.receiptvalues,close:function(){return e.onReceiptClose()}}):"",this.state.openCashierPopup?r.a.createElement(bt,{close:this.closePopup.bind(this),accentedH1:!0},this.state.showOpeningOTP?r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.verifyOpening},r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:function(e){e.target.parentElement.querySelector("label").classList.add("focused")},onBlur:function(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")},value:this.state.otp,onChange:this.handleInputChange,required:!0})),this.verifyEditOTPLoading?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},this.state.timer)," ","to"," ",this.state.resend?r.a.createElement("span",{className:"go",onClick:this.generateOTP},"Resend"):r.a.createElement("span",null,"Resend")))):r.a.createElement("div",null,r.a.createElement("h1",null,"Open Cashier"),r.a.createElement("form",{action:"",method:"post",onSubmit:this.addOpeningBalance},r.a.createElement(rt,{style:{marginTop:"5%",marginLeft:"-5%"}},r.a.createElement(ct,{cW:"20%",textAlign:"right"},r.a.createElement("strong",null,"Opening for the day")),r.a.createElement(ct,{cW:"20%",textAlign:"center"},":"),r.a.createElement(ct,{cW:"35%"},n)),r.a.createElement(rt,{style:{marginTop:"5%",marginLeft:"-5%"}},r.a.createElement(ct,{cW:"20%",textAlign:"right"},r.a.createElement("strong",null,"Cash in Hand")),r.a.createElement(ct,{cW:"20%",textAlign:"center"},":"),r.a.createElement(ct,{cW:"35%"},this.state.closingBalance)),r.a.createElement(rt,{style:{marginTop:"5%",marginLeft:"-5%"}},r.a.createElement(ct,{cW:"20%",textAlign:"right"},r.a.createElement("strong",null)),r.a.createElement(ct,{cW:"20%",textAlign:"center"}),r.a.createElement(ct,{cW:"35%"})),r.a.createElement("div",{style:{marginTop:"20px",fontSize:"18px",textAlign:"center"}},r.a.createElement("input",{type:"checkbox",name:"agree",value:this.state.agree,checked:this.state.agree,required:!0,onClick:this.handleCheckbox}),"  Agree to the opening balance?"),r.a.createElement(z,{onClick:function(){return e.addOpeningBalance()},filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Open"))))):null)}}]),n}(a.Component),xi=Object(li.a)((function(e){return{currencyElement:{}}}))(yi);function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}var _i=function(e){X()(n,e);var t=Si(n);function n(){return j()(this,n),t.apply(this,arguments)}return V()(n,[{key:"render",value:function(){return r.a.createElement(Yn,{marginRight:!0},r.a.createElement(xi,null),r.a.createElement(ni,null),r.a.createElement(mi,null))}}]),n}(a.Component),wi=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),i=s()(o,2),u=(i[0],i[1]),m=Object(a.useState)(JSON.parse(localStorage.getItem("cashierLogged")).cashier),d=s()(m,2),p=(d[0],d[1],JSON.parse(localStorage.getItem("cashierLogged")).bank.name),f=JSON.parse(localStorage.getItem("cashierLogged")).bank.logo,g=Object(a.useState)({}),h=s()(g,2),b=h[0],v=h[1],y=Object(a.useState)({}),x=s()(y,2),S=x[0],_=x[1],w=function(){setInterval((function(){vr("cashier").then((function(e){v(e.stats)})).catch((function(e){c(!1)})),xr().then((function(e){_(e.stats)})).catch((function(e){c(!1)}))}),3e3)};return Object(a.useEffect)((function(){w()}),[]),l?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(a.Fragment,null,r.a.createElement(E.Helmet,null,r.a.createElement("title",null,"Merchant Dashboard | Cashier | E-WALLET "),r.a.createElement("meta",{name:"description",content:"Description of Dashboard"})),r.a.createElement(Mo,{active:"dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(_i,null),r.a.createElement(Hn,null,r.a.createElement(rt,null,r.a.createElement(ct,{cW:"100%"},r.a.createElement(it,{marginBottom:"20px",buttonMarginTop:"32px",smallValue:!0,style:{textAlign:"center"}},r.a.createElement("h4",null,"Opening Balance"),r.a.createElement("div",{className:"cardValue"},"XOF ",S.openingBalance))),r.a.createElement(Ao,{no:b.bills_paid}),r.a.createElement(jo,{amount:b.amount_collected}),r.a.createElement(qo,{penalty:b.penalty_collected})),r.a.createElement(ei,{setLoading:function(e){},invoice:u}))),r.a.createElement(aa,{bankname:p,banklogo:f}))},ki=(n(444),n(332)),Ni=n.n(ki),Ci=n(333),Bi=n.n(Ci),Oi=function(e){var t=r.a.useState(e.offeringlist.filter((function(e){return"0"===e.type}))),n=s()(t,2),a=(n[0],n[1],r.a.useState(e.offeringlist.filter((function(e){return"0"===e.type})))),l=s()(a,2),c=l[0],o=(l[1],r.a.useState(e.offeringlist.filter((function(e){return"1"===e.type})))),i=s()(o,2),u=i[0],m=(i[1],r.a.useState(0)),d=s()(m,2),p=(d[0],d[1],r.a.useState("product")),f=s()(p,2),g=f[0],h=f[1],E=r.a.useState(e.taxlist),b=s()(E,2),v=b[0],y=(b[1],r.a.useState(e.items)),x=s()(y,2),S=x[0],_=x[1],w=function(t,n){var a=S.filter((function(e){return t!==e}));e.totalamount(S[n].amount,0),e.totalamountwithouttax(S[n].amountNoTax,0),e.totaltax(S[n].taxAmount,0),_(a),e.deleteitem(n)},k=function(t){var n=gc()(S);if(n.filter((function(e){return e.name===t.target.value})).length>0)w(n[t.target.id],t.target.id);else{var a=e.offeringlist.filter((function(e){return e.name===t.target.value})),r=n[t.target.id].tax,l=n[t.target.id].quantity,c=parseFloat(n[t.target.id].amountNoTax),o=parseFloat(n[t.target.id].taxAmount),i=parseFloat(n[t.target.id].amount),u=parseFloat(a[0].unit_price)*parseFloat(l),s=u*(parseFloat(r)/100),m=parseFloat(u+s);e.totalamount(i,m),e.totalamountwithouttax(c,u),e.totaltax(o,s),n[t.target.id]={name:a[0].name,description:a[0].description,denomination:a[0].denomination,unitOfMeasure:a[0].unit_of_measure,unitPrice:a[0].unit_price,quantity:l,tax:r,amount:m,amountNoTax:u,taxAmount:s},_(n),e.itemcodechange(a[0].code,t.target.id)}},N=function(t){var n=e.taxlist.filter((function(e){return e.value===parseFloat(t.target.value)})),a=gc()(S);void 0===t.target.value||Number.isNaN(parseFloat(t.target.value))?a[t.target.id].tax=0:a[t.target.id].tax=parseFloat(t.target.value);var r=parseFloat(a[t.target.id].amountNoTax),l=parseFloat(a[t.target.id].taxAmount),c=parseFloat(a[t.target.id].amount),o=parseFloat(a[t.target.id].unitPrice)*parseFloat(a[t.target.id].quantity),i=o*(parseFloat(a[t.target.id].tax)/100),u=parseFloat(o+i);a[t.target.id].amount=u,a[t.target.id].amountNoTax=o,a[t.target.id].taxAmount=i,_(a),e.taxcodechange(n[0].code,u,t.target.id),e.totalamount(c,u),e.totalamountwithouttax(r,o),e.totaltax(l,i)},C=function(t){var n=gc()(S);void 0===t.target.value||Number.isNaN(parseFloat(t.target.value))?n[t.target.id].quantity=0:n[t.target.id].quantity=parseFloat(t.target.value);var a=parseFloat(n[t.target.id].amountNoTax),r=parseFloat(n[t.target.id].taxAmount),l=parseFloat(n[t.target.id].amount),c=parseFloat(n[t.target.id].unitPrice)*parseFloat(n[t.target.id].quantity),o=c*(parseFloat(n[t.target.id].tax)/100),i=parseFloat(c+o);n[t.target.id].amount=i,n[t.target.id].amountNoTax=c,n[t.target.id].taxAmount=o,_(n),e.quantitychange(parseFloat(t.target.value),i,t.target.id),e.totalamount(l,i),e.totalamountwithouttax(a,c),e.totaltax(r,o)};return r.a.createElement("form",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px"}},r.a.createElement(z,{className:"product"===g?"active":"",onClick:function(){"product"!==g&&(h("product"),_([{name:"",description:"",denomination:"",unitOfMeasure:"",unitPrice:0,quantity:0,tax:0,amount:0,amountNoTax:0,taxAmount:0}]),e.reset())},marginRight:"5px",padding:"5px"},"Product"),r.a.createElement(z,{className:"service"===g?"active":"",onClick:function(){"service"!==g&&(h("service"),_([{name:"",description:"",denomination:"",unitOfMeasure:"",unitPrice:0,quantity:0,tax:0,amount:0,amountNoTax:0,taxAmount:0}]),e.reset())},marginLeft:"20px"},"Service")),r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Offering Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Unit of measure"),r.a.createElement("th",null,"Unit Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Amount Without Tax"),r.a.createElement("th",null,"Tax %"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,S.map((function(e,t){return r.a.createElement("tr",{key:e.index},r.a.createElement("td",{smallTd:!0},r.a.createElement(ha,{onChange:k},r.a.createElement(ya,{noPadding:!0,name:"name",id:t,style:{marginBottom:"0px"},required:!0,value:e.name},r.a.createElement("option",{value:""},"Select Name"),("product"===g?c:u).map((function(e,t){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))))),r.a.createElement("td",{smallTd:!0},e.description),r.a.createElement("td",{smallTd:!0},e.unitOfMeasure),r.a.createElement("td",{smallTd:!0},e.unitPrice),r.a.createElement("td",{smallTd:!0},r.a.createElement(ha,{onChange:C,required:!0},r.a.createElement(F,{noMargin:!0,noPadding:!0,type:"text",name:"quantity",id:t,required:!0,value:e.quantity}))),r.a.createElement("td",null,e.amountNoTax),r.a.createElement("td",{smallTd:!0},r.a.createElement(ha,{onChange:N,required:!0},r.a.createElement(ya,{noPadding:!0,name:"tax",id:t,style:{marginBottom:"0px"},value:e.tax,required:!0},r.a.createElement("option",{value:""},"Select tax"),v.map((function(e,t){return r.a.createElement("option",{key:e.name,value:e.value},e.value)}))))),r.a.createElement("td",{smallTd:!0},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",null,e.amount),r.a.createElement("span",{className:"absoluteMiddleRight primary",onClick:function(){return w(e,t)}},0!==t?r.a.createElement(Ni.a,{style:{color:"#f5a623",fontSize:30}}):null))))})))),r.a.createElement("div",{onClick:function(t){return _([].concat(gc()(S),[{name:"",description:"",denomination:"",unitOfMeasure:"",unitPrice:0,quantity:0,tax:0,amount:0,amountNoTax:0,taxAmount:0}])),void e.addnewitem()},style:{marginBottom:"10px",marginLeft:"10px"}},r.a.createElement(Bi.a,{style:{color:"#f5a623",fontSize:30}})))};var Pi=function(e){var t=r.a.useState(""),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).merchant.username.slice(0,3)),i=s()(o,2),u=i[0],m=(i[1],r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).branch.username.slice(0,3))),d=s()(m,2),p=d[0],f=(d[1],r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).position.name)),g=s()(f,2),h=g[0],E=(g[1],r.a.useState(e.offeringlist)),y=s()(E,2),x=y[0],S=(y[1],r.a.useState(e.taxlist)),_=s()(S,2),w=_[0],k=(_[1],r.a.useState([])),N=s()(k,2),C=N[0],B=N[1],O=r.a.useState(!0),P=s()(O,2),T=P[0],I=P[1],R=r.a.useState(""),L=s()(R,2),D=L[0],M=L[1],W=r.a.useState(""),A=s()(W,2),j=A[0],q=A[1],V=r.a.useState(""),H=s()(V,2),U=H[0],J=(H[1],r.a.useState("")),X=s()(J,2),G=X[0],Z=(X[1],r.a.useState("")),Q=s()(Z,2),Y=Q[0],K=Q[1],$=r.a.useState(!1),ee=s()($,2),te=ee[0],ne=ee[1],ae=r.a.useState([]),re=s()(ae,2),le=re[0],ce=re[1],ie=r.a.useState(0),ue=s()(ie,2),se=ue[0],ge=ue[1],Ee=r.a.useState(e.defaultperiod),ve=s()(Ee,2),ye=ve[0],xe=(ve[1],r.a.useState(e.termlist)),_e=s()(xe,2),we=_e[0],ke=(_e[1],r.a.useState({})),Ne=s()(ke,2),Ce=(Ne[0],Ne[1],r.a.useState("")),Be=s()(Ce,2),Oe=Be[0],Pe=Be[1],Te=r.a.useState(e.countrylist),Ie=s()(Te,2),Re=Ie[0],Le=(Ie[1],r.a.useState(e.grouplist)),De=s()(Le,2),Me=De[0],ze=(De[1],r.a.useState(e.groupId)),We=s()(ze,2),Fe=We[0],Ae=(We[1],r.a.useState(e.defaultcountry)),je=s()(Ae,2),qe=(je[0],je[1],r.a.useState(0)),Ve=s()(qe,2),He=Ve[0],Ue=Ve[1],Je=r.a.useState(0),Xe=s()(Je,2),Ge=Xe[0],Ze=Xe[1],Qe=new Date,Ye="".concat(Qe.getDate()+1<10?"0".concat(Qe.getDate()):Qe.getDate(),"/").concat(Qe.getMonth()+1<10?"0".concat(Qe.getMonth()+1):Qe.getMonth()+1,"/").concat(Qe.getFullYear()),$e=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(!0),fr().then((function(e){var t="".concat(u).concat(p).concat(h).concat(e.counter);c(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){ce([].concat(gc()(le),[{item_code:"",quantity:0,tax_code:"",total_amount:0}]))},nt=function(e){ce(le.filter((function(t,n){return n!==e})))},at=function(e,t){var n=gc()(le);n[t].item_code=e,ce(n)},lt=function(e,t,n){var a=gc()(le);a[n].quantity=e,a[n].total_amount=t,ce(a)},ot=function(e,t,n){var a=gc()(le);a[n].tax_code=e,a[n].total_amount=t,ce(a)},it=function(e,t){ge(se-e+t)},ut=function(e,t){Ue(He-e+t)},mt=function(e,t){Ze(Ge-e+t)},dt=function(){ge(0)},pt=function(e){return!!e&&(10===e.target.value.length&&new Promise((function(t,n){he.a.post("".concat(be,"/merchantStaff/getCustomerForMobile"),{mobile:e.target.value}).then((function(e){if(e.data.error||1!==e.data.status)return t(!1),M(""),q(""),K(""),ne(!0),!1;M(e.data.customer.name),q(e.data.customer.email),K(e.data.customer.customer_code),ne(!1)})).catch((function(e){t(!1)}))})))},ft=function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==D&&(n.name=D),""!==Y&&(n.customer_code=Y),"update"===e.type?n.number=e.invoice.number:n.number="Draft".concat(Math.floor(1e9*Math.random())),n.items=le,n.paid=0,n.is_validated=0,n.amount=se,(a=new Date).setDate(a.getDate()+we[n.term].days),n.due_date="".concat(a.getDate()+1<10?"0".concat(a.getDate()):a.getDate(),"/").concat(a.getMonth()+1<10?"0".concat(a.getMonth()+1):a.getMonth()+1,"/").concat(a.getFullYear()),n.bill_period=ye,"create"!==e.type){t.next=16;break}return t.next=14,Br(e,n,"draft");case 14:t.next=19;break;case 16:return n.invoice_id=e.invoice._id,t.next=19,Pr(e,n,"update");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),gt=function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Or(e,n);case 2:ne(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ht=function(){return Re.map((function(e,t){return r.a.createElement("option",{key:e.ccode,value:t},e.ccode)}))};return Object(a.useEffect)((function(){fe(e.type),function(){if(e.invoice.items){var t=[];e.invoice.items.map((function(e){var n={name:e.item_desc.name,description:e.item_desc.description,denomination:e.item_desc.denomination,unitOfMeasure:e.item_desc.unit_of_measure,unitPrice:e.item_desc.unit_price,quantity:e.quantity,tax:e.tax_desc.value,amount:e.total_amount,amountNoTax:e.quantity*e.item_desc.unit_price,taxAmount:e.total_amount-e.quantity*e.item_desc.unit_price};t.push(n)})),B(t)}else{var n=[];n.push({name:"",description:"",denomination:"",unitOfMeasure:"",unitPrice:0,quantity:0,tax:0,amount:0,amountNoTax:0,taxAmount:0}),B(n)}}(),function(){if("update"===e.type){var t=[];e.invoice.items.map((function(e){var n={item_code:e.item_desc.code,quantity:e.quantity,tax_code:e.tax_desc.code,total_amount:e.total_amount};t.push(n)})),ce(t)}else{var n=[];n.push({item_code:"",quantity:0,tax_code:"",total_amount:0}),ce(n)}}(),function(){if("update"===e.type){var t=e.invoice.items.reduce((function(e,t){return e+t.quantity*t.item_desc.unit_price}),0);Ue(t),ge(e.invoice.amount),Ze(e.invoice.amount-t)}}(),$e(),I(!1),console.log(e.termlist),console.log(e.defaultterm);var t=e.termlist.findIndex((function(t){return t.name==e.defaultterm}));console.log(t),Pe(t)}),[]),T?r.a.createElement(oe,null):r.a.createElement(bt,{accentedH1:!0,bigBody:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{number:e.invoice.number||"",name:e.invoice.name||"",last_name:e.invoice.last_name||"",address:e.invoice.address||"",amount:e.invoice.amount||"",bill_period:e.invoice.bill_period||"",group_id:e.invoice.group_id||Fe,term:e.invoice.term||Oe,bill_date:e.invoice.bill_date||Ye,description:e.invoice.description||"",mobile:e.invoice.mobile||"",customer_code:e.invoice.customer_code||"",email:e.invoice.email||"",ccode:e.invoice.ccode||"",items:[]},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==D&&(n.name=D),""!==Y&&(n.customer_code=Y),"invoice"===e.mode?(n.number="".concat(l),n.amount=se):(n.number="".concat(n.number,"C"),n.is_counter=1,n.reference_invoice=e.invoice.number,n.amount=-se),n.items=le,n.paid=0,n.is_validated=1,(a=new Date).setDate(a.getDate()+we[n.term].days),n.due_date="".concat(a.getDate()+1<10?"0".concat(a.getDate()):a.getDate(),"/").concat(a.getMonth()+1<10?"0".concat(a.getMonth()+1):a.getMonth()+1,"/").concat(a.getFullYear()),n.bill_period=ye,"invoice"!==e.mode){t.next=21;break}if("create"!==e.type){t.next=16;break}return t.next=14,Br(e,n,"invoice").then(function(){var t=et()(Ke.a.mark((function t(n,a){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(a),!n){t.next=5;break}Se(n,"error"),t.next=8;break;case 5:if("invoice"!==e.mode){t.next=8;break}return t.next=8,Er(e);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 14:t.next=19;break;case 16:return n.invoice_id=e.invoice._id,t.next=19,Pr(e,n,"update").then(function(){var t=et()(Ke.a.mark((function t(n,a){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}Se(n,"error"),t.next=8;break;case 4:if("invoice"!==e.mode){t.next=8;break}return console.log(a),t.next=8,Er(e);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 19:t.next=23;break;case 21:return t.next=23,Br(e,n,"invoice").then(function(){var t=et()(Ke.a.mark((function t(n,a){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}Se(n,"error"),t.next=8;break;case 4:if("invoice"!==e.mode){t.next=8;break}return console.log(a),t.next=8,Er(e);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({mobile:v.e().min(10,"number should be atleast 10 digits").max(10,"number cannot exceed 10 digits").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Mobile no must be valid").required("Mobile no is required"),term:v.e().required("Bill Term is required")})},(function(t){var n=t.values,a=(t.touched,t.errors,t.isSubmitting),c=t.handleChange,o=t.handleBlur,i=t.handleSubmit;t.handleFocus,t.setFieldValue;return r.a.createElement("div",null,"invoice"===e.mode?r.a.createElement("h1",null,"update"===e.type?"Edit Invoice":"Create Invoice"):r.a.createElement("h1",null,"Counter Invoice"),r.a.createElement(b.c,null,"invoice"===e.mode?r.a.createElement(rt,null,r.a.createElement(ct,{cW:"10%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement(ya,{name:"ccode",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.ccode,onChange:c,required:!0},ht()))),r.a.createElement(ct,{cW:"40%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Mobile Number*"),r.a.createElement(F,{type:"text",pattern:"[0-9]{10}",title:"10 Digit numeric value",name:"mobile",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.mobile,onChange:function(e){c(e),pt(e)},required:!0}),r.a.createElement(b.a,{name:"mobile",component:me}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Bill Number"),r.a.createElement(F,{type:"text",name:"number",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:l,placeholder:l,onChange:c,required:!0}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===Y?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Customer Code*"),r.a.createElement(F,{type:"text",name:"customer_code",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.customer_code,onChange:c,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Customer Code*"),r.a.createElement(F,{type:"text",name:"customer_code",value:n.customer_code,placeholder:Y})))):r.a.createElement(rt,null,r.a.createElement(ct,{cW:"10%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement(ya,{name:"ccode",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.ccode,onChange:c,required:!0,disabled:!0},ht()))),r.a.createElement(ct,{cW:"40%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Mobile Number*"),r.a.createElement(F,{type:"text",pattern:"[0-9]{10}",title:"10 Digit numeric value",name:"mobile",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.mobile,onChange:function(e){c(e),pt(e)},required:!0,disabled:!0}),r.a.createElement(b.a,{name:"mobile",component:me}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Bill Number"),r.a.createElement(F,{type:"text",name:"number",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:"".concat(n.number,"C"),placeholder:"".concat(n.number,"C"),onChange:c,required:!0,disabled:!0}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===Y?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Customer Code*"),r.a.createElement(F,{type:"text",name:"customer_code",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.customer_code,onChange:c,required:!0,disabled:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Customer Code*"),r.a.createElement(F,{type:"text",name:"customer_code",value:n.customer_code,placeholder:Y})))),"invoice"===e.mode?r.a.createElement(rt,null,r.a.createElement(ct,{cW:"15%",mR:"2%"},""===D?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.name,onChange:c,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Name*"),r.a.createElement(F,{type:"text",name:"name",value:n.name,placeholder:D}))),r.a.createElement(ct,{cW:"15%",mR:"2%"},""===U?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Last Name"),r.a.createElement(F,{type:"text",name:"last_name",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.last_name,onChange:c,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Last Name*"),r.a.createElement(F,{type:"text",name:"last_name",value:n.last_name,placeholder:U}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===j?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Email*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.email,onChange:c,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Email*"),r.a.createElement(F,{type:"email",name:"email",value:n.email,placeholder:j}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===G?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Address*"),r.a.createElement(F,{type:"text",name:"address",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.address,onChange:c,required:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Address"),r.a.createElement(F,{type:"text",name:"address",value:n.address,placeholder:G}))),r.a.createElement(ct,{cW:"20%"},te?r.a.createElement(ha,null,r.a.createElement(z,{type:"button",onClick:function(){gt(n)},marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500,marginBottom:"6px"}},r.a.createElement("span",null,"Create Customer"))):null)):r.a.createElement(rt,null,r.a.createElement(ct,{cW:"15%",mR:"2%"},""===D?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.name,onChange:c,required:!0,disabled:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Name*"),r.a.createElement(F,{type:"text",name:"name",value:n.name,placeholder:D}))),r.a.createElement(ct,{cW:"15%",mR:"2%"},""===U?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Last Name*"),r.a.createElement(F,{type:"text",name:"last_name",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.last_name,onChange:c,required:!0,disabled:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Last Name"),r.a.createElement(F,{type:"text",name:"last_name",value:n.last_name,placeholder:U}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===j?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Email*"),r.a.createElement(F,{type:"email",name:"email",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.email,onChange:c,required:!0,disabled:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Email*"),r.a.createElement(F,{type:"email",name:"email",value:n.email,placeholder:j}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},""===G?r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Address*"),r.a.createElement(F,{type:"text",name:"address",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:n.address,onChange:c,required:!0,disabled:!0})):r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Address*"),r.a.createElement(F,{type:"text",name:"address",value:n.address,placeholder:G}))),r.a.createElement(ct,{cW:"20%"},te?r.a.createElement(ha,null,r.a.createElement(z,{type:"button",onClick:function(){gt(n)},marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500,marginBottom:"6px"}},r.a.createElement("span",null,"Create Customer"))):null)),r.a.createElement(Oi,{offeringlist:x,taxlist:w,totalamount:it,addnewitem:tt,deleteitem:nt,totalamountwithouttax:ut,totaltax:mt,itemcodechange:at,quantitychange:lt,taxcodechange:ot,reset:dt,type:e.type,items:C}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Category"),r.a.createElement(ya,{name:"group_id",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},onChange:c,value:n.group_id,required:!0},Me.map((function(e,t){return r.a.createElement("option",{key:e.name,value:e._id},e.name)}))),r.a.createElement(b.a,{name:"term",component:me}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Bill Date"),r.a.createElement(F,{type:"text",name:"bill_date",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},value:Ye,placeholder:Ye,onChange:c,required:!0}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Bill Period*"),r.a.createElement(F,{type:"text",name:"bill_period",value:ye.period_name,onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},placeholder:ye.period_name,disabled:!0}))),r.a.createElement(ct,{cW:"25%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement(ya,{name:"term",onFocus:function(e){c(e),de(e)},onBlur:function(e){o(e),c(e),pe(e)},onChange:c,value:n.term,required:!0},r.a.createElement("option",{key:"",value:""},"Select Term"),we.map((function(e,t){return r.a.createElement("option",{key:e.name,value:t},e.name)}))),r.a.createElement(b.a,{name:"term",component:me})))),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"75%"}),r.a.createElement(ct,{cW:"25%"},r.a.createElement(rt,{style:{marginTop:"7px",fontSize:"18px"}},r.a.createElement(ct,{cW:"50%"},"Total Amount"),r.a.createElement(ct,{cW:"50%"},"XOF"," ",He)),r.a.createElement(rt,{style:{marginTop:"7px",fontSize:"18px"}},r.a.createElement(ct,{cW:"50%"},"Total Tax"),r.a.createElement(ct,{cW:"50%"},"XOF"," ",Ge)),r.a.createElement(rt,{style:{marginTop:"7px",fontSize:"18px"}},r.a.createElement(ct,{cW:"50%"},"Sum Total"),r.a.createElement(ct,{cW:"50%"},"XOF"," ",se)))),"invoice"===e.mode?r.a.createElement(rt,null,r.a.createElement(ct,{cW:"50%"},r.a.createElement(z,{type:"button",filledBtn:!0,onClick:function(){ft(n)},marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Save As Draft"),r.a.createElement("span",null," Total XOF ",se))),r.a.createElement(ct,{cw:"50%"},r.a.createElement(z,{type:"submit",disabled:a,onClick:i,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null," ","update"===e.type?"Update and Validate Invoice":"Validate Invoice"),r.a.createElement("span",null," Total XOF ",se)))):r.a.createElement(rt,null,r.a.createElement(ct,{cw:"33%"},r.a.createElement(z,{type:"submit",disabled:a,onClick:i,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Create Counter Invoice"),r.a.createElement("span",null," Total XOF ",-se))))))})))},Ti=n(334),Ii=n.n(Ti);function Ri(){var e=k()(["\n  width: 100%;\n  z-index: 1;\n  height: auto;\n  background: transparent;\n  box-sizing: border-box;\n  padding: 10px;\n  padding-right: 0;\n  border: solid 1px rgba(0, 0, 0, 0.32);\n\n  border-radius: 4px;\n  display: block;\n  margin-bottom: 5px;\n  outline: 0;\n  font-size: 14px;\n  line-height: 19px;\n  &:focus {\n    border: solid 1px ",";\n  }\n"]);return Ri=function(){return e},e}var Li=f.c.select(Ri(),(function(e){return e.theme.primary})),Di=function(e){var t=Object(a.useState)(e.groups),n=s()(t,2),l=n[0],c=(n[1],Object(a.useState)(!1)),o=s()(c,2),i=o[0];o[1];return r.a.createElement(Li,e,i?r.a.createElement(Ii.a,{size:30,thickness:5,color:"primary"}):null,l&&l.length>0?function(){if(!i)return l.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))}():null)};var Mi=function(e){var t=Object(a.useState)([]),n=s()(t,2),l=n[0],c=n[1];return r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{group_id:e.groupId,document_hash:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){var a;return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={group_id:e.groupId,invoices:l},t.next=3,Cr(e,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.values,a=t.isSubmitting,l=t.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"Upload Invoice"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement(Di,{groups:e.groups})),r.a.createElement(ha,null,r.a.createElement(ba,{bgImg:"/src/assets/images/csvImage.jpg"},n.document_hash?r.a.createElement("a",{className:"uploadedImg",target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return Tr("csv")}},r.a.createElement("input",{type:"file",id:"csv","data-key":"csv",accept:".csv",onChange:function(e){Ir(e,(function(e){if(e&&e.length>0){var t=function(e){var t=[];return e.map((function(e){if(t.filter((function(t,n){return t.number===e.number})).length>0){var n={item_code:e.item_code,quantity:e.quantity,tax_code:e.tax_code,total_amount:e.total_amount},a=t.findIndex((function(t){return t.number===e.number}));t[a].items.push(n)}else{var r={number:e.number,customer_code:e.customer_code,name:e.name,amount:e.amount,due_date:e.due_date,bill_date:e.bill_date,description:e.description,is_created:0,is_validated:1,mobile:e.mobile,ccode:e.ccode,items:[{item_code:e.item_code,quantity:e.quantity,tax_code:e.tax_code,total_amount:e.total_amount}],bill_period:{start_date:e.start_date,end_date:e.end_date,period_name:e.period_name}};t.push(r)}})),t}(e);c(t),l("document_hash","success",!0)}}))}}),n.document_hash?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===n.document_hash?r.a.createElement("span",null,"Uploaded File"):r.a.createElement("span",null,"Change File"),"*")))),r.a.createElement(ha,null,r.a.createElement("a",{target:"_BLANK",href:"/src/assets/invoice_format.csv",id:"pdfdown"},"Click here to download sample invoice file")),r.a.createElement(z,{type:"submit",disabled:a,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500,width:"80%"}},a?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Upload Invoice"))))})))},zi=n(335),Wi=n.n(zi);var Fi=function(e){var t=Object(a.useState)(e.invoice.items.reduce((function(e,t){return e+t.quantity*t.item_desc.unit_price}),0)),n=s()(t,2),l=n[0],c=(n[1],Object(a.useState)(e.invoice.items.reduce((function(e,t){return e+(t.total_amount-t.quantity*t.item_desc.unit_price)}),0))),o=s()(c,2),i=o[0];return o[1],r.a.createElement(bt,{bigBody:!0,accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null,e.invoice.name),r.a.createElement(it,{bigPadding:!0},r.a.createElement(zn,null,r.a.createElement(rt,null,r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Customer Code"),e.invoice.customer_code?r.a.createElement(ct,{className:"popInfoRight"},e.invoice.customer_code):r.a.createElement(ct,{className:"popInfoRight"},"Passing by customer")),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Mobile"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.mobile))),r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Bill No"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.number)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Bill Date"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.bill_date))),r.a.createElement(ct,{cW:"33%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Due Date"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.due_date)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Period"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.bill_period.period_name)))),r.a.createElement(rt,null,r.a.createElement(ct,null)),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Unit of measure"),r.a.createElement("th",null,"Unit Price"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Tax %"),r.a.createElement("th",null,"Amount with tax"))),r.a.createElement("tbody",null,e.invoice.items&&e.invoice.items.length>0?e.invoice.items.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.item_desc.name),r.a.createElement("td",null,e.item_desc.description),r.a.createElement("td",null,e.item_desc.code),r.a.createElement("td",null,e.item_desc.unit_of_measure),r.a.createElement("td",null,e.item_desc.unit_price),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.quantity*e.item_desc.unit_price),r.a.createElement("td",null,e.tax_desc.value),r.a.createElement("td",null,e.total_amount))})):null))),r.a.createElement(rt,{style:{marginTop:"8px"}},r.a.createElement(ct,{cW:"50%"}),r.a.createElement(ct,{cW:"25%"}),r.a.createElement(ct,{cW:"25%"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Total Amount"),r.a.createElement(ct,{className:"popInfoRight"},l)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Total Tax"),r.a.createElement(ct,{className:"popInfoRight"},i)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"popInfoLeft"},"Sum Total"),r.a.createElement(ct,{className:"popInfoRight"},e.invoice.amount)))),0===e.invoice.is_validated?r.a.createElement(rt,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ct,{cW:"25%"},r.a.createElement(z,{type:"button",filledBtn:!0,onClick:function(){e.edit("update",e.invoice,"invoice")},marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons",style:{marginRight:"2%"}},r.a.createElement(qa.a,null)),"Edit"))),r.a.createElement(ct,{cW:"25%"},r.a.createElement(z,{type:"button",filledBtn:!0,onClick:function(){e.delete(e.invoice._id)},marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons",style:{marginRight:"2%"}},r.a.createElement(Wi.a,null)),"Delete")))):null)))},Ai=n(575),ji=Object(li.a)({indicator:{display:"flex",justifyContent:"center",backgroundColor:"transparent","& > div":{maxWidth:40,width:"100%",backgroundColor:"#417505"}}})((function(e){return r.a.createElement(Ai.a,i()({},e,{TabIndicatorProps:{children:r.a.createElement("div",null)}}))})),qi=n(571),Vi=Object(li.a)((function(e){return{root:{margin:"1%",color:"#417505",textAlign:"center",width:"23%",textTransform:"none",fontSize:15,outline:0,fontWeight:e.typography.fontWeightBold},selected:{"&$selected":{outline:"none",border:"none"}}}}))((function(e){return r.a.createElement(qi.a,i()({disableRipple:!0},e))}));var Hi=function(e){var t=JSON.parse(localStorage.getItem("cashierLogged")).bank.name,n=JSON.parse(localStorage.getItem("cashierLogged")).bank.logo,l=r.a.useState(!1),c=s()(l,2),o=c[0],i=c[1],u=r.a.useState(),m=s()(u,2),d=m[0],p=m[1],f=r.a.useState(""),g=s()(f,2),h=g[0],b=g[1],v=Object(a.useState)({}),x=s()(v,2),S=x[0],_=x[1],w=r.a.useState(!1),k=s()(w,2),N=k[0],C=k[1],B=r.a.useState(!1),O=s()(B,2),P=O[0],T=O[1],I=r.a.useState(!1),R=s()(I,2),L=R[0],D=R[1],M=r.a.useState(!1),W=s()(M,2),A=(W[0],W[1],r.a.useState("myinvoices")),j=s()(A,2),q=j[0],V=j[1],H=r.a.useState(!1),U=s()(H,2),J=U[0],X=U[1],G=r.a.useState([]),Z=s()(G,2),Q=Z[0],Y=Z[1],K=r.a.useState({}),$=s()(K,2),ee=$[0],te=$[1],ne=r.a.useState(""),ae=s()(ne,2),re=ae[0],le=ae[1],ce=r.a.useState([]),ie=s()(ce,2),ue=ie[0],se=ie[1],me=r.a.useState({}),de=s()(me,2),pe=de[0],fe=de[1],ge=r.a.useState([]),he=s()(ge,2),Ee=he[0],be=he[1],ve=r.a.useState([]),ye=s()(ve,2),xe=ye[0],_e=ye[1],we=r.a.useState([]),ke=s()(we,2),Ne=ke[0],Ce=ke[1],Be=r.a.useState("new"),Oe=s()(Be,2),Pe=Oe[0],Te=Oe[1],Ie=r.a.useState({}),Re=s()(Ie,2),Le=Re[0],De=Re[1],Me=r.a.useState({}),ze=s()(Me,2),We=ze[0],Fe=ze[1],Ae=r.a.useState(!0),je=s()(Ae,2),qe=je[0],Ve=je[1],He=r.a.useState(0),Ue=s()(He,2),Je=Ue[0],Xe=Ue[1],Ge=r.a.useState(0),Ze=s()(Ge,2),Qe=(Ze[0],Ze[1]),Ye=r.a.useState([]),$e=s()(Ye,2),tt=($e[0],$e[1],r.a.useState([])),nt=s()(tt,2),at=nt[0],lt=nt[1],ot=r.a.useState([]),ut=s()(ot,2),st=ut[0],mt=ut[1],dt=r.a.useState([]),pt=s()(dt,2),ft=pt[0],gt=pt[1],ht=r.a.useState([]),Et=s()(ht,2),vt=Et[0],yt=Et[1],xt=r.a.useState([]),St=s()(xt,2),_t=St[0],wt=St[1],kt=Object(a.useState)(!1),Nt=s()(kt,2),Ct=Nt[0],Bt=Nt[1],Ot=Object(a.useState)(!1),Pt=s()(Ot,2),Tt=Pt[0],It=Pt[1],Rt=Object(a.useState)(!1),Lt=s()(Rt,2),Dt=Lt[0],Mt=Lt[1],zt=Object(a.useState)(0),Wt=s()(zt,2),Ft=Wt[0],At=Wt[1],jt=Object(a.useState)("Your OTP is"),qt=s()(jt,2),Vt=qt[0],Ht=(qt[1],Object(a.useState)("openingBalance")),Ut=s()(Ht,2),Jt=Ut[0],Xt=(Ut[1],Object(a.useState)("")),Gt=s()(Xt,2),Zt=(Gt[0],Gt[1]),Qt=Object(a.useState)(!1),Yt=s()(Qt,2),Kt=Yt[0],$t=Yt[1],en=Object(a.useState)(0),tn=s()(en,2),nn=tn[0],an=tn[1],rn=Object(a.useState)(0),ln=s()(rn,2),cn=ln[0],on=ln[1],un=Object(a.useState)(0),sn=s()(un,2),mn=sn[0],dn=sn[1],pn=Object(a.useState)(0),fn=s()(pn,2),gn=fn[0],hn=fn[1],En=JSON.parse(localStorage.getItem("cashierLogged")).position._id,bn=JSON.parse(localStorage.getItem("cashierLogged")).staff.email,vn=JSON.parse(localStorage.getItem("cashierLogged")).staff.mobile,yn=JSON.parse(localStorage.getItem("cashierLogged")).merchant._id,xn=function(){It(!1),Mt(!1)},Sn=function(){var e=30,t=setInterval((function(){e<=0?(clearInterval(t),Bt(!0)):(e=Number(e)-1,At(e))}),1e3)},_n=function(e){Ve(!0),yr(e).then((function(e){_(e.stats),Ve(!1)})).catch((function(e){Ve(!1)}))},wn=function(e){e.target.parentElement.querySelector("label").classList.add("focused")},kn=function(e){var t=e.target;""==t.value&&t.parentElement.querySelector("label").classList.remove("focused")},Nn=function(){At(30),Bt(!1),Sr(bn,vn,Jt,Vt).then((function(e){Zt(e.data.id),It(!0),Sn()})).catch((function(e){Ve(!1)}))},Cn=function(){At(30),Bt(!1),Sr(bn,vn,Jt,Vt).then((function(e){Zt(e.data.id),Mt(!0),Sn()})).catch((function(e){Ve(!1)}))},Bn=function(e,t,n){Te(e),le(n),D(!1),De(t),void 0===pe||void 0===ee?Se("Default setting not created","error"):i(!0)},On=function(e){Fe(e),D(!0)},Pn=function(e){var t=e.filter((function(e){return 0===e.is_validated})),n=e.filter((function(e){return 1===e.paid&&1===e.is_validated})),a=e.filter((function(e){return 0===e.paid&&1===e.is_validated&&!1===e.is_counter})),r=e.filter((function(e){return 0===e.paid&&1===e.is_validated&&!0===e.is_counter}));an(e.reduce((function(e,t){return e+t.amount}),0)),on(n.reduce((function(e,t){return e+t.amount}),0)),dn(a.reduce((function(e,t){return e+t.amount}),0)),hn(r.reduce((function(e,t){return e+t.amount}),0)),yt(r.reverse()),Ce(n.reverse()),lt(n.reverse()),mt(a.reverse()),gt(t.reverse())},Tn=function(){var e=et()(Ke.a.mark((function e(t){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve(!0),kr(t).then((function(e){if("myinvoices"===q){var n=e.list.filter((function(e){return e.group_id===t}));Pn(n)}else{var a=e.list.filter((function(e){return e.group_id!==t}));Pn(a)}Ve(!1)})).catch((function(e){return Ve(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),In=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("myinvoices"===q){e.next=3;break}return e.next=3,V("myinvoices");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rn=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("allinvoices"===q){e.next=3;break}return e.next=3,V("allinvoices");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=et()(Ke.a.mark((function e(){var t,n,a,r,l,c,o,i,u,s;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br(yn);case 2:return t=e.sent,wt(t.list),p(t.list[0]._id),b(t.list[0].name),e.next=8,yr(t.list[0]._id);case 8:return n=e.sent,_(n.stats),e.next=12,gr();case 12:return a=e.sent,T(a.access),e.next=16,kr(t.list[0]._id);case 16:return r=e.sent,"myinvoices"===q?(l=r.list.filter((function(e){return e.creator_id===En})),Pn(l)):(c=r.list.filter((function(e){return e.creator_id!==En})),Pn(c)),e.next=20,Lr();case 20:return o=e.sent,Y(o.list),e.next=24,Rr();case 24:return i=e.sent,_e(i.list),e.next=28,Dr();case 28:return u=e.sent,te(u.default_bill_period),se(u.bill_term_list),null!=u.default_bill_term&&fe(u.default_bill_term.name),e.next=34,pr();case 34:s=e.sent,be(s.list);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ve(!0),function(){e.apply(this,arguments)}(),Ve(!1)}),[q]),qe?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Invoice | Staff Position | E-WALLET ")),r.a.createElement(Ic,{active:"dashboard"}),r.a.createElement(zn,{style:{maxWidth:"1070px"},verticalMargin:!0},r.a.createElement(Yn,{marginRight:!0},r.a.createElement(it,{marginBottom:"10px",buttonMarginTop:"32px",bigPadding:!0,smallValue:!0},r.a.createElement("h4",{style:{color:"grey"}},"Current Period: ",r.a.createElement("b",null,r.a.createElement("span",{style:{color:"black"}},ee.period_name))),r.a.createElement("h4",{style:{color:"grey"}},"Current Category: ",r.a.createElement("b",null,r.a.createElement("span",{style:{color:"black"}},h))),r.a.createElement(rt,null,r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},S.is_closed?r.a.createElement(z,{dashBtn:!0,onClick:function(){return Nn()}},"Open My Day"):r.a.createElement(z,{dashBtn:!0,disabled:!0},"Day Opened At ",new Date(S.opening_time).getHours(),":",new Date(S.opening_time).getMinutes()))),r.a.createElement(rt,{style:{marginTop:"5px"}},r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},S.is_closed?r.a.createElement(z,{dashBtn:!0,disabled:!0},"Day Closed"):r.a.createElement(z,{dashBtn:!0,onClick:function(){return Bn("create",{},"invoice")}},"Create Invoice"))),r.a.createElement(rt,{style:{marginTop:"5px"}},r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},S.is_closed?r.a.createElement(z,{dashBtn:!0,disabled:!0},"Day Closed"):r.a.createElement(z,{dashBtn:!0,onClick:function(){C(!0)}},"Upload Invoice"))),r.a.createElement(rt,{style:{marginTop:"5px"}},r.a.createElement(ct,{style:{width:"100%",marginTop:"5px"},cw:"100%"},S.is_closed?r.a.createElement(z,{dashBtn:!0,disabled:!0},"Close my day"):r.a.createElement(z,{dashBtn:!0,onClick:function(){return Cn()}},"Close my day")))),r.a.createElement(it,{marginBottom:"54px",buttonMarginTop:"10px",bigPadding:!0,smallValue:!0},r.a.createElement("h3",null,"Categories"),_t.length>0?r.a.createElement("div",null,_t.map((function(e,t){return r.a.createElement(z,{dashBtn:!0,style:{marginTop:"5px",backgroundColor:d===e._id?"#5d87f1":"#97bfee"},onClick:function(){var t,n;t=e._id,n=e.name,b(n),p(t),Tn(t),_n(t)}},e.name)}))):" ")),r.a.createElement(Hn,null,r.a.createElement(Ec,{raised:S.bills_raised,paid:S.bills_paid,counter:S.counter_invoices}),r.a.createElement(bc,{raised:nn,paid:cn,pending:mn,counter:gn}),r.a.createElement(it,{bigPadding:!0},P?r.a.createElement("div",{style:{display:"flex",justifyContent:"left",marginTop:"10px"}},r.a.createElement(z,{className:"myinvoices"===q?"active":"",onClick:In,marginRight:"5px",padding:"5px"},"My invoices"),r.a.createElement(z,{className:"allinvoices"===q?"active":"",onClick:Rn,marginLeft:"20px",style:{marginLeft:"10px"}},"Other Invoices")):null,r.a.createElement("div",{className:"cardBody"},r.a.createElement(y.a,{container:!0},r.a.createElement(ji,{style:{width:"100%"},variant:"scrollable",scrollButtons:"auto",onChange:function(e,t){switch(Xe(t),t){case 0:Qe(0),X(!1),Ce(at);break;case 1:Qe(1),X(!0),Ce(st);break;case 2:Qe(2),X(!1),Ce(ft);break;case 3:Qe(3),X(!1),Ce(vt);break;default:X(!1),Ce(0===Je?at:1===Je?st:ft)}},value:Je},r.a.createElement(Vi,{disableFocusRipple:!0,disableRipple:!0,label:"Paid Invoices"}),r.a.createElement(Vi,{label:"Pending Invoices"}),r.a.createElement(Vi,{label:"Draft Invoices"}),r.a.createElement(Vi,{label:"Counter Invoices"}))),Ne&&Ne.length>0?r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Bill No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Mobile No"),r.a.createElement("th",null,"Due Date"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,Ne.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.number),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"XOF"," ",e.amount),r.a.createElement("td",null,e.mobile),r.a.createElement("td",null,e.due_date),J&&P?r.a.createElement("td",{className:"tac bold"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("td",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(z,{onClick:function(){return On(e)}},"View")),!1===e.has_counter_invoice?r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){Bn("update",e,"counterinvoice")}},"Create Counter Invoice"))):null)):r.a.createElement("td",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(z,{onClick:function(){return On(e)}},"View")))})))):r.a.createElement("h3",{style:{textAlign:"center",color:"grey"}},"No invoice found"))))),r.a.createElement(aa,{bankname:t,banklogo:n}),Tt?r.a.createElement(bt,{close:xn,accentedH1:!0},r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:function(){$t(!0),Ve(!0),_r().then((function(e){_n(d),$t(!1),xn(),Ve(!1)})).catch((function(e){Ve(!1)}))}},r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:wn,onBlur:kn,required:!0})),Kt?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},Ft)," ","to"," ",Ct?r.a.createElement("span",{className:"go",onClick:function(){Nn()}},"Resend"):r.a.createElement("span",null,"Resend"))))):null,Dt?r.a.createElement(bt,{close:xn,accentedH1:!0},r.a.createElement("div",null,r.a.createElement("h1",null,"Verify OTP"),r.a.createElement("form",{action:"",method:"post",onSubmit:function(){$t(!0),Ve(!0),wr().then((function(e){_n(d),$t(!1),xn(),Ve(!1)})).catch((function(e){Ve(!1)}))}},r.a.createElement(ha,null,r.a.createElement("label",null,"OTP*"),r.a.createElement(F,{type:"text",name:"otp",onFocus:wn,onBlur:kn,required:!0})),Kt?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px"},r.a.createElement("span",null,"Verify")),r.a.createElement("p",{className:"resend"},"Wait for ",r.a.createElement("span",{className:"timer"},Ft)," ","to"," ",Ct?r.a.createElement("span",{className:"go",onClick:function(){Cn()}},"Resend"):r.a.createElement("span",null,"Resend"))))):null,o?r.a.createElement(Pi,{onClose:function(){i(!1)},invoice:Le,taxlist:xe,offeringlist:Q,groupId:d,grouplist:_t,mode:re,termlist:ue,countrylist:Ee,defaultterm:pe,defaultperiod:ee,draftnumber:ft.length,refreshInvoiceList:function(){Tn(d),_n(d)},type:Pe}):null,N?r.a.createElement(Mi,{groupId:d,groups:_t,refreshInvoiceList:function(){return Tn(d)},onClose:function(){C(!1)}}):null,L?r.a.createElement(Fi,{groupId:d,invoice:We,onClose:function(){D(!1)},refreshInvoiceList:function(){return Tn(d)},edit:function(e,t,n){Bn(e,t,n)},delete:function(e){Pr({},{invoice_id:e},"delete").then((function(e){Tn(d),D(!1)}))}}):null)},Ui=n(336),Ji=n.n(Ui);var Xi=function(e){var t=JSON.parse(localStorage.getItem("merchantLogged")).token;return Object(a.useEffect)((function(){fe("update")})),console.log(ve),console.log(ye),console.log(e.merchant.logo),console.log(e.merchant.document_hash),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.merchant.name||"",logo:e.merchant.logo||"",description:e.merchant.description||"",document_hash:e.merchant.document_hash||"",email:e.merchant.email||"",mobile:e.merchant.mobile||"",merchant_id:e.merchant.username||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ht(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),validationSchema:v.c().shape({mobile:v.e().min(10,"number should be atleast 10 digits").max(10,"number cannot exceed 10 digits").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Mobile no must be valid").required("Mobile no is required"),merchant_id:v.e().min(3,"Merchant Id should be atleast 3 characters").required("Merchant Id is required"),name:v.e().min(3,"Merchant name should be atleast 3 characters").required("Merchant name is required"),logo:v.e().required("Merchant logo is required"),document_hash:v.e().required("Merchant contract is required"),email:v.e().email("Please provide a valid email").required("Email is required")})},(function(e){var n=e.values,a=e.touched,l=e.errors,c=e.isSubmitting,o=e.handleChange,i=e.handleBlur;e.handleSubmit,e.setFieldValue;return r.a.createElement("div",null,r.a.createElement("h1",null,"Update Merchant"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Merchant ID"),r.a.createElement(F,{size:"small",name:"merchant_id",fullWidth:!0,variant:"outlined",style:{marginBottom:"14px"},type:"text",value:n.merchant_id,onFocus:function(e){o(e),de(e)},onBlur:function(e){i(e),o(e),pe(e)},onChange:o}),r.a.createElement(x.a,{variant:"body2",color:"error"},l.merchant_id&&a.merchant_id?l.merchant_id:"")),r.a.createElement(ha,null,r.a.createElement("label",null,"Merchant Name"),r.a.createElement(F,{size:"small",name:"name",fullWidth:!0,variant:"outlined",style:{marginBottom:"14px"},type:"text",value:n.name,onChange:o,onFocus:function(e){o(e),de(e)},onBlur:function(e){i(e),o(e),pe(e)}}),r.a.createElement(x.a,{variant:"body2",color:"error"},l.name&&a.name?l.name:"")),r.a.createElement(ha,null,r.a.createElement("label",null,"Description"),r.a.createElement(Pe.a,{size:"small",name:"description",fullWidth:!0,multiline:!0,rows:"3",style:{marginBottom:"14px"},variant:"outlined",type:"text",value:n.description,onChange:o,onFocus:function(e){o(e),de(e)},onBlur:function(e){i(e),o(e),pe(e)}})),r.a.createElement(ha,null,r.a.createElement("label",null,"Contact Person Email"),r.a.createElement(Pe.a,{size:"small",name:"email",fullWidth:!0,variant:"outlined",style:{marginBottom:"14px"},type:"text",value:n.email,onChange:o,onFocus:function(e){o(e),de(e)},onBlur:function(e){i(e),o(e),pe(e)}}),r.a.createElement(x.a,{variant:"body2",color:"error"},l.email&&a.email?l.email:"")),r.a.createElement(ha,null,r.a.createElement("label",null,"Contact Person Phone Number"),r.a.createElement(Pe.a,{size:"small",name:"mobile",fullWidth:!0,variant:"outlined",style:{marginBottom:"14px"},type:"text",value:n.mobile,onChange:o,onFocus:function(e){o(e),de(e)},onBlur:function(e){i(e),o(e),pe(e)}}),r.a.createElement(x.a,{variant:"body2",color:"error"},l.mobile&&a.mobile?l.mobile:"")),r.a.createElement(ha,null,r.a.createElement(ba,{bgImg:ve+n.logo},n.logo?r.a.createElement("a",{className:"uploadedImg",href:ve+n.logo,target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return _a("logo")}},r.a.createElement("input",{type:"file",id:"logo",onChange:function(e){return wa(e,t,"merchant")},"data-key":"logo",accept:"image/jpeg, image/png, image/jpg"}),n.logo?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===n.logo?r.a.createElement("span",null,"Upload Logo"):r.a.createElement("span",null,"Change Logo"),"*"))),r.a.createElement(x.a,{variant:"body2",color:"error"},l.logo&&a.logo?l.logo:"")),r.a.createElement(ha,null,r.a.createElement(ba,{bgImg:Ji.a},n.document_hash?r.a.createElement("a",{className:"uploadedImg",href:"http://91d90ac373dc.sn.mynetname.net:30880/ipfs/".concat(n.document_hash),target:"_BLANK"}):" ",r.a.createElement("div",{className:"uploadTrigger",onClick:function(){return _a("document_hash")}},r.a.createElement("input",{type:"file",id:"logo","data-key":"logo",onChange:function(e){return wa(e,t,"merchant")}}),n.document_hash?" ":r.a.createElement("i",{className:"material-icons"},"cloud_upload"),r.a.createElement("label",null,""===n.document_hash?r.a.createElement("span",null,"Uploaded Contract"):r.a.createElement("span",null,"Change Contract"),"*")))),r.a.createElement(z,{type:"submit",disabled:c,filledBtn:!0,style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500},marginTop:"10px"},c?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Update Merchant"))))})))},Gi=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)(!1),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)({}),p=s()(d,2),f=p[0],g=p[1];Object(a.useEffect)((function(){m(!0);var e=JSON.parse(localStorage.getItem("merchantLogged")).details;g(e),m(!1)}),[]);return u?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | Settings")),r.a.createElement(qn,null),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:"info"}),r.a.createElement(Hn,null,r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr",style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"}},r.a.createElement(z,{className:"addBankButton",style:{padding:"8px"},onClick:function(){c(!0)},flex:!0},r.a.createElement("span",null,"Edit"))),r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Merchant Name"),r.a.createElement(ct,{className:"infoRight"},f.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Merchant Code"),r.a.createElement(ct,{className:"infoRight"},f.username)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Email"),r.a.createElement(ct,{className:"infoRight"},f.email)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Phone Number"),r.a.createElement(ct,{className:"infoRight"},f.mobile)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Description"),r.a.createElement(ct,{className:"infoRight"},f.description)))))),l?r.a.createElement(Xi,{refreshMerchantList:function(e){return function(e){m(!0),g(e);var t=JSON.parse(localStorage.getItem("merchantLogged"));t.details=e,localStorage.setItem("merchantLogged",JSON.stringify(t)),m(!1)}(e)},merchant:f,onClose:function(){c(!1)}}):null)},Zi=n(67),Qi=n.n(Zi),Yi=function(e){var t=e.component,n=Qi()(e,["component"]),a=n.type,l=localStorage.getItem("otpNo_".concat(a)),c=localStorage.getItem("".concat(a,"_name"));return l?r.a.createElement(d.b,i()({},n,{render:function(e){return r.a.createElement(t,i()({},n,e))}})):r.a.createElement(d.a,{to:{pathname:_e(a,c,"forgot-password"),state:{from:n.location.pathname}}})};Yi.propTypes={type:_.a.string.isRequired};var Ki=Yi,$i=function(e){var t=e.component,n=Qi()(e,["component"]),a=n.type,l=localStorage.getItem("".concat(a,"_name")),c=JSON.parse(localStorage.getItem("".concat(a,"Logged")));console.log(c),console.log(a);if(c){var o=c.token;return console.log(o),he.a.defaults.headers.common.Authorization=o,r.a.createElement(d.b,i()({},n,{render:function(e){return r.a.createElement(t,i()({},n,e))}}))}return r.a.createElement(d.a,{to:{pathname:_e(a,l,"login"),state:{from:n.location.pathname}}})};$i.propTypes={type:_.a.string.isRequired};var eu=$i;function tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function nu(){var e=k()(["\n  background: #fff;\n  border-radius: 4px;\n  width: 90%;\n  max-width: 648px;\n  padding: 20px;\n  margin: 100px auto;\n  border-radius: 6px;\n  box-shadow: 0 4px 9px 0 rgba(82, 82, 82, 0.47);\n  background-color: #ffffff;\n\n  h1 {\n    text-align: center;\n    font-size: 40px;\n    font-weight: normal;\n    letter-spacing: 0.02px;\n    color: #ffffff;\n    margin-top: 0;\n    background-color: ",";\n    margin-left: -20px;\n    margin-top: -20px;\n    margin-right: -20px;\n    padding: 10px;\n  }\n"]);return nu=function(){return e},e}function au(){var e=k()(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index: 999;\n    background-color: transparent;\n    top:0;\n    left:0;\n    &::-webkit-scrollbar { width: 0 !important }\n    overflow: -moz-scrollbars-none;\n-ms-overflow-style: none;\n    overflow-y:auto;\n    form{\n        display:block;\n        width: 100%;\n        max-width: 445px;\n        margin 0 auto;\n    }\n    p{\n        font-size:  20px;\n        > span{\n            font-weight:bold;\n        }\n    }\n"]);return au=function(){return e},e}var ru=f.c.div(au()),lu=f.c.div(nu(),(function(e){return e.theme.accent})),cu=function(e){X()(n,e);var t=tu(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"sendCloseSignal",(function(t){document.getElementById("MiniPopupBody").contains(t.target)||e.props.close()})),e}return V()(n,[{key:"render",value:function(){return r.a.createElement(ru,{className:"MiniPopupwrap",onClick:this.sendCloseSignal},r.a.createElement(lu,{id:"MiniPopupBody"},this.props.children))}}]),n}(a.Component),ou=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),i=s()(o,2),u=i[0],m=i[1],d=Object(a.useState)(!1),p=s()(d,2),f=p[0],g=(p[1],Object(a.useState)(!1)),h=s()(g,2),b=h[0],v=h[1],y=Object(a.useState)({}),x=s()(y,2),S=x[0],_=x[1],w=function(){c(!0),_({}),v(!1),on(e.ruleType.toLowerCase(),e.bank).then((function(e){m(e.list),c(e.loading)}))};Object(a.useEffect)((function(){w()}),[]);return l?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | ",e.ruleType," Rules")),r.a.createElement(qn,{page:"info",middleTitle:"".concat(e.ruleType," Rule"),goto:"/merchant/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(zl,{active:e.active}),r.a.createElement(Hn,{big:!0},r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement("i",{className:"material-icons"},"supervised_user_circle")),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,e.ruleType," Rules"),r.a.createElement("h5",null,r.a.createElement("strong",null,"Commission created by the Bank")))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Transaction Type"),r.a.createElement("th",null,"Ranges"),r.a.createElement("th",null))),r.a.createElement("tbody",null," ",u&&u.length>0?u.map((function(e){var t=e.ranges;return e.edited&&e.edited.ranges.length>0&&(e.ranges=e.edited.ranges,e.merchant_approve_status=e.edited.merchant_approve_status),r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,(e.status,r.a.createElement("span",null,e.name))),r.a.createElement("td",{className:"tac"},r.a.createElement("span",null," ","M-C"===e.type?"Merchant Cashier Commission":"IBWM-C"===e.type||"IBWM-F"===e.type||"WM-C"===e.type||"WM-F"===e.type?"Wallet to Merchant":"Non Wallet to Merchant")),r.a.createElement("td",null,r.a.createElement("div",null,t.map((function(e){return r.a.createElement("span",{key:t._id},"Range:"," ","".concat("XOF"," ").concat(e.trans_from," - ").concat("XOF"," ").concat(e.trans_to)," ",r.a.createElement("br",null),"Fixed: ","".concat("XOF"," ").concat(e.fixed)," ",r.a.createElement("br",null),"Percentage: ","".concat(e.percentage)," ",r.a.createElement("br",null))})))),r.a.createElement("td",{className:"tac bold"},0===e.merchant_approve_status?r.a.createElement(z,{style:{padding:"5px"},onClick:function(){return function(e){_(e),v(!0)}(e)},className:"addBankButton"},r.a.createElement("span",null,"Approve")):1===e.merchant_approve_status?r.a.createElement("span",null,"Approved"):r.a.createElement("span",null,"Declined")))})):null)))))),b?r.a.createElement(cu,{close:function(){return _({}),void v(!1)}},r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("p",null,r.a.createElement("span",{id:"popname"},"Approve Rule?")),r.a.createElement("p",null," ","Rule Name : ",r.a.createElement("span",{id:"poptype"},S.name)," ",r.a.createElement("br",null),"Transaction Type :",r.a.createElement("span",{id:"poptype"}," ","IBWM-C"===S.type||"IBWM-F"===S.type||"WM-C"===S.type||"WM-F"===S.type?"Wallet to Merchant":"Non-wallet to Merchant")),r.a.createElement("br",null),r.a.createElement(rt,null,r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Range"),r.a.createElement("th",null,"Fixed"),r.a.createElement("th",null,"Percentage"))),r.a.createElement("tbody",null,S.ranges&&S.ranges.length>0?S.ranges.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"tac"},"".concat("XOF"," ").concat(e.trans_from," - ").concat("XOF"," ").concat(e.trans_to)),r.a.createElement("td",{className:"tac"},"".concat("XOF"," ").concat(e.fixed)),r.a.createElement("td",{className:"tac"},"".concat(e.percentage,"%")," "))})):null))),r.a.createElement(rt,null,r.a.createElement(ct,null,r.a.createElement(ha,null,f?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",accentedBtn:!0,disabled:!0,type:"button"},r.a.createElement(oe,null)):r.a.createElement(z,{filledBtn:!0,marginTop:"50px",accentedBtn:!0,style:{padding:"8px"},type:"button",onClick:function(){return un(e.bank,"decline",{rule_id:S._id}).then((function(){w()}))}},r.a.createElement("span",null,"Decline")))),r.a.createElement(ct,null,r.a.createElement(ha,null,f?r.a.createElement(z,{filledBtn:!0,marginTop:"50px",disabled:!0,type:"button"},r.a.createElement(oe,null)):r.a.createElement(z,{onClick:function(){return un(e.bank,"approve",{rule_id:S._id}).then((function(){w()}))},filledBtn:!0,marginTop:"50px",style:{padding:"8px"},type:"button"},r.a.createElement("span",null,"Approve")))))))):null)};var iu=function(e){var t=JSON.parse(localStorage.getItem("selectedBranch"));return Object(a.useEffect)((function(){console.log(e.cashier),console.log(e.cashier),fe(e.type)})),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement(b.d,{initialValues:{name:e.cashier.name||"",working_from:e.cashier.working_from||t.working_from,working_to:e.cashier.working_to||t.working_to,type:e.cashier.type||""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("update"!==e.type){t.next=7;break}return n.position_id=e.cashier._id,n.branch_id=e.cashier.branch_id,t.next=5,sn(e,n,"update");case 5:t.next=10;break;case 7:return n.branch_id=e.branchId,t.next=10,sn(e,n,"create");case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var n=t.values,a=t.isSubmitting,l=t.handleChange,c=t.handleBlur;return r.a.createElement("div",null,r.a.createElement("h1",null,"update"===e.type?"Update Position":"Add Position"),r.a.createElement(b.c,null,r.a.createElement(ha,null,r.a.createElement("label",null,"Staff Position Name*"),r.a.createElement(F,{type:"text",name:"name",onFocus:function(e){l(e),de(e)},onBlur:function(e){c(e),l(e),pe(e)},value:n.name,onChange:l,required:!0})),r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"Type*"),r.a.createElement(ya,{type:"text",name:"type",value:n.type,onChange:l,required:!0},r.a.createElement("option",{value:""},"Select Type*"),r.a.createElement("option",{value:"staff"},"Staff"),r.a.createElement("option",{value:"cashier"},"Cashier"))),r.a.createElement("label",null,"Working Hours"),r.a.createElement("hr",{style:{visibility:"hidden"}}),r.a.createElement(rt,null,r.a.createElement(ct,{cW:"49%",mR:"2%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"From*"),r.a.createElement(F,{type:"time",name:"working_from",min:"00:00",max:"23:00",value:n.working_from,onChange:l,required:!0}))),r.a.createElement(ct,{cW:"49%"},r.a.createElement(ha,null,r.a.createElement("label",{className:"focused"},"To*"),r.a.createElement(F,{type:"time",min:"00:00",max:"23:00",name:"working_to",value:n.working_to,onChange:l,required:!0})))),a?r.a.createElement(z,{disabled:a,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement(oe,null)):r.a.createElement(z,{type:"submit",disabled:a,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},r.a.createElement("span",null," ","update"===e.type?"Update Position":"Add Position"))))})))};var uu=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState("new"),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState([]),p=s()(d,2),f=p[0],g=p[1],h=r.a.useState({}),b=s()(h,2),v=(b[0],b[1],r.a.useState({})),y=s()(v,2),x=y[0],S=y[1],_=r.a.useState(!1),w=s()(_,2),k=w[0],N=w[1],C=e.match.params.id,B=JSON.parse(localStorage.getItem("selectedBranch")).name,O=localStorage.getItem("selectedZone"),P=function(e,t){m(e),S(t),c(!0)},T=function(){var e=et()(Ke.a.mark((function e(){var t;return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,mn(C);case 3:t=e.sent,g(t.list),N(t.loading);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){T()}),[]),k?r.a.createElement(oe,{fullPage:!0}):r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Staff | MERCHANT | E-WALLET ")),r.a.createElement(qn,{page:"info",middleTitle:B,goto:"/merchant/".concat(O,"/branches")}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(Ga,{active:"cashier"}),r.a.createElement(Hn,{big:!0},r.a.createElement(Jn,{marginBottom:"33px",inputWidth:"calc(100% - 241px)",className:"clr"},r.a.createElement("div",{className:"iconedInput fl"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(ea.a,null)),r.a.createElement("input",{type:"text",placeholder:"Search Cashiers"})),r.a.createElement(z,{className:"addBankButton",flex:!0,onClick:function(){return P("new",{})}},r.a.createElement(nt.a,{className:"material-icons"}),r.a.createElement("span",null,"Add Staff Position"))),r.a.createElement(it,{bigPadding:!0},r.a.createElement("div",{className:"cardHeader"},r.a.createElement("div",{className:"cardHeaderLeft"},r.a.createElement($a.a,{className:"material-icons"})),r.a.createElement("div",{className:"cardHeaderRight"},r.a.createElement("h3",null,"Staff Position List"),r.a.createElement("h5",null,"List of your staff"))),r.a.createElement("div",{className:"cardBody"},r.a.createElement(Gn,{marginTop:"34px",smallTd:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Type"))),r.a.createElement("tbody",null,f&&f.length>0?f.map((function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,t.name),r.a.createElement("td",{style:{color:t.is_closed?"red":"green"}},1===t.status?"Opened":"Closed"),r.a.createElement("td",{className:"tac bold green"},t.type,r.a.createElement("span",{className:"absoluteMiddleRight primary popMenuTrigger"},r.a.createElement("i",{className:"material-icons "},"more_vert"),r.a.createElement("div",{className:"popMenu"},r.a.createElement("span",{onClick:function(){var n;localStorage.setItem("".concat(t._id,"_info"),JSON.stringify(t)),e.history.push((n=t._id,"/merchant/cashier/info/".concat(n)))}},"Info"),r.a.createElement("span",{onClick:function(){return P("update",t)}},"Edit")))))})):null)))))),l?r.a.createElement(iu,{type:u,onClose:function(){c(!1)},refreshCashierList:function(e){return T()},cashier:x,branchId:C}):null)};function su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Y()(e);if(t){var r=Y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Z()(this,n)}}function mu(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return mu=function(){return e},e}function du(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return du=function(){return e},e}function pu(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return pu=function(){return e},e}var fu=f.c.aside(pu(),(function(e){return e.marginRight?"33px":"0"})),gu=(f.c.h3(du()),f.c.h1(mu()),function(e){X()(n,e);var t=su(n);function n(){var e;j()(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),L()(U()(e),"editSignal",(function(t){e.props.edit()})),e}return V()(n,[{key:"render",value:function(){var e="info"===this.props.active,t="reports"===this.props.active,n="edit"===this.props.active,a=this.props.name;return r.a.createElement(fu,{marginRight:!0},r.a.createElement(ae,{href:"/merchant/cashier/info/".concat(a)},r.a.createElement(it,{rounded:!0,selected:e,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Staff Position Info"))),r.a.createElement(ae,{href:"/reports/"},r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Sl.a,null)),r.a.createElement("h3",null,"Reports"))),r.a.createElement(it,{rounded:!0,selected:n,className:"sideNav",onClick:this.editSignal},r.a.createElement("i",{className:"material-icons"},r.a.createElement(qa.a,null)),r.a.createElement("h3",null,"Edit")))}}]),n}(a.Component));var hu=function(e){var t=Object(a.useState)(!1),n=s()(t,2),l=n[0],c=n[1],o=e.match.params.id,i=Object(a.useState)(JSON.parse(localStorage.getItem("".concat(o,"_info")))),u=s()(i,2),m=u[0],d=u[1],p=JSON.parse(localStorage.getItem("selectedBranch"));return r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Staff Position | MERCHANT | E-WALLET")),r.a.createElement(qn,{page:"info",middleTitle:m.name,goto:"/merchant/branch/info/".concat(p._id)}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(gu,{edit:function(){c(!0)},name:m.name,active:"info",type:"Cashier"}),r.a.createElement(Hn,null,r.a.createElement(Xr,null),r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Cashier Name"),r.a.createElement(ct,{className:"infoRight"},m.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Working Hours"),r.a.createElement(ct,{className:"infoRight"})),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"From"),r.a.createElement(ct,{className:"infoRight"},m.working_from)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"To"),r.a.createElement(ct,{className:"infoRight"},m.working_to)))))),l?r.a.createElement(iu,{type:"update",refreshCashierList:function(e){return d(e)},onClose:function(){return c(!1)},cashier:m}):null)};function Eu(){var e=k()(["\n  font-size: 28px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #417505;\n  text-align: center;\n"]);return Eu=function(){return e},e}function bu(){var e=k()(["\n  font-size: 11px;\n  font-weight: bold;\n  color: #323c47;\n"]);return bu=function(){return e},e}function vu(){var e=k()(["\n  width: 260px;\n  float: left;\n  margin-right: ",";\n  .anchor {\n    display: block;\n  }\n  :hover {\n    color: #fff;\n  }\n  .material-icons {\n    margin-right: 10px;\n    margin-top: 0;\n    color: #417505;\n    font-family: 'Material Icons';\n    font-weight: normal;\n    font-style: normal;\n    font-size: 24px;\n    line-height: 1;\n    letter-spacing: normal;\n    text-transform: none;\n    display: inline-block;\n    white-space: nowrap;\n    word-wrap: normal;\n    direction: ltr;\n    -webkit-font-feature-settings: 'liga';\n    -webkit-font-smoothing: antialiased;\n  }\n"]);return vu=function(){return e},e}var yu=f.c.aside(vu(),(function(e){return e.marginRight?"33px":"0"}));f.c.h3(bu()),f.c.h1(Eu());var xu=function(e){var t="info"===e.active,n="billnumber"===e.active,a=JSON.parse(localStorage.getItem("cashierLogged")).position.type;return r.a.createElement(yu,{marginRight:!0},r.a.createElement("h3",null,"SETTINGS"),r.a.createElement(ae,{href:"/cashier/settings"},r.a.createElement(it,{rounded:!0,selected:t,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Ma.a,null)),r.a.createElement("h3",null,"Staff Position Info"))),"staff"===a?r.a.createElement(ae,{href:"/cashier/billsettings"},r.a.createElement(it,{rounded:!0,selected:n,className:"sideNav"},r.a.createElement("i",{className:"material-icons"},r.a.createElement(Tl.a,null)),r.a.createElement("h3",null,"Bill Number"))):null)};var Su=function(e){var t=Object(a.useState)(JSON.parse(localStorage.getItem("cashierLogged")).staff),n=s()(t,2),l=n[0],c=(n[1],Object(a.useState)(JSON.parse(localStorage.getItem("cashierLogged")).position)),o=s()(c,2),i=o[0],u=(o[1],JSON.parse(localStorage.getItem("cashierLogged")).position.type);return Object(a.useEffect)((function(){}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Settings | Staff Position | E-WALLET")),r.a.createElement(Ic,{page:"info",middleTitle:l.name,goto:"staff"===u?"/staff/dashboard":"/cashier/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(xu,{active:"info",type:"Cashier"}),r.a.createElement(Hn,{style:{marginTop:"50px"}},r.a.createElement(it,{bigPadding:!0,bordered:!0},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Cashier Name"),r.a.createElement(ct,{className:"infoRight"},l.name)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"Working Hours"),r.a.createElement(ct,{className:"infoRight"})),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"From"),r.a.createElement(ct,{className:"infoRight"},i.working_from)),r.a.createElement(rt,null,r.a.createElement(ct,{className:"infoLeft"},"To"),r.a.createElement(ct,{className:"infoRight"},i.working_to)))))))};var _u=function(e){return Object(a.useEffect)((function(){fe(e.type)}),[]),r.a.createElement(bt,{accentedH1:!0,close:e.onClose.bind(this)},r.a.createElement("h1",null," Set Bill Number Counter "),r.a.createElement(b.d,{initialValues:{counter:""},onSubmit:function(){var t=et()(Ke.a.mark((function t(n){return Ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hr(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting,n=e.handleChange,a=e.handleBlur;return r.a.createElement("div",null,r.a.createElement(b.c,null,r.a.createElement(ue,{textAlign:"start",mB:"14px",background:"#fff"},r.a.createElement("label",{htmlFor:"cdays"},"Counter*"),r.a.createElement(b.b,{type:"number",name:"counter",onFocus:function(e){n(e),de(e)},onBlur:function(e){a(e),n(e),pe(e)},as:F,required:!0}),r.a.createElement(b.a,{name:"counter",component:me})),r.a.createElement(z,{type:"submit",disabled:t,filledBtn:!0,marginTop:"10px",style:{padding:"5px",fontFamily:"Roboto, sans-serif",fontWeight:500}},t?r.a.createElement(st.a,{size:30,thickness:5,color:"primary"}):r.a.createElement("span",null,"Submit"))))})))},wu=function(e){var t=r.a.useState(!1),n=s()(t,2),l=n[0],c=n[1],o=r.a.useState(""),i=s()(o,2),u=i[0],m=i[1],d=r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).merchant.username.slice(0,3)),p=s()(d,2),f=p[0],g=(p[1],r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).branch.username.slice(0,3))),h=s()(g,2),b=h[0],v=(h[1],r.a.useState(JSON.parse(localStorage.getItem("cashierLogged")).position.name)),y=s()(v,2),x=y[0],S=(y[1],r.a.useState(!1)),_=s()(S,2),w=(_[0],_[1],r.a.useState("")),k=s()(w,2),N=(k[0],k[1],r.a.useState("")),C=s()(N,2),B=(C[0],C[1],r.a.useState(!1)),O=s()(B,2),P=(O[0],O[1]),T=function(){var e=et()(Ke.a.mark((function e(){return Ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!0),fr().then((function(e){var t="".concat(f).concat(b).concat(x).concat(e.counter);m(t),P(e.loading)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){T()}),[]),r.a.createElement(da,null,r.a.createElement(E.Helmet,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Merchant | CustomSettings ")),r.a.createElement(Ic,{page:"info",goto:"/staff/dashboard"}),r.a.createElement(zn,{verticalMargin:!0},r.a.createElement(xu,{active:"billnumber",type:"Cashier"}),r.a.createElement(Hn,{big:!0},r.a.createElement(it,{bigPadding:!0,topMargin:"55px"},r.a.createElement("div",{className:"cardBody"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"80%"},r.a.createElement(rt,null,r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,"Current Bill No:")),r.a.createElement(ct,{cw:"50%"},r.a.createElement("h2",null,u))))))))),l?r.a.createElement(_u,{refresbillnumber:function(e){return T(e)},onClose:function(){c(!1)}}):null)};function ku(){var e=k()(["\n  width: 100%;\n"]);return ku=function(){return e},e}var Nu=f.c.div(ku());var Cu=function(e){var t=r.a.useState(!1),n=s()(t,2),l=(n[0],n[1],r.a.useState(!0)),c=s()(l,2),o=c[0],i=c[1],u=r.a.useState([]),m=s()(u,2),d=(m[0],m[1],r.a.useState("new")),p=s()(d,2),f=(p[0],p[1],r.a.useState({})),g=s()(f,2),h=g[0],E=g[1],b=r.a.useState(!1),v=s()(b,2),y=v[0],x=(v[1],r.a.useState(!1)),S=s()(x,2);return S[0],S[1],localStorage.getItem("bankLogo"),localStorage.getItem("cashierLogged"),Object(a.useEffect)((function(){}),[]),y?r.a.createElement(Gc,{fullPage:!0}):r.a.createElement(Nu,{from:"branch"},o?r.a.createElement(No,{close:function(){return i(!1),void E({})},merchant:h}):"")};h.a.load({google:{families:["Roboto: 200,300,400,500"]}});var Bu={primary:"#417505",secondary:"#6cac69",accent:"#f5a623",danger:"#f52828",light:"#9ea0a5",greyLine:"#666565 ",vGradient:"linear-gradient(to bottom, #6cac6a, #102910)",hGradient:"linear-gradient(to right, #6cac6a 1%, #102910)",font:"Roboto",fontSize:"14px",background:"#f5f5f5"};Object(m.a)({palette:{primary:{main:"#417505",hover:"#264503"},white:"white",main:"#417505",vGradient:"linear-gradient(to bottom, #6cac6a, #102910)",hGradient:"linear-gradient(to right, #6cac6a 1%, #102910)",fontSize:"14px"},status:{danger:p.a},typography:{color:"white",fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join()}});var Ou=function(){var e=Object(a.useState)(Bu),t=s()(e,2),n=t[0];return t[1],r.a.createElement("div",null,r.a.createElement(f.a,{theme:n},r.a.createElement(d.c,{history:$,forceRefresh:"true",basename:"/"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:function(e){return r.a.createElement(Le,i()({type:"merchant"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/paybills",component:function(e){return r.a.createElement(Cu,i()({type:"merchant"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/dashboard",component:function(e){return r.a.createElement(ra,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/operationalHistory",component:function(e){return r.a.createElement(ia,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/:id/branches",component:function(e){return r.a.createElement(Ia,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/:id/subzones",component:function(e){return r.a.createElement(La,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/branch/info/:id",component:function(e){return r.a.createElement(Ya,e)}}),r.a.createElement(eu,{apitype:"merchant",type:"merchant",exact:!0,path:"/merchant/branch/reports/:id",component:function(e){return r.a.createElement(Sc,e)}}),r.a.createElement(eu,{apitype:"merchant",type:"merchant",exact:!0,path:"/merchant/staff/reports/:id",component:function(e){return r.a.createElement(Mc,e)}}),r.a.createElement(eu,{apitype:"merchant",type:"merchant",exact:!0,path:"/merchant/cashier/reports/:id",component:function(e){return r.a.createElement(Fo,e)}}),r.a.createElement(eu,{apitype:"merchant",type:"merchant",exact:!0,path:"/merchant/branch/dashboard/:id",component:function(e){return r.a.createElement(pc,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/staff",component:function(e){return r.a.createElement(Na,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/report",component:function(e){return r.a.createElement(Dc,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/offerings",component:function(e){return r.a.createElement(Fr,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/taxes",component:function(e){return r.a.createElement(Hr,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/customers",component:function(e){return r.a.createElement(qr,e)}}),r.a.createElement(eu,{exact:!0,type:"merchant",path:"/merchant/settings",component:function(e){return r.a.createElement(Gi,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/:id/cashiers",component:function(e){return r.a.createElement(uu,i()({type:"merchant"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/cashier/info/:id",component:function(e){return r.a.createElement(hu,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/fee-rules",component:function(e){return r.a.createElement(ou,i()({active:"fee",bank:"intrabank",ruleType:"Fee"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/commission-rules",component:function(e){return r.a.createElement(ou,i()({active:"commission",bank:"intrabank",ruleType:"commission"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/interbank-fee-rules",component:function(e){return r.a.createElement(ou,i()({active:"interbankfee",bank:"interbank",ruleType:"Fee"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/inter-bank-commission-rules",component:function(e){return r.a.createElement(ou,i()({active:"interbankcommission",bank:"interbank",ruleType:"Commission"},e))}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/zoneSettings",component:function(e){return r.a.createElement(Fl,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/billPeriodSettings",component:function(e){return r.a.createElement(ql,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/billTermSettings",component:function(e){return r.a.createElement(Zl,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/penalty",component:function(e){return r.a.createElement(Jl,e)}}),r.a.createElement(eu,{type:"merchant",exact:!0,path:"/merchant/settings/categorySettings",component:function(e){return r.a.createElement(Hl,e)}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/:name",component:function(e){return r.a.createElement(Le,i()({type:"merchant"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/:name/login",component:function(e){return r.a.createElement(Le,i()({type:"merchant"},e))}}),r.a.createElement(eu,{exact:!0,type:"merchant",path:"/merchant/:name/login-verify",component:function(e){return r.a.createElement(We,i()({type:"merchant"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/:name/forgot-password",component:function(e){return r.a.createElement(He,i()({type:"merchant"},e))}}),r.a.createElement(Ki,{exact:!0,type:"merchant",path:"/merchant/:name/otp-forgot-password",component:function(e){return r.a.createElement(Qe,e)}}),r.a.createElement(eu,{type:"branch",apitype:"merchantBranch",exact:!0,path:"/branch/dashboard",component:function(e){return r.a.createElement(pc,e)}}),r.a.createElement(eu,{type:"branch",exact:!0,apitype:"merchantBranch",path:"/branch/reports",component:function(e){return r.a.createElement(Sc,e)}}),r.a.createElement(eu,{type:"branch",exact:!0,path:"/branch/cashier/info/:id",component:function(e){return r.a.createElement(vl,i()({type:"branch"},e))}}),r.a.createElement(eu,{type:"branch",apitype:"merchantBranch",exact:!0,path:"/branch/staff/report/:id",component:function(e){return r.a.createElement(Mc,i()({type:"branch"},e))}}),r.a.createElement(eu,{type:"branch",apitype:"merchantBranch",exact:!0,path:"/branch/cashier/report/:id",component:function(e){return r.a.createElement(Fo,i()({type:"branch"},e))}}),r.a.createElement(eu,{type:"branch",exact:!0,path:"/branch/settings",component:function(e){return r.a.createElement(Ol,e)}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/branch/:name",component:function(e){return r.a.createElement(Le,i()({type:"branch"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/branch/:name/login",component:function(e){return r.a.createElement(Le,i()({type:"branch"},e))}}),r.a.createElement(eu,{exact:!0,type:"branch",path:"/branch/:name/login-verify",component:function(e){return r.a.createElement(We,i()({type:"branch"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/branch/:name/forgot-password",component:function(e){return r.a.createElement(He,i()({type:"branch"},e))}}),r.a.createElement(Ki,{type:"branch",exact:!0,path:"/branch/:name/otp-forgot-password",component:function(e){return r.a.createElement(Qe,e)}}),r.a.createElement(eu,{type:"cashier",exact:!0,path:"/staff/dashboard",component:function(e){return r.a.createElement(Hi,e)}}),r.a.createElement(eu,{type:"cashier",apitype:"merchantPosition",exact:!0,path:"/staff/reports",component:function(e){return r.a.createElement(Mc,e)}}),r.a.createElement(eu,{type:"cashier",apitype:"merchantPosition",exact:!0,path:"/cashier/reports",component:function(e){return r.a.createElement(Fo,e)}}),r.a.createElement(eu,{type:"cashier",exact:!0,path:"/cashier/dashboard",component:function(e){return r.a.createElement(wi,e)}}),r.a.createElement(eu,{type:"cashier",exact:!0,path:"/cashier/:id/invoices",component:function(e){return r.a.createElement(Hi,e)}}),r.a.createElement(eu,{type:"cashier",exact:!0,path:"/cashier/settings",component:function(e){return r.a.createElement(Su,e)}}),r.a.createElement(eu,{type:"cashier",exact:!0,path:"/cashier/billsettings",component:function(e){return r.a.createElement(wu,e)}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/cashier/:name",component:function(e){return r.a.createElement(Le,i()({type:"cashier"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/merchant/cashier/:name/login",component:function(e){return r.a.createElement(Le,i()({type:"cashier"},e))}}),r.a.createElement(eu,{exact:!0,type:"cashier",path:"/cashier/:name/login-verify",component:function(e){return r.a.createElement(We,i()({type:"cashier"},e))}}),r.a.createElement(d.b,{exact:!0,path:"/cashier/:name/forgot-password",component:function(e){return r.a.createElement(He,i()({type:"cashier"},e))}}),r.a.createElement(Ki,{exact:!0,type:"cashier",path:"/cashier/:name/otp-forgot-password",component:function(e){return r.a.createElement(Qe,e)}})),r.a.createElement(Jr,null))))};n(540);c.a.render(r.a.createElement(Ou),document.getElementById("root"))}});
//# sourceMappingURL=main.fc2b4735d02268493958.js.map